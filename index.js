import{R as lt,r as y,j as n,c as Tc,a as fe,B as ds,C as mt,X as Ye,Y as Xe,T as ge,L as ur,b as Ze,A as hr,d as kt,P as Zs,e as Qs,f as Qt,g as Qi,h as Fn,i as Dc,k as Ec,l as Mc,m as Pc,n as Rc}from"./charts-CmGVQ_6m.js";import{a as Ic,g as Fc}from"./vendor-BRY8hXab.js";import{i as Bc,g as $c,a as Oc,p as Lc,b as Vc,o as pe,q as oe,c as He,d as X,e as us,f as ce,u as Fe,T as me,h as It,j as Tt,k as Ms,s as zc,l as ma,w as Gc,m as Se,n as Uc,r as qc,t as Kc,G as Wc,v as Hc,x as Yc}from"./firebase-jU2Np0gR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();var As={},pa;function Xc(){if(pa)return As;pa=1;var e=Ic();return As.createRoot=e.createRoot,As.hydrateRoot=e.hydrateRoot,As}var Zc=Xc();const Qc=Fc(Zc),Jc={apiKey:"AIzaSyBT3UJTHLuBQaB9kK0539-acw8ertf__vY",authDomain:"smarter-investment.firebaseapp.com",projectId:"smarter-investment",storageBucket:"smarter-investment.firebasestorage.app",messagingSenderId:"1037439323005",appId:"1:1037439323005:web:43b7b89a9c4a0313c45a14"},Ji=Bc(Jc),xe=$c(Ji),G=Oc(Ji,{localCache:Lc({tabManager:Vc()})}),fa=e=>{let t;const s=new Set,r=(d,u)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=u??(typeof h!="object"||h===null)?h:Object.assign({},t,h),s.forEach(f=>f(t,m))}},a=()=>t,l={setState:r,getState:a,getInitialState:()=>c,subscribe:d=>(s.add(d),()=>s.delete(d))},c=t=e(r,a,l);return l},ed=(e=>e?fa(e):fa),td=e=>e;function sd(e,t=td){const s=lt.useSyncExternalStore(e.subscribe,lt.useCallback(()=>t(e.getState()),[e,t]),lt.useCallback(()=>t(e.getInitialState()),[e,t]));return lt.useDebugValue(s),s}const nd=e=>{const t=ed(e),s=r=>sd(t,r);return Object.assign(s,t),s},rd=(e=>nd);function eo(e,t){let s;try{s=e()}catch{return}return{getItem:a=>{var o;const i=c=>c===null?null:JSON.parse(c,void 0),l=(o=s.getItem(a))!=null?o:null;return l instanceof Promise?l.then(i):i(l)},setItem:(a,o)=>s.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>s.removeItem(a)}}const Bn=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(r){return Bn(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return Bn(r)(s)}}}},ad=(e,t)=>(s,r,a)=>{let o={storage:eo(()=>localStorage),partialize:v=>v,version:0,merge:(v,w)=>({...w,...v}),...t},i=!1;const l=new Set,c=new Set;let d=o.storage;if(!d)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),s(...v)},r,a);const u=()=>{const v=o.partialize({...r()});return d.setItem(o.name,{state:v,version:o.version})},h=a.setState;a.setState=(v,w)=>(h(v,w),u());const m=e((...v)=>(s(...v),u()),r,a);a.getInitialState=()=>m;let f;const N=()=>{var v,w;if(!d)return;i=!1,l.forEach(x=>{var g;return x((g=r())!=null?g:m)});const p=((w=o.onRehydrateStorage)==null?void 0:w.call(o,(v=r())!=null?v:m))||void 0;return Bn(d.getItem.bind(d))(o.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==o.version){if(o.migrate){const g=o.migrate(x.state,x.version);return g instanceof Promise?g.then(_=>[!0,_]):[!0,g]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var g;const[_,T]=x;if(f=o.merge(T,(g=r())!=null?g:m),s(f,!0),_)return u()}).then(()=>{p==null||p(f,void 0),f=r(),i=!0,c.forEach(x=>x(f))}).catch(x=>{p==null||p(void 0,x)})};return a.persist={setOptions:v=>{o={...o,...v},v.storage&&(d=v.storage)},clearStorage:()=>{d==null||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>N(),hasHydrated:()=>i,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},o.skipHydration||N(),f||m},id=ad;var to=Symbol.for("immer-nothing"),ga=Symbol.for("immer-draftable"),be=Symbol.for("immer-state");function Ce(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jt=Object.getPrototypeOf;function Dt(e){return!!e&&!!e[be]}function pt(e){var t;return e?so(e)||Array.isArray(e)||!!e[ga]||!!((t=e.constructor)!=null&&t[ga])||hs(e)||en(e):!1}var od=Object.prototype.constructor.toString(),xa=new WeakMap;function so(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(s===Object)return!0;if(typeof s!="function")return!1;let r=xa.get(s);return r===void 0&&(r=Function.toString.call(s),xa.set(s,r)),r===od}function $s(e,t,s=!0){Js(e)===0?(s?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Js(e){const t=e[be];return t?t.type_:Array.isArray(e)?1:hs(e)?2:en(e)?3:0}function $n(e,t){return Js(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function no(e,t,s){const r=Js(e);r===2?e.set(t,s):r===3?e.add(s):e[t]=s}function ld(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function hs(e){return e instanceof Map}function en(e){return e instanceof Set}function at(e){return e.copy_||e.base_}function On(e,t){if(hs(e))return new Map(e);if(en(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=so(e);if(t===!0||t==="class_only"&&!s){const r=Object.getOwnPropertyDescriptors(e);delete r[be];let a=Reflect.ownKeys(r);for(let o=0;o<a.length;o++){const i=a[o],l=r[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(Jt(e),r)}else{const r=Jt(e);if(r!==null&&s)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function mr(e,t=!1){return tn(e)||Dt(e)||!pt(e)||(Js(e)>1&&Object.defineProperties(e,{set:Cs,add:Cs,clear:Cs,delete:Cs}),Object.freeze(e),t&&Object.values(e).forEach(s=>mr(s,!0))),e}function cd(){Ce(2)}var Cs={value:cd};function tn(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var dd={};function ft(e){const t=dd[e];return t||Ce(0,e),t}var es;function ro(){return es}function ud(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ya(e,t){t&&(ft("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ln(e){Vn(e),e.drafts_.forEach(hd),e.drafts_=null}function Vn(e){e===es&&(es=e.parent_)}function ba(e){return es=ud(es,e)}function hd(e){const t=e[be];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function va(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return e!==void 0&&e!==s?(s[be].modified_&&(Ln(t),Ce(4)),pt(e)&&(e=Os(t,e),t.parent_||Ls(t,e)),t.patches_&&ft("Patches").generateReplacementPatches_(s[be].base_,e,t.patches_,t.inversePatches_)):e=Os(t,s,[]),Ln(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==to?e:void 0}function Os(e,t,s){if(tn(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[be];if(!a)return $s(t,(o,i)=>wa(e,a,t,o,i,s),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Ls(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const o=a.copy_;let i=o,l=!1;a.type_===3&&(i=new Set(o),o.clear(),l=!0),$s(i,(c,d)=>wa(e,a,o,c,d,s,l),r),Ls(e,o,!1),s&&e.patches_&&ft("Patches").generatePatches_(a,s,e.patches_,e.inversePatches_)}return a.copy_}function wa(e,t,s,r,a,o,i){if(a==null||typeof a!="object"&&!i)return;const l=tn(a);if(!(l&&!i)){if(Dt(a)){const c=o&&t&&t.type_!==3&&!$n(t.assigned_,r)?o.concat(r):void 0,d=Os(e,a,c);if(no(s,r,d),Dt(d))e.canAutoFreeze_=!1;else return}else i&&s.add(a);if(pt(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&l)return;Os(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(hs(s)?s.has(r):Object.prototype.propertyIsEnumerable.call(s,r))&&Ls(e,a)}}}function Ls(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mr(t,s)}function md(e,t){const s=Array.isArray(e),r={type_:s?1:0,scope_:t?t.scope_:ro(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,o=pr;s&&(a=[r],o=ts);const{revoke:i,proxy:l}=Proxy.revocable(a,o);return r.draft_=l,r.revoke_=i,l}var pr={get(e,t){if(t===be)return e;const s=at(e);if(!$n(s,t))return pd(e,s,t);const r=s[t];return e.finalized_||!pt(r)?r:r===fn(e.base_,t)?(gn(e),e.copy_[t]=Gn(r,e)):r},has(e,t){return t in at(e)},ownKeys(e){return Reflect.ownKeys(at(e))},set(e,t,s){const r=ao(at(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,s),!0;if(!e.modified_){const a=fn(at(e),t),o=a==null?void 0:a[be];if(o&&o.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(ld(s,a)&&(s!==void 0||$n(e.base_,t)))return!0;gn(e),zn(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty(e,t){return fn(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,gn(e),zn(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=at(e),r=Reflect.getOwnPropertyDescriptor(s,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:s[t]}},defineProperty(){Ce(11)},getPrototypeOf(e){return Jt(e.base_)},setPrototypeOf(){Ce(12)}},ts={};$s(pr,(e,t)=>{ts[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ts.deleteProperty=function(e,t){return ts.set.call(this,e,t,void 0)};ts.set=function(e,t,s){return pr.set.call(this,e[0],t,s,e[0])};function fn(e,t){const s=e[be];return(s?at(s):e)[t]}function pd(e,t,s){var a;const r=ao(t,s);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(e.draft_):void 0}function ao(e,t){if(!(t in e))return;let s=Jt(e);for(;s;){const r=Object.getOwnPropertyDescriptor(s,t);if(r)return r;s=Jt(s)}}function zn(e){e.modified_||(e.modified_=!0,e.parent_&&zn(e.parent_))}function gn(e){e.copy_||(e.copy_=On(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var fd=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,s,r)=>{if(typeof t=="function"&&typeof s!="function"){const o=s;s=t;const i=this;return function(c=o,...d){return i.produce(c,u=>s.call(this,u,...d))}}typeof s!="function"&&Ce(6),r!==void 0&&typeof r!="function"&&Ce(7);let a;if(pt(t)){const o=ba(this),i=Gn(t,void 0);let l=!0;try{a=s(i),l=!1}finally{l?Ln(o):Vn(o)}return ya(o,r),va(a,o)}else if(!t||typeof t!="object"){if(a=s(t),a===void 0&&(a=t),a===to&&(a=void 0),this.autoFreeze_&&mr(a,!0),r){const o=[],i=[];ft("Patches").generateReplacementPatches_(t,a,o,i),r(o,i)}return a}else Ce(1,t)},this.produceWithPatches=(t,s)=>{if(typeof t=="function")return(i,...l)=>this.produceWithPatches(i,c=>t(c,...l));let r,a;return[this.produce(t,s,(i,l)=>{r=i,a=l}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){pt(e)||Ce(8),Dt(e)&&(e=gd(e));const t=ba(this),s=Gn(e,void 0);return s[be].isManual_=!0,Vn(t),s}finishDraft(e,t){const s=e&&e[be];(!s||!s.isManual_)&&Ce(9);const{scope_:r}=s;return ya(r,t),va(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const a=t[s];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}s>-1&&(t=t.slice(s+1));const r=ft("Patches").applyPatches_;return Dt(e)?r(e,t):this.produce(e,a=>r(a,t))}};function Gn(e,t){const s=hs(e)?ft("MapSet").proxyMap_(e,t):en(e)?ft("MapSet").proxySet_(e,t):md(e,t);return(t?t.scope_:ro()).drafts_.push(s),s}function gd(e){return Dt(e)||Ce(10,e),io(e)}function io(e){if(!pt(e)||tn(e))return e;const t=e[be];let s,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=On(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else s=On(e,!0);return $s(s,(a,o)=>{no(s,a,io(o))},r),t&&(t.finalized_=!1),s}var xd=new fd,yd=xd.produce;const bd=e=>(t,s,r)=>(r.setState=(a,o,...i)=>{const l=typeof a=="function"?yd(a):a;return t(l,o,...i)},e(r.setState,s,r)),vd=bd,ja={user:null,isAuthenticated:!1,isAuthLoading:!0,expenses:[],incomes:[],budgets:{},budgetDetails:[],goals:[],recurringTransactions:[],notifications:[],isLoading:!1,loadingMessage:"",activePage:"dashboard",sidebarOpen:!1,modalStack:[],settingsTab:"general",theme:"dark",language:"es",currency:"USD",transactionFilters:{type:"all"}},de=rd()(id(vd((e,t)=>({...ja,setUser:s=>e(r=>{r.user=s,r.isAuthenticated=!!s,r.isAuthLoading=!1}),setAuthLoading:s=>e(r=>{r.isAuthLoading=s}),logout:()=>e(s=>{s.user=null,s.isAuthenticated=!1,s.expenses=[],s.incomes=[],s.budgets={},s.budgetDetails=[],s.goals=[],s.recurringTransactions=[],s.notifications=[]}),setExpenses:s=>e(r=>{r.expenses=Array.isArray(s)?s:[]}),setIncomes:s=>e(r=>{r.incomes=Array.isArray(s)?s:[]}),addTransaction:s=>e(r=>{Array.isArray(r.expenses)||(r.expenses=[]),Array.isArray(r.incomes)||(r.incomes=[]),s.type==="expense"?r.expenses.unshift(s):r.incomes.unshift(s)}),updateTransaction:(s,r)=>e(a=>{Array.isArray(a.expenses)||(a.expenses=[]),Array.isArray(a.incomes)||(a.incomes=[]);const o=a.expenses.findIndex(l=>l.id===s);if(o!==-1){a.expenses[o]={...a.expenses[o],...r};return}const i=a.incomes.findIndex(l=>l.id===s);i!==-1&&(a.incomes[i]={...a.incomes[i],...r})}),deleteTransaction:(s,r)=>e(a=>{Array.isArray(a.expenses)||(a.expenses=[]),Array.isArray(a.incomes)||(a.incomes=[]),r==="expense"?a.expenses=a.expenses.filter(o=>o.id!==s):a.incomes=a.incomes.filter(o=>o.id!==s)}),setBudgets:s=>e(r=>{r.budgets=s}),setBudgetDetails:s=>e(r=>{r.budgetDetails=Array.isArray(s)?s:[]}),updateBudget:(s,r)=>e(a=>{a.budgets[s]=r}),deleteBudget:s=>e(r=>{delete r.budgets[s]}),setGoals:s=>e(r=>{r.goals=Array.isArray(s)?s:[]}),addGoal:s=>e(r=>{Array.isArray(r.goals)||(r.goals=[]),r.goals.unshift(s)}),updateGoal:(s,r)=>e(a=>{Array.isArray(a.goals)||(a.goals=[]);const o=a.goals.findIndex(i=>i.id===s);o!==-1&&(a.goals[o]={...a.goals[o],...r})}),deleteGoal:s=>e(r=>{Array.isArray(r.goals)||(r.goals=[]),r.goals=r.goals.filter(a=>a.id!==s)}),addContribution:(s,r)=>e(a=>{Array.isArray(a.goals)||(a.goals=[]);const o=a.goals.find(i=>i.id===s);o&&(o.currentAmount+=r,o.currentAmount>=o.targetAmount&&(o.isCompleted=!0,o.completedAt=new Date))}),setRecurringTransactions:s=>e(r=>{r.recurringTransactions=Array.isArray(s)?s:[]}),addRecurring:s=>e(r=>{Array.isArray(r.recurringTransactions)||(r.recurringTransactions=[]),r.recurringTransactions.unshift(s)}),updateRecurring:(s,r)=>e(a=>{Array.isArray(a.recurringTransactions)||(a.recurringTransactions=[]);const o=a.recurringTransactions.findIndex(i=>i.id===s);o!==-1&&(a.recurringTransactions[o]={...a.recurringTransactions[o],...r})}),deleteRecurring:s=>e(r=>{Array.isArray(r.recurringTransactions)||(r.recurringTransactions=[]),r.recurringTransactions=r.recurringTransactions.filter(a=>a.id!==s)}),setNotifications:s=>e(r=>{r.notifications=Array.isArray(s)?s:[]}),addNotification:s=>e(r=>{Array.isArray(r.notifications)||(r.notifications=[]),r.notifications.unshift(s)}),markNotificationRead:s=>e(r=>{Array.isArray(r.notifications)||(r.notifications=[]);const a=r.notifications.find(o=>o.id===s);a&&(a.isRead=!0)}),markAllNotificationsRead:()=>e(s=>{Array.isArray(s.notifications)||(s.notifications=[]),s.notifications.forEach(r=>{r.isRead=!0})}),deleteNotification:s=>e(r=>{Array.isArray(r.notifications)||(r.notifications=[]),r.notifications=r.notifications.filter(a=>a.id!==s)}),clearNotifications:()=>e(s=>{s.notifications=[]}),setLoading:(s,r="")=>e(a=>{a.isLoading=s,a.loadingMessage=r}),setActivePage:s=>e(r=>{r.activePage=s}),setSettingsTab:s=>e(r=>{r.settingsTab=s}),toggleSidebar:()=>e(s=>{s.sidebarOpen=!s.sidebarOpen}),openModal:s=>e(r=>{r.modalStack.push(s)}),closeModal:s=>e(r=>{s?r.modalStack=r.modalStack.filter(a=>a.id!==s):r.modalStack.pop()}),closeAllModals:()=>e(s=>{s.modalStack=[]}),setTheme:s=>e(r=>{r.theme=s,oo(s)}),setLanguage:s=>e(r=>{r.language=s}),setCurrency:s=>e(r=>{r.currency=s}),setTransactionFilters:s=>e(r=>{r.transactionFilters={...r.transactionFilters,...s}}),clearTransactionFilters:()=>e(s=>{s.transactionFilters={type:"all"}}),resetStore:()=>e(ja)})),{name:"smarter-investment-storage",storage:eo(()=>localStorage),partialize:e=>({theme:e.theme,language:e.language,currency:e.currency})})),oo=e=>{const t=document.documentElement,s=document.body;switch(t.classList.remove("dark","theme-pink","theme-purple","theme-turquoise"),s.classList.remove("bg-gradient-dark","bg-gradient-pink","bg-gradient-purple","bg-gradient-turquoise"),t.classList.add("dark"),e){case"dark":s.style.background="#000000";break;case"pink":t.classList.add("theme-pink"),s.style.background="#000000";break;case"purple":t.classList.add("theme-purple"),s.style.background="#000000";break;case"turquoise":t.classList.add("theme-turquoise"),s.style.background="#000000";break;default:s.style.background="#000000"}},_e=e=>{switch(e){case"pink":return{primary:"#ec4899",secondary:"#db2777",accent:"#be185d",glow:"shadow-glow-pink"};case"purple":return{primary:"#a855f7",secondary:"#9333ea",accent:"#7c3aed",glow:"shadow-glow-purple"};case"turquoise":return{primary:"#14b8a6",secondary:"#0d9488",accent:"#0f766e",glow:"shadow-glow-turquoise"};default:return{primary:"#05BFDB",secondary:"#088395",accent:"#0A4D68",glow:"shadow-glow"}}},fr=y.createContext({});function gr(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const sn=y.createContext(null),xr=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class wd extends y.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function jd({children:e,isPresent:t}){const s=y.useId(),r=y.useRef(null),a=y.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=y.useContext(xr);return y.useInsertionEffect(()=>{const{width:i,height:l,top:c,left:d}=a.current;if(t||!r.current||!i||!l)return;r.current.dataset.motionPopId=s;const u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),n.jsx(wd,{isPresent:t,childRef:r,sizeRef:a,children:y.cloneElement(e,{ref:r})})}const Nd=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:i})=>{const l=gr(_d),c=y.useId(),d=y.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),u=y.useMemo(()=>({id:c,initial:t,isPresent:s,custom:a,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),o?[Math.random(),d]:[s,d]);return y.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[s]),y.useEffect(()=>{!s&&!l.size&&r&&r()},[s]),i==="popLayout"&&(e=n.jsx(jd,{isPresent:s,children:e})),n.jsx(sn.Provider,{value:u,children:e})};function _d(){return new Map}function lo(e=!0){const t=y.useContext(sn);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:a}=t,o=y.useId();y.useEffect(()=>{e&&a(o)},[e]);const i=y.useCallback(()=>e&&r&&r(o),[o,r,e]);return!s&&r?[!1,i]:[!0]}const Ss=e=>e.key||"";function Na(e){const t=[];return y.Children.forEach(e,s=>{y.isValidElement(s)&&t.push(s)}),t}const yr=typeof window<"u",co=yr?y.useLayoutEffect:y.useEffect,ke=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:i=!1})=>{const[l,c]=lo(i),d=y.useMemo(()=>Na(e),[e]),u=i&&!l?[]:d.map(Ss),h=y.useRef(!0),m=y.useRef(d),f=gr(()=>new Map),[N,v]=y.useState(d),[w,p]=y.useState(d);co(()=>{h.current=!1,m.current=d;for(let _=0;_<w.length;_++){const T=Ss(w[_]);u.includes(T)?f.delete(T):f.get(T)!==!0&&f.set(T,!1)}},[w,u.length,u.join("-")]);const x=[];if(d!==N){let _=[...d];for(let T=0;T<w.length;T++){const b=w[T],j=Ss(b);u.includes(j)||(_.splice(T,0,b),x.push(b))}o==="wait"&&x.length&&(_=x),p(Na(_)),v(d);return}const{forceRender:g}=y.useContext(fr);return n.jsx(n.Fragment,{children:w.map(_=>{const T=Ss(_),b=i&&!l?!1:d===w||u.includes(T),j=()=>{if(f.has(T))f.set(T,!0);else return;let M=!0;f.forEach($=>{$||(M=!1)}),M&&(g==null||g(),p(m.current),i&&(c==null||c()),r&&r())};return n.jsx(Nd,{isPresent:b,initial:!h.current||s?void 0:!1,custom:b?void 0:t,presenceAffectsLayout:a,mode:o,onExitComplete:b?void 0:j,children:_},T)})})},ye=e=>e;let uo=ye;function br(e){let t;return()=>(t===void 0&&(t=e()),t)}const Et=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r},Le=e=>e*1e3,Ve=e=>e/1e3,Ad={useManualTiming:!1};function Cd(e){let t=new Set,s=new Set,r=!1,a=!1;const o=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),e()),d(i)}const c={schedule:(d,u=!1,h=!1)=>{const f=h&&r?t:s;return u&&o.add(d),f.has(d)||f.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(i=d,r){a=!0;return}r=!0,[t,s]=[s,t],t.forEach(l),t.clear(),r=!1,a&&(a=!1,c.process(d))}};return c}const ks=["read","resolveKeyframes","update","preRender","render","postRender"],Sd=40;function ho(e,t){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,i=ks.reduce((p,x)=>(p[x]=Cd(o),p),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:m}=i,f=()=>{const p=performance.now();s=!1,a.delta=r?1e3/60:Math.max(Math.min(p-a.timestamp,Sd),1),a.timestamp=p,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),m.process(a),a.isProcessing=!1,s&&t&&(r=!1,e(f))},N=()=>{s=!0,r=!0,a.isProcessing||e(f)};return{schedule:ks.reduce((p,x)=>{const g=i[x];return p[x]=(_,T=!1,b=!1)=>(s||N(),g.schedule(_,T,b)),p},{}),cancel:p=>{for(let x=0;x<ks.length;x++)i[ks[x]].cancel(p)},state:a,steps:i}}const{schedule:Q,cancel:Qe,state:le,steps:xn}=ho(typeof requestAnimationFrame<"u"?requestAnimationFrame:ye,!0),mo=y.createContext({strict:!1}),_a={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mt={};for(const e in _a)Mt[e]={isEnabled:t=>_a[e].some(s=>!!t[s])};function kd(e){for(const t in e)Mt[t]={...Mt[t],...e[t]}}const Td=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vs(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Td.has(e)}let po=e=>!Vs(e);function Dd(e){e&&(po=t=>t.startsWith("on")?!Vs(t):e(t))}try{Dd(require("@emotion/is-prop-valid").default)}catch{}function Ed(e,t,s){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(po(a)||s===!0&&Vs(a)||!t&&!Vs(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function Md(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...r)=>e(...r);return new Proxy(s,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const nn=y.createContext({});function ss(e){return typeof e=="string"||Array.isArray(e)}function rn(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const vr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wr=["initial",...vr];function an(e){return rn(e.animate)||wr.some(t=>ss(e[t]))}function fo(e){return!!(an(e)||e.variants)}function Pd(e,t){if(an(e)){const{initial:s,animate:r}=e;return{initial:s===!1||ss(s)?s:void 0,animate:ss(r)?r:void 0}}return e.inherit!==!1?t:{}}function Rd(e){const{initial:t,animate:s}=Pd(e,y.useContext(nn));return y.useMemo(()=>({initial:t,animate:s}),[Aa(t),Aa(s)])}function Aa(e){return Array.isArray(e)?e.join(" "):e}const Id=Symbol.for("motionComponentSymbol");function wt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Fd(e,t,s){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):wt(s)&&(s.current=r))},[t])}const jr=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bd="framerAppearId",go="data-"+jr(Bd),{schedule:Nr}=ho(queueMicrotask,!1),xo=y.createContext({});function $d(e,t,s,r,a){var o,i;const{visualElement:l}=y.useContext(nn),c=y.useContext(mo),d=y.useContext(sn),u=y.useContext(xr).reducedMotion,h=y.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,f=y.useContext(xo);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&Od(h.current,s,a,f);const N=y.useRef(!1);y.useInsertionEffect(()=>{m&&N.current&&m.update(s,d)});const v=s[go],w=y.useRef(!!v&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,v))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,v)));return co(()=>{m&&(N.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Nr.render(m.render),w.current&&m.animationState&&m.animationState.animateChanges())}),y.useEffect(()=>{m&&(!w.current&&m.animationState&&m.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,v)}),w.current=!1))}),m}function Od(e,t,s,r){const{layoutId:a,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:yo(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!i||l&&wt(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function yo(e){if(e)return e.options.allowProjection!==!1?e.projection:yo(e.parent)}function Ld({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:a}){var o,i;e&&kd(e);function l(d,u){let h;const m={...y.useContext(xr),...d,layoutId:Vd(d)},{isStatic:f}=m,N=Rd(d),v=r(d,f);if(!f&&yr){zd();const w=Gd(m);h=w.MeasureLayout,N.visualElement=$d(a,v,m,t,w.ProjectionNode)}return n.jsxs(nn.Provider,{value:N,children:[h&&N.visualElement?n.jsx(h,{visualElement:N.visualElement,...m}):null,s(a,d,Fd(v,N.visualElement,u),v,f,N.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(i=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&i!==void 0?i:""})`}`;const c=y.forwardRef(l);return c[Id]=a,c}function Vd({layoutId:e}){const t=y.useContext(fr).id;return t&&e!==void 0?t+"-"+e:e}function zd(e,t){y.useContext(mo).strict}function Gd(e){const{drag:t,layout:s}=Mt;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ud=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _r(e){return typeof e!="string"||e.includes("-")?!1:!!(Ud.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ca(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function Ar(e,t,s,r){if(typeof t=="function"){const[a,o]=Ca(r);t=t(s!==void 0?s:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=Ca(r);t=t(s!==void 0?s:e.custom,a,o)}return t}const Un=e=>Array.isArray(e),qd=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Kd=e=>Un(e)?e[e.length-1]||0:e,he=e=>!!(e&&e.getVelocity);function Ps(e){const t=he(e)?e.get():e;return qd(t)?t.toValue():t}function Wd({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:s},r,a,o){const i={latestValues:Hd(r,a,o,e),renderState:t()};return s&&(i.onMount=l=>s({props:r,current:l,...i}),i.onUpdate=l=>s(l)),i}const bo=e=>(t,s)=>{const r=y.useContext(nn),a=y.useContext(sn),o=()=>Wd(e,t,r,a);return s?o():gr(o)};function Hd(e,t,s,r){const a={},o=r(e,{});for(const m in o)a[m]=Ps(o[m]);let{initial:i,animate:l}=e;const c=an(e),d=fo(e);t&&d&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||i===!1;const h=u?l:i;if(h&&typeof h!="boolean"&&!rn(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const N=Ar(e,m[f]);if(N){const{transitionEnd:v,transition:w,...p}=N;for(const x in p){let g=p[x];if(Array.isArray(g)){const _=u?g.length-1:0;g=g[_]}g!==null&&(a[x]=g)}for(const x in v)a[x]=v[x]}}}return a}const Ft=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xt=new Set(Ft),vo=e=>t=>typeof t=="string"&&t.startsWith(e),wo=vo("--"),Yd=vo("var(--"),Cr=e=>Yd(e)?Xd.test(e.split("/*")[0].trim()):!1,Xd=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jo=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ze=(e,t,s)=>s>t?t:s<e?e:s,Bt={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ns={...Bt,transform:e=>ze(0,1,e)},Ts={...Bt,default:1},ms=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ke=ms("deg"),Re=ms("%"),z=ms("px"),Zd=ms("vh"),Qd=ms("vw"),Sa={...Re,parse:e=>Re.parse(e)/100,transform:e=>Re.transform(e*100)},Jd={borderWidth:z,borderTopWidth:z,borderRightWidth:z,borderBottomWidth:z,borderLeftWidth:z,borderRadius:z,radius:z,borderTopLeftRadius:z,borderTopRightRadius:z,borderBottomRightRadius:z,borderBottomLeftRadius:z,width:z,maxWidth:z,height:z,maxHeight:z,top:z,right:z,bottom:z,left:z,padding:z,paddingTop:z,paddingRight:z,paddingBottom:z,paddingLeft:z,margin:z,marginTop:z,marginRight:z,marginBottom:z,marginLeft:z,backgroundPositionX:z,backgroundPositionY:z},eu={rotate:Ke,rotateX:Ke,rotateY:Ke,rotateZ:Ke,scale:Ts,scaleX:Ts,scaleY:Ts,scaleZ:Ts,skew:Ke,skewX:Ke,skewY:Ke,distance:z,translateX:z,translateY:z,translateZ:z,x:z,y:z,z,perspective:z,transformPerspective:z,opacity:ns,originX:Sa,originY:Sa,originZ:z},ka={...Bt,transform:Math.round},Sr={...Jd,...eu,zIndex:ka,size:z,fillOpacity:ns,strokeOpacity:ns,numOctaves:ka},tu={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},su=Ft.length;function nu(e,t,s){let r="",a=!0;for(let o=0;o<su;o++){const i=Ft[o],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=jo(l,Sr[i]);if(!c){a=!1;const u=tu[i]||i;r+=`${u}(${d}) `}s&&(t[i]=d)}}return r=r.trim(),s?r=s(t,a?"":r):a&&(r="none"),r}function kr(e,t,s){const{style:r,vars:a,transformOrigin:o}=e;let i=!1,l=!1;for(const c in t){const d=t[c];if(xt.has(c)){i=!0;continue}else if(wo(c)){a[c]=d;continue}else{const u=jo(d,Sr[c]);c.startsWith("origin")?(l=!0,o[c]=u):r[c]=u}}if(t.transform||(i||s?r.transform=nu(t,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=o;r.transformOrigin=`${c} ${d} ${u}`}}const ru={offset:"stroke-dashoffset",array:"stroke-dasharray"},au={offset:"strokeDashoffset",array:"strokeDasharray"};function iu(e,t,s=1,r=0,a=!0){e.pathLength=1;const o=a?ru:au;e[o.offset]=z.transform(-r);const i=z.transform(t),l=z.transform(s);e[o.array]=`${i} ${l}`}function Ta(e,t,s){return typeof e=="string"?e:z.transform(t+s*e)}function ou(e,t,s){const r=Ta(t,e.x,e.width),a=Ta(s,e.y,e.height);return`${r} ${a}`}function Tr(e,{attrX:t,attrY:s,attrScale:r,originX:a,originY:o,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(kr(e,d,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:f,dimensions:N}=e;m.transform&&(N&&(f.transform=m.transform),delete m.transform),N&&(a!==void 0||o!==void 0||f.transform)&&(f.transformOrigin=ou(N,a!==void 0?a:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),s!==void 0&&(m.y=s),r!==void 0&&(m.scale=r),i!==void 0&&iu(m,i,l,c,!1)}const Dr=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),No=()=>({...Dr(),attrs:{}}),Er=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _o(e,{style:t,vars:s},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const o in s)e.style.setProperty(o,s[o])}const Ao=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Co(e,t,s,r){_o(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Ao.has(a)?a:jr(a),t.attrs[a])}const zs={};function lu(e){Object.assign(zs,e)}function So(e,{layout:t,layoutId:s}){return xt.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!zs[e]||e==="opacity")}function Mr(e,t,s){var r;const{style:a}=e,o={};for(const i in a)(he(a[i])||t.style&&he(t.style[i])||So(i,e)||((r=s==null?void 0:s.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=a[i]);return o}function ko(e,t,s){const r=Mr(e,t,s);for(const a in e)if(he(e[a])||he(t[a])){const o=Ft.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=e[a]}return r}function cu(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Da=["x","y","width","height","cx","cy","r"],du={useVisualState:bo({scrapeMotionValuesFromProps:ko,createRenderState:No,onUpdate:({props:e,prevProps:t,current:s,renderState:r,latestValues:a})=>{if(!s)return;let o=!!e.drag;if(!o){for(const l in a)if(xt.has(l)){o=!0;break}}if(!o)return;let i=!t;if(t)for(let l=0;l<Da.length;l++){const c=Da[l];e[c]!==t[c]&&(i=!0)}i&&Q.read(()=>{cu(s,r),Q.render(()=>{Tr(r,a,Er(s.tagName),e.transformTemplate),Co(s,r)})})}})},uu={useVisualState:bo({scrapeMotionValuesFromProps:Mr,createRenderState:Dr})};function To(e,t,s){for(const r in t)!he(t[r])&&!So(r,s)&&(e[r]=t[r])}function hu({transformTemplate:e},t){return y.useMemo(()=>{const s=Dr();return kr(s,t,e),Object.assign({},s.vars,s.style)},[t])}function mu(e,t){const s=e.style||{},r={};return To(r,s,e),Object.assign(r,hu(e,t)),r}function pu(e,t){const s={},r=mu(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}function fu(e,t,s,r){const a=y.useMemo(()=>{const o=No();return Tr(o,t,Er(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};To(o,e.style,e),a.style={...o,...a.style}}return a}function gu(e=!1){return(s,r,a,{latestValues:o},i)=>{const c=(_r(s)?fu:pu)(r,o,i,s),d=Ed(r,typeof s=="string",e),u=s!==y.Fragment?{...d,...c,ref:a}:{},{children:h}=r,m=y.useMemo(()=>he(h)?h.get():h,[h]);return y.createElement(s,{...u,children:m})}}function xu(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const i={..._r(r)?du:uu,preloadedFeatures:e,useRender:gu(a),createVisualElement:t,Component:r};return Ld(i)}}function Do(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}function on(e,t,s){const r=e.getProps();return Ar(r,t,s!==void 0?s:r.custom,e)}const yu=br(()=>window.ScrollTimeline!==void 0);class bu{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=s}attachTimeline(t,s){const r=this.animations.map(a=>{if(yu()&&a.attachTimeline)return a.attachTimeline(t);if(typeof s=="function")return s(a)});return()=>{r.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class vu extends bu{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function Pr(e,t){return e?e[t]||e.default||e:void 0}const qn=2e4;function Eo(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<qn;)t+=s,r=e.next(t);return t>=qn?1/0:t}function Rr(e){return typeof e=="function"}function Ea(e,t){e.timeline=t,e.onfinish=null}const Ir=e=>Array.isArray(e)&&typeof e[0]=="number",wu={linearEasing:void 0};function ju(e,t){const s=br(e);return()=>{var r;return(r=wu[t])!==null&&r!==void 0?r:s()}}const Gs=ju(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mo=(e,t,s=10)=>{let r="";const a=Math.max(Math.round(t/s),2);for(let o=0;o<a;o++)r+=e(Et(0,a-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Po(e){return!!(typeof e=="function"&&Gs()||!e||typeof e=="string"&&(e in Kn||Gs())||Ir(e)||Array.isArray(e)&&e.every(Po))}const Gt=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,Kn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gt([0,.65,.55,1]),circOut:Gt([.55,0,1,.45]),backIn:Gt([.31,.01,.66,-.59]),backOut:Gt([.33,1.53,.69,.99])};function Ro(e,t){if(e)return typeof e=="function"&&Gs()?Mo(e,t):Ir(e)?Gt(e):Array.isArray(e)?e.map(s=>Ro(s,t)||Kn.easeOut):Kn[e]}const Ae={x:!1,y:!1};function Io(){return Ae.x||Ae.y}function Nu(e,t,s){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const o=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function Fo(e,t){const s=Nu(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[s,a,()=>r.abort()]}function Ma(e){return t=>{t.pointerType==="touch"||Io()||e(t)}}function _u(e,t,s={}){const[r,a,o]=Fo(e,s),i=Ma(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=Ma(h=>{d(h),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,a)});return r.forEach(l=>{l.addEventListener("pointerenter",i,a)}),o}const Bo=(e,t)=>t?e===t?!0:Bo(e,t.parentElement):!1,Fr=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Au=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Cu(e){return Au.has(e.tagName)||e.tabIndex!==-1}const Ut=new WeakSet;function Pa(e){return t=>{t.key==="Enter"&&e(t)}}function yn(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Su=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=Pa(()=>{if(Ut.has(s))return;yn(s,"down");const a=Pa(()=>{yn(s,"up")}),o=()=>yn(s,"cancel");s.addEventListener("keyup",a,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function Ra(e){return Fr(e)&&!Io()}function ku(e,t,s={}){const[r,a,o]=Fo(e,s),i=l=>{const c=l.currentTarget;if(!Ra(l)||Ut.has(c))return;Ut.add(c);const d=t(l),u=(f,N)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!Ra(f)||!Ut.has(c))&&(Ut.delete(c),typeof d=="function"&&d(f,{success:N}))},h=f=>{u(f,s.useGlobalTarget||Bo(c,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",m,a)};return r.forEach(l=>{!Cu(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(s.useGlobalTarget?window:l).addEventListener("pointerdown",i,a),l.addEventListener("focus",d=>Su(d,a),a)}),o}function Tu(e){return e==="x"||e==="y"?Ae[e]?null:(Ae[e]=!0,()=>{Ae[e]=!1}):Ae.x||Ae.y?null:(Ae.x=Ae.y=!0,()=>{Ae.x=Ae.y=!1})}const $o=new Set(["width","height","top","left","right","bottom",...Ft]);let Rs;function Du(){Rs=void 0}const Ie={now:()=>(Rs===void 0&&Ie.set(le.isProcessing||Ad.useManualTiming?le.timestamp:performance.now()),Rs),set:e=>{Rs=e,queueMicrotask(Du)}};function Br(e,t){e.indexOf(t)===-1&&e.push(t)}function $r(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class Or{constructor(){this.subscriptions=[]}add(t){return Br(this.subscriptions,t),()=>$r(this.subscriptions,t)}notify(t,s,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,r);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Oo(e,t){return t?e*(1e3/t):0}const Ia=30,Eu=e=>!isNaN(parseFloat(e));class Mu{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const o=Ie.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Ie.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Eu(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Or);const r=this.events[t].add(s);return t==="change"?()=>{r(),Q.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ie.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ia)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Ia);return Oo(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rs(e,t){return new Mu(e,t)}function Pu(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,rs(s))}function Ru(e,t){const s=on(e,t);let{transitionEnd:r={},transition:a={},...o}=s||{};o={...o,...r};for(const i in o){const l=Kd(o[i]);Pu(e,i,l)}}function Iu(e){return!!(he(e)&&e.add)}function Wn(e,t){const s=e.getValue("willChange");if(Iu(s))return s.add(t)}function Lo(e){return e.props[go]}const Vo=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Fu=1e-7,Bu=12;function $u(e,t,s,r,a){let o,i,l=0;do i=t+(s-t)/2,o=Vo(i,r,a)-e,o>0?s=i:t=i;while(Math.abs(o)>Fu&&++l<Bu);return i}function ps(e,t,s,r){if(e===t&&s===r)return ye;const a=o=>$u(o,0,1,e,s);return o=>o===0||o===1?o:Vo(a(o),t,r)}const zo=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Go=e=>t=>1-e(1-t),Uo=ps(.33,1.53,.69,.99),Lr=Go(Uo),qo=zo(Lr),Ko=e=>(e*=2)<1?.5*Lr(e):.5*(2-Math.pow(2,-10*(e-1))),Vr=e=>1-Math.sin(Math.acos(e)),Wo=Go(Vr),Ho=zo(Vr),Yo=e=>/^0[^.\s]+$/u.test(e);function Ou(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Yo(e):!0}const Kt=e=>Math.round(e*1e5)/1e5,zr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Lu(e){return e==null}const Vu=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gr=(e,t)=>s=>!!(typeof s=="string"&&Vu.test(s)&&s.startsWith(e)||t&&!Lu(s)&&Object.prototype.hasOwnProperty.call(s,t)),Xo=(e,t,s)=>r=>{if(typeof r!="string")return r;const[a,o,i,l]=r.match(zr);return{[e]:parseFloat(a),[t]:parseFloat(o),[s]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},zu=e=>ze(0,255,e),bn={...Bt,transform:e=>Math.round(zu(e))},ct={test:Gr("rgb","red"),parse:Xo("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+bn.transform(e)+", "+bn.transform(t)+", "+bn.transform(s)+", "+Kt(ns.transform(r))+")"};function Gu(e){let t="",s="",r="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Hn={test:Gr("#"),parse:Gu,transform:ct.transform},jt={test:Gr("hsl","hue"),parse:Xo("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+Re.transform(Kt(t))+", "+Re.transform(Kt(s))+", "+Kt(ns.transform(r))+")"},ue={test:e=>ct.test(e)||Hn.test(e)||jt.test(e),parse:e=>ct.test(e)?ct.parse(e):jt.test(e)?jt.parse(e):Hn.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ct.transform(e):jt.transform(e)},Uu=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qu(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(zr))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Uu))===null||s===void 0?void 0:s.length)||0)>0}const Zo="number",Qo="color",Ku="var",Wu="var(",Fa="${}",Hu=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function as(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},a=[];let o=0;const l=t.replace(Hu,c=>(ue.test(c)?(r.color.push(o),a.push(Qo),s.push(ue.parse(c))):c.startsWith(Wu)?(r.var.push(o),a.push(Ku),s.push(c)):(r.number.push(o),a.push(Zo),s.push(parseFloat(c))),++o,Fa)).split(Fa);return{values:s,split:l,indexes:r,types:a}}function Jo(e){return as(e).values}function el(e){const{split:t,types:s}=as(e),r=t.length;return a=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],a[i]!==void 0){const l=s[i];l===Zo?o+=Kt(a[i]):l===Qo?o+=ue.transform(a[i]):o+=a[i]}return o}}const Yu=e=>typeof e=="number"?0:e;function Xu(e){const t=Jo(e);return el(e)(t.map(Yu))}const Je={test:qu,parse:Jo,createTransformer:el,getAnimatableNone:Xu},Zu=new Set(["brightness","contrast","saturate","opacity"]);function Qu(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(zr)||[];if(!r)return e;const a=s.replace(r,"");let o=Zu.has(t)?1:0;return r!==s&&(o*=100),t+"("+o+a+")"}const Ju=/\b([a-z-]*)\(.*?\)/gu,Yn={...Je,getAnimatableNone:e=>{const t=e.match(Ju);return t?t.map(Qu).join(" "):e}},eh={...Sr,color:ue,backgroundColor:ue,outlineColor:ue,fill:ue,stroke:ue,borderColor:ue,borderTopColor:ue,borderRightColor:ue,borderBottomColor:ue,borderLeftColor:ue,filter:Yn,WebkitFilter:Yn},Ur=e=>eh[e];function tl(e,t){let s=Ur(e);return s!==Yn&&(s=Je),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const th=new Set(["auto","none","0"]);function sh(e,t,s){let r=0,a;for(;r<e.length&&!a;){const o=e[r];typeof o=="string"&&!th.has(o)&&as(o).values.length&&(a=e[r]),r++}if(a&&s)for(const o of t)e[o]=tl(s,a)}const Ba=e=>e===Bt||e===z,$a=(e,t)=>parseFloat(e.split(", ")[t]),Oa=(e,t)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return $a(a[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?$a(o[1],e):0}},nh=new Set(["x","y","z"]),rh=Ft.filter(e=>!nh.has(e));function ah(e){const t=[];return rh.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Pt={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Oa(4,13),y:Oa(5,14)};Pt.translateX=Pt.x;Pt.translateY=Pt.y;const dt=new Set;let Xn=!1,Zn=!1;function sl(){if(Zn){const e=Array.from(dt).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const a=ah(r);a.length&&(s.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=s.get(r);a&&a.forEach(([o,i])=>{var l;(l=r.getValue(o))===null||l===void 0||l.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zn=!1,Xn=!1,dt.forEach(e=>e.complete()),dt.clear()}function nl(){dt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zn=!0)})}function ih(){nl(),sl()}class qr{constructor(t,s,r,a,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=a,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(dt.add(this),Xn||(Xn=!0,Q.read(nl),Q.resolveKeyframes(sl))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:a}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const i=a==null?void 0:a.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&s){const c=r.readValue(s,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&i===void 0&&a.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),dt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,dt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const rl=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),oh=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lh(e){const t=oh.exec(e);if(!t)return[,];const[,s,r,a]=t;return[`--${s??r}`,a]}function al(e,t,s=1){const[r,a]=lh(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return rl(i)?parseFloat(i):i}return Cr(a)?al(a,t,s+1):a}const il=e=>t=>t.test(e),ch={test:e=>e==="auto",parse:e=>e},ol=[Bt,z,Re,Ke,Qd,Zd,ch],La=e=>ol.find(il(e));class ll extends qr{constructor(t,s,r,a,o){super(t,s,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Cr(d))){const u=al(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!$o.has(r)||t.length!==2)return;const[a,o]=t,i=La(a),l=La(o);if(i!==l)if(Ba(i)&&Ba(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let a=0;a<t.length;a++)Ou(t[a])&&r.push(a);r.length&&sh(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pt[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var t;const{element:s,name:r,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const o=s.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=a.length-1,l=a[i];a[i]=Pt[r](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const Va=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Je.test(e)||e==="0")&&!e.startsWith("url("));function dh(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function uh(e,t,s,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=Va(a,t),l=Va(o,t);return!i||!l?!1:dh(e)||(s==="spring"||Rr(s))&&r}const hh=e=>e!==null;function ln(e,{repeat:t,repeatType:s="loop"},r){const a=e.filter(hh),o=t&&s!=="loop"&&t%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const mh=40;class cl{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:i="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ie.now(),this.options={autoplay:t,delay:s,type:r,repeat:a,repeatDelay:o,repeatType:i,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>mh?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ih(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=Ie.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:o,delay:i,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!uh(t,r,a,o))if(i)this.options.duration=0;else{c&&c(ln(t,this.options,s)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,s);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const te=(e,t,s)=>e+(t-e)*s;function vn(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function ph({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let a=0,o=0,i=0;if(!t)a=o=i=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;a=vn(c,l,e+1/3),o=vn(c,l,e),i=vn(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function Us(e,t){return s=>s>0?t:e}const wn=(e,t,s)=>{const r=e*e,a=s*(t*t-r)+r;return a<0?0:Math.sqrt(a)},fh=[Hn,ct,jt],gh=e=>fh.find(t=>t.test(e));function za(e){const t=gh(e);if(!t)return!1;let s=t.parse(e);return t===jt&&(s=ph(s)),s}const Ga=(e,t)=>{const s=za(e),r=za(t);if(!s||!r)return Us(e,t);const a={...s};return o=>(a.red=wn(s.red,r.red,o),a.green=wn(s.green,r.green,o),a.blue=wn(s.blue,r.blue,o),a.alpha=te(s.alpha,r.alpha,o),ct.transform(a))},xh=(e,t)=>s=>t(e(s)),fs=(...e)=>e.reduce(xh),Qn=new Set(["none","hidden"]);function yh(e,t){return Qn.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function bh(e,t){return s=>te(e,t,s)}function Kr(e){return typeof e=="number"?bh:typeof e=="string"?Cr(e)?Us:ue.test(e)?Ga:jh:Array.isArray(e)?dl:typeof e=="object"?ue.test(e)?Ga:vh:Us}function dl(e,t){const s=[...e],r=s.length,a=e.map((o,i)=>Kr(o)(o,t[i]));return o=>{for(let i=0;i<r;i++)s[i]=a[i](o);return s}}function vh(e,t){const s={...e,...t},r={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Kr(e[a])(e[a],t[a]));return a=>{for(const o in r)s[o]=r[o](a);return s}}function wh(e,t){var s;const r=[],a={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const i=t.types[o],l=e.indexes[i][a[i]],c=(s=e.values[l])!==null&&s!==void 0?s:0;r[o]=c,a[i]++}return r}const jh=(e,t)=>{const s=Je.createTransformer(t),r=as(e),a=as(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Qn.has(e)&&!a.values.length||Qn.has(t)&&!r.values.length?yh(e,t):fs(dl(wh(r,a),a.values),s):Us(e,t)};function ul(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?te(e,t,s):Kr(e)(e,t)}const Nh=5;function hl(e,t,s){const r=Math.max(t-Nh,0);return Oo(s-e(r),t-r)}const se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jn=.001;function _h({duration:e=se.duration,bounce:t=se.bounce,velocity:s=se.velocity,mass:r=se.mass}){let a,o,i=1-t;i=ze(se.minDamping,se.maxDamping,i),e=ze(se.minDuration,se.maxDuration,Ve(e)),i<1?(a=d=>{const u=d*i,h=u*e,m=u-s,f=Jn(d,i),N=Math.exp(-h);return jn-m/f*N},o=d=>{const h=d*i*e,m=h*s+s,f=Math.pow(i,2)*Math.pow(d,2)*e,N=Math.exp(-h),v=Jn(Math.pow(d,2),i);return(-a(d)+jn>0?-1:1)*((m-f)*N)/v}):(a=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-jn+u*h},o=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const l=5/e,c=Ch(a,o,l);if(e=Le(e),isNaN(c))return{stiffness:se.stiffness,damping:se.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:i*2*Math.sqrt(r*d),duration:e}}}const Ah=12;function Ch(e,t,s){let r=s;for(let a=1;a<Ah;a++)r=r-e(r)/t(r);return r}function Jn(e,t){return e*Math.sqrt(1-t*t)}const Sh=["duration","bounce"],kh=["stiffness","damping","mass"];function Ua(e,t){return t.some(s=>e[s]!==void 0)}function Th(e){let t={velocity:se.velocity,stiffness:se.stiffness,damping:se.damping,mass:se.mass,isResolvedFromDuration:!1,...e};if(!Ua(e,kh)&&Ua(e,Sh))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),a=r*r,o=2*ze(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:se.mass,stiffness:a,damping:o}}else{const s=_h(e);t={...t,...s,mass:se.mass},t.isResolvedFromDuration=!0}return t}function ml(e=se.visualDuration,t=se.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=s;const o=s.keyframes[0],i=s.keyframes[s.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=Th({...s,velocity:-Ve(s.velocity||0)}),N=m||0,v=d/(2*Math.sqrt(c*u)),w=i-o,p=Ve(Math.sqrt(c/u)),x=Math.abs(w)<5;r||(r=x?se.restSpeed.granular:se.restSpeed.default),a||(a=x?se.restDelta.granular:se.restDelta.default);let g;if(v<1){const T=Jn(p,v);g=b=>{const j=Math.exp(-v*p*b);return i-j*((N+v*p*w)/T*Math.sin(T*b)+w*Math.cos(T*b))}}else if(v===1)g=T=>i-Math.exp(-p*T)*(w+(N+p*w)*T);else{const T=p*Math.sqrt(v*v-1);g=b=>{const j=Math.exp(-v*p*b),M=Math.min(T*b,300);return i-j*((N+v*p*w)*Math.sinh(M)+T*w*Math.cosh(M))/T}}const _={calculatedDuration:f&&h||null,next:T=>{const b=g(T);if(f)l.done=T>=h;else{let j=0;v<1&&(j=T===0?Le(N):hl(g,T,b));const M=Math.abs(j)<=r,$=Math.abs(i-b)<=a;l.done=M&&$}return l.value=l.done?i:b,l},toString:()=>{const T=Math.min(Eo(_),qn),b=Mo(j=>_.next(T*j).value,T,30);return T+"ms "+b}};return _}function qa({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=M=>l!==void 0&&M<l||c!==void 0&&M>c,N=M=>l===void 0?c:c===void 0||Math.abs(l-M)<Math.abs(c-M)?l:c;let v=s*t;const w=h+v,p=i===void 0?w:i(w);p!==w&&(v=p-h);const x=M=>-v*Math.exp(-M/r),g=M=>p+x(M),_=M=>{const $=x(M),I=g(M);m.done=Math.abs($)<=d,m.value=m.done?p:I};let T,b;const j=M=>{f(m.value)&&(T=M,b=ml({keyframes:[m.value,N(m.value)],velocity:hl(g,M,m.value),damping:a,stiffness:o,restDelta:d,restSpeed:u}))};return j(0),{calculatedDuration:null,next:M=>{let $=!1;return!b&&T===void 0&&($=!0,_(M),j(M)),T!==void 0&&M>=T?b.next(M-T):(!$&&_(M),m)}}}const Dh=ps(.42,0,1,1),Eh=ps(0,0,.58,1),pl=ps(.42,0,.58,1),Mh=e=>Array.isArray(e)&&typeof e[0]!="number",Ph={linear:ye,easeIn:Dh,easeInOut:pl,easeOut:Eh,circIn:Vr,circInOut:Ho,circOut:Wo,backIn:Lr,backInOut:qo,backOut:Uo,anticipate:Ko},Ka=e=>{if(Ir(e)){uo(e.length===4);const[t,s,r,a]=e;return ps(t,s,r,a)}else if(typeof e=="string")return Ph[e];return e};function Rh(e,t,s){const r=[],a=s||ul,o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||ye:t;l=fs(c,l)}r.push(l)}return r}function Ih(e,t,{clamp:s=!0,ease:r,mixer:a}={}){const o=e.length;if(uo(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Rh(t,r,a),c=l.length,d=u=>{if(i&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=Et(e[h],e[h+1],u);return l[h](m)};return s?u=>d(ze(e[0],e[o-1],u)):d}function Fh(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const a=Et(0,t,r);e.push(te(s,1,a))}}function Bh(e){const t=[0];return Fh(t,e.length-1),t}function $h(e,t){return e.map(s=>s*t)}function Oh(e,t){return e.map(()=>t||pl).splice(0,e.length-1)}function qs({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const a=Mh(r)?r.map(Ka):Ka(r),o={done:!1,value:t[0]},i=$h(s&&s.length===t.length?s:Bh(t),e),l=Ih(i,t,{ease:Array.isArray(a)?a:Oh(t,a)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const Lh=e=>{const t=({timestamp:s})=>e(s);return{start:()=>Q.update(t,!0),stop:()=>Qe(t),now:()=>le.isProcessing?le.timestamp:Ie.now()}},Vh={decay:qa,inertia:qa,tween:qs,keyframes:qs,spring:ml},zh=e=>e/100;class Wr extends cl{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:r,element:a,keyframes:o}=this.options,i=(a==null?void 0:a.KeyframeResolver)||qr,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new i(o,l,s,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:i=0}=this.options,l=Rr(s)?s:Vh[s]||qs;let c,d;l!==qs&&typeof t[0]!="number"&&(c=fs(zh,ul(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});o==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=Eo(u));const{calculatedDuration:h}=u,m=h+a,f=m*(r+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:f}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:r}=this;if(!r){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:i,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return o.next(0);const{delay:m,repeat:f,repeatType:N,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const p=this.currentTime-m*(this.speed>=0?1:-1),x=this.speed>=0?p<0:p>u;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let g=this.currentTime,_=o;if(f){const M=Math.min(this.currentTime,u)/h;let $=Math.floor(M),I=M%1;!I&&M>=1&&(I=1),I===1&&$--,$=Math.min($,f+1),!!($%2)&&(N==="reverse"?(I=1-I,v&&(I-=v/h)):N==="mirror"&&(_=i)),g=ze(0,1,I)*h}const T=x?{done:!1,value:c[0]}:_.next(g);l&&(T.value=l(T.value));let{done:b}=T;!x&&d!==null&&(b=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return j&&a!==void 0&&(T.value=ln(c,this.options,a)),w&&w(T.value),j&&this.finish(),T}get duration(){const{resolved:t}=this;return t?Ve(t.calculatedDuration):0}get time(){return Ve(this.currentTime)}set time(t){t=Le(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Ve(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Lh,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),s&&s();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Gh=new Set(["opacity","clipPath","filter","transform"]);function Uh(e,t,s,{delay:r=0,duration:a=300,repeat:o=0,repeatType:i="loop",ease:l="easeInOut",times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=Ro(l,a);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:r,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}const qh=br(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ks=10,Kh=2e4;function Wh(e){return Rr(e.type)||e.type==="spring"||!Po(e.ease)}function Hh(e,t){const s=new Wr({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let o=0;for(;!r.done&&o<Kh;)r=s.sample(o),a.push(r.value),o+=Ks;return{times:void 0,keyframes:a,duration:o-Ks,ease:"linear"}}const fl={anticipate:Ko,backInOut:qo,circInOut:Ho};function Yh(e){return e in fl}class Wa extends cl{constructor(t){super(t);const{name:s,motionValue:r,element:a,keyframes:o}=this.options;this.resolver=new ll(o,(i,l)=>this.onKeyframesResolved(i,l),s,r,a),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:r=300,times:a,ease:o,type:i,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof o=="string"&&Gs()&&Yh(o)&&(o=fl[o]),Wh(this.options)){const{onComplete:h,onUpdate:m,motionValue:f,element:N,...v}=this.options,w=Hh(t,v);t=w.keyframes,t.length===1&&(t[1]=t[0]),r=w.duration,a=w.times,o=w.ease,i="keyframes"}const u=Uh(l.owner.current,c,t,{...this.options,duration:r,times:a,ease:o});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(Ea(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;l.set(ln(t,this.options,s)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:a,type:i,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return Ve(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return Ve(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=Le(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return ye;const{animation:r}=s;Ea(r,t)}return ye}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:r,duration:a,type:o,ease:i,times:l}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...f}=this.options,N=new Wr({...f,keyframes:r,duration:a,type:o,ease:i,times:l,isGenerator:!0}),v=Le(this.time);d.setWithVelocity(N.sample(v-Ks).value,N.sample(v).value,Ks)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:r,repeatDelay:a,repeatType:o,damping:i,type:l}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=s.owner.getProps();return qh()&&r&&Gh.has(r)&&!c&&!d&&!a&&o!=="mirror"&&i!==0&&l!=="inertia"}}const Xh={type:"spring",stiffness:500,damping:25,restSpeed:10},Zh=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Qh={type:"keyframes",duration:.8},Jh={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},em=(e,{keyframes:t})=>t.length>2?Qh:xt.has(e)?e.startsWith("scale")?Zh(t[1]):Xh:Jh;function tm({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Hr=(e,t,s,r={},a,o)=>i=>{const l=Pr(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Le(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:a};tm(l)||(u={...u,...em(e,u)}),u.duration&&(u.duration=Le(u.duration)),u.repeatDelay&&(u.repeatDelay=Le(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!o&&t.get()!==void 0){const m=ln(u.keyframes,l);if(m!==void 0)return Q.update(()=>{u.onUpdate(m),u.onComplete()}),new vu([])}return!o&&Wa.supports(u)?new Wa(u):new Wr(u)};function sm({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function gl(e,t,{delay:s=0,transitionOverride:r,type:a}={}){var o;let{transition:i=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(i=r);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in c){const m=e.getValue(h,(o=e.latestValues[h])!==null&&o!==void 0?o:null),f=c[h];if(f===void 0||u&&sm(u,h))continue;const N={delay:s,...Pr(i||{},h)};let v=!1;if(window.MotionHandoffAnimation){const p=Lo(e);if(p){const x=window.MotionHandoffAnimation(p,h,Q);x!==null&&(N.startTime=x,v=!0)}}Wn(e,h),m.start(Hr(h,m,f,e.shouldReduceMotion&&$o.has(h)?{type:!1}:N,e,v));const w=m.animation;w&&d.push(w)}return l&&Promise.all(d).then(()=>{Q.update(()=>{l&&Ru(e,l)})}),d}function er(e,t,s={}){var r;const a=on(e,t,s.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(o=s.transitionOverride);const i=a?()=>Promise.all(gl(e,a,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=o;return nm(e,t,u+d,h,m,s)}:()=>Promise.resolve(),{when:c}=o;if(c){const[d,u]=c==="beforeChildren"?[i,l]:[l,i];return d().then(()=>u())}else return Promise.all([i(),l(s.delay)])}function nm(e,t,s=0,r=0,a=1,o){const i=[],l=(e.variantChildren.size-1)*r,c=a===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(rm).forEach((d,u)=>{d.notify("AnimationStart",t),i.push(er(d,t,{...o,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(i)}function rm(e,t){return e.sortNodePosition(t)}function am(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>er(e,o,s));r=Promise.all(a)}else if(typeof t=="string")r=er(e,t,s);else{const a=typeof t=="function"?on(e,t,s.custom):t;r=Promise.all(gl(e,a,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}const im=wr.length;function xl(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?xl(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<im;s++){const r=wr[s],a=e.props[r];(ss(a)||a===!1)&&(t[r]=a)}return t}const om=[...vr].reverse(),lm=vr.length;function cm(e){return t=>Promise.all(t.map(({animation:s,options:r})=>am(e,s,r)))}function dm(e){let t=cm(e),s=Ha(),r=!0;const a=c=>(d,u)=>{var h;const m=on(e,u,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:f,transitionEnd:N,...v}=m;d={...d,...v,...N}}return d};function o(c){t=c(e)}function i(c){const{props:d}=e,u=xl(e.parent)||{},h=[],m=new Set;let f={},N=1/0;for(let w=0;w<lm;w++){const p=om[w],x=s[p],g=d[p]!==void 0?d[p]:u[p],_=ss(g),T=p===c?x.isActive:null;T===!1&&(N=w);let b=g===u[p]&&g!==d[p]&&_;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),x.protectedKeys={...f},!x.isActive&&T===null||!g&&!x.prevProp||rn(g)||typeof g=="boolean")continue;const j=um(x.prevProp,g);let M=j||p===c&&x.isActive&&!b&&_||w>N&&_,$=!1;const I=Array.isArray(g)?g:[g];let P=I.reduce(a(p),{});T===!1&&(P={});const{prevResolvedValues:C={}}=x,A={...C,...P},S=k=>{M=!0,m.has(k)&&($=!0,m.delete(k)),x.needsAnimating[k]=!0;const R=e.getValue(k);R&&(R.liveStyle=!1)};for(const k in A){const R=P[k],L=C[k];if(f.hasOwnProperty(k))continue;let ee=!1;Un(R)&&Un(L)?ee=!Do(R,L):ee=R!==L,ee?R!=null?S(k):m.add(k):R!==void 0&&m.has(k)?S(k):x.protectedKeys[k]=!0}x.prevProp=g,x.prevResolvedValues=P,x.isActive&&(f={...f,...P}),r&&e.blockInitialAnimation&&(M=!1),M&&(!(b&&j)||$)&&h.push(...I.map(k=>({animation:k,options:{type:p}})))}if(m.size){const w={};m.forEach(p=>{const x=e.getBaseTarget(p),g=e.getValue(p);g&&(g.liveStyle=!0),w[p]=x??null}),h.push({animation:w})}let v=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(m=>{var f;return(f=m.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),s[c].isActive=d;const h=i(c);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>s,reset:()=>{s=Ha(),r=!0}}}function um(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Do(t,e):!1}function rt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ha(){return{animate:rt(!0),whileInView:rt(),whileHover:rt(),whileTap:rt(),whileDrag:rt(),whileFocus:rt(),exit:rt()}}class tt{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hm extends tt{constructor(t){super(t),t.animationState||(t.animationState=dm(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();rn(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let mm=0;class pm extends tt{constructor(){super(...arguments),this.id=mm++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);s&&!t&&a.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const fm={animation:{Feature:hm},exit:{Feature:pm}};function is(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function gs(e){return{point:{x:e.pageX,y:e.pageY}}}const gm=e=>t=>Fr(t)&&e(t,gs(t));function Wt(e,t,s,r){return is(e,t,gm(s),r)}const Ya=(e,t)=>Math.abs(e-t);function xm(e,t){const s=Ya(e.x,t.x),r=Ya(e.y,t.y);return Math.sqrt(s**2+r**2)}class yl{constructor(t,s,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_n(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=xm(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:N}=h,{timestamp:v}=le;this.history.push({...N,timestamp:v});const{onStart:w,onMove:p}=this.handlers;m||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Nn(m,this.transformPagePoint),Q.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:N,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=_n(h.type==="pointercancel"?this.lastMoveEventInfo:Nn(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,w),N&&N(h,w)},!Fr(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=r,this.contextWindow=a||window;const i=gs(t),l=Nn(i,this.transformPagePoint),{point:c}=l,{timestamp:d}=le;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,_n(l,this.history)),this.removeListeners=fs(Wt(this.contextWindow,"pointermove",this.handlePointerMove),Wt(this.contextWindow,"pointerup",this.handlePointerUp),Wt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qe(this.updatePoint)}}function Nn(e,t){return t?{point:t(e.point)}:e}function Xa(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _n({point:e},t){return{point:e,delta:Xa(e,bl(t)),offset:Xa(e,ym(t)),velocity:bm(t,.1)}}function ym(e){return e[0]}function bl(e){return e[e.length-1]}function bm(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const a=bl(e);for(;s>=0&&(r=e[s],!(a.timestamp-r.timestamp>Le(t)));)s--;if(!r)return{x:0,y:0};const o=Ve(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}const vl=1e-4,vm=1-vl,wm=1+vl,wl=.01,jm=0-wl,Nm=0+wl;function ve(e){return e.max-e.min}function _m(e,t,s){return Math.abs(e-t)<=s}function Za(e,t,s,r=.5){e.origin=r,e.originPoint=te(t.min,t.max,e.origin),e.scale=ve(s)/ve(t),e.translate=te(s.min,s.max,e.origin)-e.originPoint,(e.scale>=vm&&e.scale<=wm||isNaN(e.scale))&&(e.scale=1),(e.translate>=jm&&e.translate<=Nm||isNaN(e.translate))&&(e.translate=0)}function Ht(e,t,s,r){Za(e.x,t.x,s.x,r?r.originX:void 0),Za(e.y,t.y,s.y,r?r.originY:void 0)}function Qa(e,t,s){e.min=s.min+t.min,e.max=e.min+ve(t)}function Am(e,t,s){Qa(e.x,t.x,s.x),Qa(e.y,t.y,s.y)}function Ja(e,t,s){e.min=t.min-s.min,e.max=e.min+ve(t)}function Yt(e,t,s){Ja(e.x,t.x,s.x),Ja(e.y,t.y,s.y)}function Cm(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?te(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?te(s,e,r.max):Math.min(e,s)),e}function ei(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function Sm(e,{top:t,left:s,bottom:r,right:a}){return{x:ei(e.x,s,a),y:ei(e.y,t,r)}}function ti(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function km(e,t){return{x:ti(e.x,t.x),y:ti(e.y,t.y)}}function Tm(e,t){let s=.5;const r=ve(e),a=ve(t);return a>r?s=Et(t.min,t.max-r,e.min):r>a&&(s=Et(e.min,e.max-a,t.min)),ze(0,1,s)}function Dm(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const tr=.35;function Em(e=tr){return e===!1?e=0:e===!0&&(e=tr),{x:si(e,"left","right"),y:si(e,"top","bottom")}}function si(e,t,s){return{min:ni(e,t),max:ni(e,s)}}function ni(e,t){return typeof e=="number"?e:e[t]||0}const ri=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nt=()=>({x:ri(),y:ri()}),ai=()=>({min:0,max:0}),ne=()=>({x:ai(),y:ai()});function Ne(e){return[e("x"),e("y")]}function jl({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function Mm({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Pm(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function An(e){return e===void 0||e===1}function sr({scale:e,scaleX:t,scaleY:s}){return!An(e)||!An(t)||!An(s)}function it(e){return sr(e)||Nl(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Nl(e){return ii(e.x)||ii(e.y)}function ii(e){return e&&e!=="0%"}function Ws(e,t,s){const r=e-s,a=t*r;return s+a}function oi(e,t,s,r,a){return a!==void 0&&(e=Ws(e,a,r)),Ws(e,s,r)+t}function nr(e,t=0,s=1,r,a){e.min=oi(e.min,t,s,r,a),e.max=oi(e.max,t,s,r,a)}function _l(e,{x:t,y:s}){nr(e.x,t.translate,t.scale,t.originPoint),nr(e.y,s.translate,s.scale,s.originPoint)}const li=.999999999999,ci=1.0000000000001;function Rm(e,t,s,r=!1){const a=s.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=s[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&At(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,_l(e,i)),r&&it(o.latestValues)&&At(e,o.latestValues))}t.x<ci&&t.x>li&&(t.x=1),t.y<ci&&t.y>li&&(t.y=1)}function _t(e,t){e.min=e.min+t,e.max=e.max+t}function di(e,t,s,r,a=.5){const o=te(e.min,e.max,a);nr(e,t,s,o,r)}function At(e,t){di(e.x,t.x,t.scaleX,t.scale,t.originX),di(e.y,t.y,t.scaleY,t.scale,t.originY)}function Al(e,t){return jl(Pm(e.getBoundingClientRect(),t))}function Im(e,t,s){const r=Al(e,s),{scroll:a}=t;return a&&(_t(r.x,a.offset.x),_t(r.y,a.offset.y)),r}const Cl=({current:e})=>e?e.ownerDocument.defaultView:null,Fm=new WeakMap;class Bm{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ne(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(gs(u).point)},o=(u,h)=>{const{drag:m,dragPropagation:f,onDragStart:N}=this.getProps();if(m&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Tu(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ne(w=>{let p=this.getAxisMotionValue(w).get()||0;if(Re.test(p)){const{projection:x}=this.visualElement;if(x&&x.layout){const g=x.layout.layoutBox[w];g&&(p=ve(g)*(parseFloat(p)/100))}}this.originPoint[w]=p}),N&&Q.postRender(()=>N(u,h)),Wn(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},i=(u,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:N,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=h;if(f&&this.currentDirection===null){this.currentDirection=$m(w),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),v&&v(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Ne(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new yl(t,{onSessionStart:a,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Cl(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Q.postRender(()=>o(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:a}=this.getProps();if(!r||!Ds(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=Cm(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;s&&wt(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=Sm(a.layoutBox,s):this.constraints=!1,this.elastic=Em(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ne(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Dm(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!wt(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=Im(r,a.root,this.visualElement.getTransformPagePoint());let i=km(a.layout.layoutBox,o);if(s){const l=s(Mm(i));this.hasMutatedConstraints=!!l,l&&(i=jl(l))}return i}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ne(u=>{if(!Ds(u,s,this.currentDirection))return;let h=c&&c[u]||{};i&&(h={min:0,max:0});const m=a?200:1e6,f=a?40:1e7,N={type:"inertia",velocity:r?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(u,N)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return Wn(this.visualElement,t),r.start(Hr(t,r,0,s,this.visualElement,!1))}stopAnimation(){Ne(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ne(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[s];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ne(s=>{const{drag:r}=this.getProps();if(!Ds(s,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(s);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[s];o.set(t[s]-te(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!wt(s)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ne(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();a[i]=Tm({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ne(i=>{if(!Ds(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:d}=this.constraints[i];l.set(te(c,d,a[i]))})}addListeners(){if(!this.visualElement.current)return;Fm.set(this.visualElement,this);const t=this.visualElement.current,s=Wt(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();wt(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Q.read(r);const i=is(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ne(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())}));return()=>{i(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=tr,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Ds(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function $m(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Om extends tt{constructor(t){super(t),this.removeGroupControls=ye,this.removeListeners=ye,this.controls=new Bm(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ye}unmount(){this.removeGroupControls(),this.removeListeners()}}const ui=e=>(t,s)=>{e&&Q.postRender(()=>e(t,s))};class Lm extends tt{constructor(){super(...arguments),this.removePointerDownListener=ye}onPointerDown(t){this.session=new yl(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Cl(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:ui(t),onStart:ui(s),onMove:r,onEnd:(o,i)=>{delete this.session,a&&Q.postRender(()=>a(o,i))}}}mount(){this.removePointerDownListener=Wt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Is={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hi(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Lt={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(z.test(e))e=parseFloat(e);else return e;const s=hi(e,t.target.x),r=hi(e,t.target.y);return`${s}% ${r}%`}},Vm={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,a=Je.parse(e);if(a.length>5)return r;const o=Je.createTransformer(e),i=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;a[0+i]/=l,a[1+i]/=c;const d=te(l,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=d),typeof a[3+i]=="number"&&(a[3+i]/=d),o(a)}};class zm extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;lu(Gm),o&&(s.group&&s.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Is.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:a,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,a||t.layoutDependency!==s||s===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Q.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Nr.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Sl(e){const[t,s]=lo(),r=y.useContext(fr);return n.jsx(zm,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(xo),isPresent:t,safeToRemove:s})}const Gm={borderRadius:{...Lt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomLeftRadius:Lt,borderBottomRightRadius:Lt,boxShadow:Vm};function Um(e,t,s){const r=he(e)?e:rs(e);return r.start(Hr("",r,t,s)),r.animation}function qm(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Km=(e,t)=>e.depth-t.depth;class Wm{constructor(){this.children=[],this.isDirty=!1}add(t){Br(this.children,t),this.isDirty=!0}remove(t){$r(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Km),this.isDirty=!1,this.children.forEach(t)}}function Hm(e,t){const s=Ie.now(),r=({timestamp:a})=>{const o=a-s;o>=t&&(Qe(r),e(o-t))};return Q.read(r,!0),()=>Qe(r)}const kl=["TopLeft","TopRight","BottomLeft","BottomRight"],Ym=kl.length,mi=e=>typeof e=="string"?parseFloat(e):e,pi=e=>typeof e=="number"||z.test(e);function Xm(e,t,s,r,a,o){a?(e.opacity=te(0,s.opacity!==void 0?s.opacity:1,Zm(r)),e.opacityExit=te(t.opacity!==void 0?t.opacity:1,0,Qm(r))):o&&(e.opacity=te(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let i=0;i<Ym;i++){const l=`border${kl[i]}Radius`;let c=fi(t,l),d=fi(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||pi(c)===pi(d)?(e[l]=Math.max(te(mi(c),mi(d),r),0),(Re.test(d)||Re.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=te(t.rotate||0,s.rotate||0,r))}function fi(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Zm=Tl(0,.5,Wo),Qm=Tl(.5,.95,ye);function Tl(e,t,s){return r=>r<e?0:r>t?1:s(Et(e,t,r))}function gi(e,t){e.min=t.min,e.max=t.max}function je(e,t){gi(e.x,t.x),gi(e.y,t.y)}function xi(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function yi(e,t,s,r,a){return e-=t,e=Ws(e,1/s,r),a!==void 0&&(e=Ws(e,1/a,r)),e}function Jm(e,t=0,s=1,r=.5,a,o=e,i=e){if(Re.test(t)&&(t=parseFloat(t),t=te(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=te(o.min,o.max,r);e===o&&(l-=t),e.min=yi(e.min,t,s,l,a),e.max=yi(e.max,t,s,l,a)}function bi(e,t,[s,r,a],o,i){Jm(e,t[s],t[r],t[a],t.scale,o,i)}const ep=["x","scaleX","originX"],tp=["y","scaleY","originY"];function vi(e,t,s,r){bi(e.x,t,ep,s?s.x:void 0,r?r.x:void 0),bi(e.y,t,tp,s?s.y:void 0,r?r.y:void 0)}function wi(e){return e.translate===0&&e.scale===1}function Dl(e){return wi(e.x)&&wi(e.y)}function ji(e,t){return e.min===t.min&&e.max===t.max}function sp(e,t){return ji(e.x,t.x)&&ji(e.y,t.y)}function Ni(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function El(e,t){return Ni(e.x,t.x)&&Ni(e.y,t.y)}function _i(e){return ve(e.x)/ve(e.y)}function Ai(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class np{constructor(){this.members=[]}add(t){Br(this.members,t),t.scheduleRender()}remove(t){if($r(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let r;for(let a=s;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rp(e,t,s){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y,i=(s==null?void 0:s.z)||0;if((a||o||i)&&(r=`translate3d(${a}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:N}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),f&&(r+=`skewX(${f}deg) `),N&&(r+=`skewY(${N}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const ot={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},qt=typeof window<"u"&&window.MotionDebug!==void 0,Cn=["","X","Y","Z"],ap={visibility:"hidden"},Ci=1e3;let ip=0;function Sn(e,t,s,r){const{latestValues:a}=t;a[e]&&(s[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ml(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Lo(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Q,!(a||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ml(r)}function Pl({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=ip++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qt&&(ot.totalNodes=ot.resolvedTargetDeltas=ot.recalculatedProjection=0),this.nodes.forEach(cp),this.nodes.forEach(pp),this.nodes.forEach(fp),this.nodes.forEach(dp),qt&&window.MotionDebug.record(ot)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wm)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Or),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qm(i),this.instance=i;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Hm(m,250),Is.hasAnimatedSinceResize&&(Is.hasAnimatedSinceResize=!1,this.nodes.forEach(ki))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||vp,{onLayoutAnimationStart:w,onLayoutAnimationComplete:p}=u.getProps(),x=!this.targetLayout||!El(this.targetLayout,N)||f,g=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const _={...Pr(v,"layout"),onPlay:w,onComplete:p};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else m||ki(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gp),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ml(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Si);return}this.isUpdating||this.nodes.forEach(hp),this.isUpdating=!1,this.nodes.forEach(mp),this.nodes.forEach(op),this.nodes.forEach(lp),this.clearAllSnapshots();const l=Ie.now();le.delta=ze(0,1e3/60,l-le.timestamp),le.timestamp=l,le.isProcessing=!0,xn.update.process(le),xn.preRender.process(le),xn.render.process(le),le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Nr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(up),this.sharedNodes.forEach(xp)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Q.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Q.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Dl(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;i&&(l||it(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),wp(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:l}=this.options;if(!l)return ne();const c=l.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(jp))){const{scroll:u}=this.root;u&&(_t(c.x,u.offset.x),_t(c.y,u.offset.y))}return c}removeElementScroll(i){var l;const c=ne();if(je(c,i),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&je(c,i),_t(c.x,h.offset.x),_t(c.y,h.offset.y))}return c}applyTransform(i,l=!1){const c=ne();je(c,i);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&At(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),it(u.latestValues)&&At(c,u.latestValues)}return it(this.latestValues)&&At(c,this.latestValues),c}removeTransform(i){const l=ne();je(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!it(d.latestValues))continue;sr(d.latestValues)&&d.updateSnapshot();const u=ne(),h=d.measurePageBox();je(u,h),vi(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return it(this.latestValues)&&vi(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(i||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=le.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ne(),this.relativeTargetOrigin=ne(),Yt(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),je(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ne(),this.targetWithTransforms=ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Am(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):je(this.target,this.layout.layoutBox),_l(this.target,this.targetDelta)):je(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ne(),this.relativeTargetOrigin=ne(),Yt(this.relativeTargetOrigin,this.target,f.target),je(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qt&&ot.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sr(this.parent.latestValues)||Nl(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===le.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;je(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;Rm(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ne());const{target:N}=l;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xi(this.prevProjectionDelta.x,this.projectionDelta.x),xi(this.prevProjectionDelta.y,this.projectionDelta.y)),Ht(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!Ai(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ai(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N)),qt&&ot.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nt(),this.projectionDelta=Nt(),this.projectionDeltaWithTransform=Nt()}setAnimationOrigin(i,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Nt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=ne(),f=c?c.source:void 0,N=this.layout?this.layout.source:void 0,v=f!==N,w=this.getStack(),p=!w||w.members.length<=1,x=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(bp));this.animationProgress=0;let g;this.mixTargetDelta=_=>{const T=_/1e3;Ti(h.x,i.x,T),Ti(h.y,i.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yt(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yp(this.relativeTarget,this.relativeTargetOrigin,m,T),g&&sp(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=ne()),je(g,this.relativeTarget)),v&&(this.animationValues=u,Xm(u,d,this.latestValues,T,x,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Q.update(()=>{Is.hasAnimatedSinceResize=!0,this.currentAnimation=Um(0,Ci,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ci),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=i;if(!(!l||!c||!d)){if(this!==i&&this.layout&&d&&Rl(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||ne();const h=ve(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const m=ve(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+m}je(l,c),At(l,u),Ht(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new np),this.sharedNodes.get(i).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Sn("z",i,d,this.animationValues);for(let u=0;u<Cn.length;u++)Sn(`rotate${Cn[u]}`,i,d,this.animationValues),Sn(`skew${Cn[u]}`,i,d,this.animationValues);i.render();for(const u in d)i.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ap;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Ps(i==null?void 0:i.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ps(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!it(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=rp(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:f,y:N}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${N.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in zs){if(m[v]===void 0)continue;const{correct:w,applyTo:p}=zs[v],x=d.transform==="none"?m[v]:w(m[v],h);if(p){const g=p.length;for(let _=0;_<g;_++)d[p[_]]=x}else d[v]=x}return this.options.layoutId&&(d.pointerEvents=h===this?Ps(i==null?void 0:i.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Si),this.root.sharedNodes.clear()}}}function op(e){e.updateLayout()}function lp(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:o}=e.options,i=s.source!==e.layout.source;o==="size"?Ne(h=>{const m=i?s.measuredBox[h]:s.layoutBox[h],f=ve(m);m.min=r[h].min,m.max=m.min+f}):Rl(o,s.layoutBox,r)&&Ne(h=>{const m=i?s.measuredBox[h]:s.layoutBox[h],f=ve(r[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=Nt();Ht(l,r,s.layoutBox);const c=Nt();i?Ht(c,e.applyTransform(a,!0),s.measuredBox):Ht(c,r,s.layoutBox);const d=!Dl(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const N=ne();Yt(N,s.layoutBox,m.layoutBox);const v=ne();Yt(v,r,f.layoutBox),El(N,v)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=N,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function cp(e){qt&&ot.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dp(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function up(e){e.clearSnapshot()}function Si(e){e.clearMeasurements()}function hp(e){e.isLayoutDirty=!1}function mp(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ki(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pp(e){e.resolveTargetDelta()}function fp(e){e.calcProjection()}function gp(e){e.resetSkewAndRotation()}function xp(e){e.removeLeadSnapshot()}function Ti(e,t,s){e.translate=te(t.translate,0,s),e.scale=te(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Di(e,t,s,r){e.min=te(t.min,s.min,r),e.max=te(t.max,s.max,r)}function yp(e,t,s,r){Di(e.x,t.x,s.x,r),Di(e.y,t.y,s.y,r)}function bp(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vp={duration:.45,ease:[.4,0,.1,1]},Ei=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Mi=Ei("applewebkit/")&&!Ei("chrome/")?Math.round:ye;function Pi(e){e.min=Mi(e.min),e.max=Mi(e.max)}function wp(e){Pi(e.x),Pi(e.y)}function Rl(e,t,s){return e==="position"||e==="preserve-aspect"&&!_m(_i(t),_i(s),.2)}function jp(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Np=Pl({attachResizeListener:(e,t)=>is(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kn={current:void 0},Il=Pl({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kn.current){const e=new Np({});e.mount(window),e.setOptions({layoutScroll:!0}),kn.current=e}return kn.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_p={pan:{Feature:Lm},drag:{Feature:Om,ProjectionNode:Il,MeasureLayout:Sl}};function Ri(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,o=r[a];o&&Q.postRender(()=>o(t,gs(t)))}class Ap extends tt{mount(){const{current:t}=this.node;t&&(this.unmount=_u(t,s=>(Ri(this.node,s,"Start"),r=>Ri(this.node,r,"End"))))}unmount(){}}class Cp extends tt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fs(is(this.node.current,"focus",()=>this.onFocus()),is(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ii(e,t,s){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),o=r[a];o&&Q.postRender(()=>o(t,gs(t)))}class Sp extends tt{mount(){const{current:t}=this.node;t&&(this.unmount=ku(t,s=>(Ii(this.node,s,"Start"),(r,{success:a})=>Ii(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rr=new WeakMap,Tn=new WeakMap,kp=e=>{const t=rr.get(e.target);t&&t(e)},Tp=e=>{e.forEach(kp)};function Dp({root:e,...t}){const s=e||document;Tn.has(s)||Tn.set(s,{});const r=Tn.get(s),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Tp,{root:e,...t})),r[a]}function Ep(e,t,s){const r=Dp(t);return rr.set(e,s),r.observe(e),()=>{rr.delete(e),r.unobserve(e)}}const Mp={some:0,all:1};class Pp extends tt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:a="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Mp[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return Ep(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Rp(t,s))&&this.startObserver()}unmount(){}}function Rp({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Ip={inView:{Feature:Pp},tap:{Feature:Sp},focus:{Feature:Cp},hover:{Feature:Ap}},Fp={layout:{ProjectionNode:Il,MeasureLayout:Sl}},ar={current:null},Fl={current:!1};function Bp(){if(Fl.current=!0,!!yr)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ar.current=e.matches;e.addListener(t),t()}else ar.current=!1}const $p=[...ol,ue,Je],Op=e=>$p.find(il(e)),Fi=new WeakMap;function Lp(e,t,s){for(const r in t){const a=t[r],o=s[r];if(he(a))e.addValue(r,a);else if(he(o))e.addValue(r,rs(a,{owner:e}));else if(o!==a)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(r);e.addValue(r,rs(i!==void 0?i:a,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const Bi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Vp{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ie.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Q.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=i;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=an(s),this.isVariantNode=fo(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in m){const N=m[f];c[f]!==void 0&&he(N)&&N.set(c[f],!1)}}mount(t){this.current=t,Fi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),Fl.current||Bp(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ar.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Fi.delete(this.current),this.projection&&this.projection.unmount(),Qe(this.notifyUpdate),Qe(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=xt.has(t),a=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Q.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{a(),o(),i&&i(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Mt){const s=Mt[t];if(!s)continue;const{isEnabled:r,Feature:a}=s;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ne()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Bi.length;r++){const a=Bi[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,i=t[o];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=Lp(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=rs(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){var r;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(rl(a)||Yo(a))?a=parseFloat(a):!Op(a)&&Je.test(s)&&(a=tl(t,s)),this.setBaseTarget(t,he(a)?a.get():a)),he(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const i=Ar(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);i&&(a=i[t])}if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!he(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Or),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class Bl extends Vp{constructor(){super(...arguments),this.KeyframeResolver=ll}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;he(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function zp(e){return window.getComputedStyle(e)}class Gp extends Bl{constructor(){super(...arguments),this.type="html",this.renderInstance=_o}readValueFromInstance(t,s){if(xt.has(s)){const r=Ur(s);return r&&r.default||0}else{const r=zp(t),a=(wo(s)?r.getPropertyValue(s):r[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Al(t,s)}build(t,s,r){kr(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return Mr(t,s,r)}}class Up extends Bl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ne}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(xt.has(s)){const r=Ur(s);return r&&r.default||0}return s=Ao.has(s)?s:jr(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return ko(t,s,r)}build(t,s,r){Tr(t,s,this.isSVGTag,r.transformTemplate)}renderInstance(t,s,r,a){Co(t,s,r,a)}mount(t){this.isSVGTag=Er(t.tagName),super.mount(t)}}const qp=(e,t)=>_r(e)?new Up(t):new Gp(t,{allowProjection:e!==y.Fragment}),Kp=xu({...fm,...Ip,..._p,...Fp},qp),W=Md(Kp);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$l=(...e)=>e.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:i,...l},c)=>y.createElement("svg",{ref:c,...Hp,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:$l("lucide",a),...l},[...i.map(([d,u])=>y.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=(e,t)=>{const s=y.forwardRef(({className:r,...a},o)=>y.createElement(Yp,{ref:o,iconNode:t,className:$l(`lucide-${Wp(e)}`,r),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=O("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=O("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=O("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=O("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=O("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=O("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=O("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=O("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=O("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=O("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=O("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=O("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=O("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=O("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=O("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=O("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=O("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=O("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=O("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=O("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=O("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=O("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=O("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=O("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=O("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=O("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=O("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=O("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=O("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=O("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=O("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=O("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=O("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=O("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=O("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=O("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=O("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=O("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=O("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=O("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=O("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=O("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=O("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=O("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=O("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=O("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=O("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=O("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=O("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=O("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=O("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=O("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=O("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=O("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=O("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Y=()=>{const e=xe.currentUser;if(!e)throw new Error("User not authenticated");return e.uid},Dn={async getAll(){const e=Y(),[t,s]=await Promise.all([Tt(oe(X(G,"users",e,"expenses"),He("date","desc"))),Tt(oe(X(G,"users",e,"incomes"),He("date","desc")))]);return{expenses:t.docs.map(r=>({id:r.id,...r.data(),type:"expense"})),incomes:s.docs.map(r=>({id:r.id,...r.data(),type:"income"}))}},async add(e){const t=Y(),s=e.type==="expense"?"expenses":"incomes";return(await It(X(G,"users",t,s),{...e,createdAt:me.now()})).id},async update(e,t,s){const r=Y();await Fe(ce(G,"users",r,t==="expense"?"expenses":"incomes",e),{...s,updatedAt:me.now()})},async delete(e,t){const s=Y();await us(ce(G,"users",s,t==="expense"?"expenses":"incomes",e))},subscribeToExpenses(e){const t=Y();return pe(oe(X(G,"users",t,"expenses"),He("date","desc")),s=>{const r=s.docs.map(a=>({id:a.id,...a.data(),type:"expense"}));e(r)})},subscribeToIncomes(e){const t=Y();return pe(oe(X(G,"users",t,"incomes"),He("date","desc")),s=>{const r=s.docs.map(a=>({id:a.id,...a.data(),type:"income"}));e(r)})}},Gi={async getAll(){const e=Y(),t=await Ms(ce(G,"users",e,"settings","budgets"));return t.exists()?t.data():{}},async update(e,t){const s=Y(),r=ce(G,"users",s,"settings","budgets");(await Ms(r)).exists()?await Fe(r,{[e]:t}):await zc(r,{[e]:t},{merge:!0})},async delete(e){const t=Y(),s=ce(G,"users",t,"settings","budgets"),r=await Ms(s);if(r.exists()){const a=r.data();delete a[e],await Fe(s,a)}},subscribe(e){const t=Y();return pe(ce(G,"users",t,"settings","budgets"),s=>{e(s.exists()?s.data():{})})}},Ct={async getAll(){const e=Y();return(await Tt(oe(X(G,"users",e,"goals"),He("createdAt","desc")))).docs.map(s=>{var a,o;const r=s.data();return{id:s.id,name:r.name||"",targetAmount:Number(r.targetAmount)||0,currentAmount:Number(r.currentAmount)||0,deadline:r.deadline||void 0,icon:r.icon||"",color:r.color||"#05BFDB",description:r.description||"",isCompleted:!!r.isCompleted,createdAt:((o=(a=r.createdAt)==null?void 0:a.toDate)==null?void 0:o.call(a))||new Date}})},async add(e){const t=Y();return(await It(X(G,"users",t,"goals"),{name:e.name,targetAmount:Number(e.targetAmount)||0,currentAmount:Number(e.currentAmount)||0,deadline:e.deadline||null,icon:e.icon||"",color:e.color||"#05BFDB",description:e.description||"",isCompleted:!1,createdAt:me.now()})).id},async update(e,t){const s=Y(),r={updatedAt:me.now()};t.name!==void 0&&(r.name=t.name),t.targetAmount!==void 0&&(r.targetAmount=Number(t.targetAmount)||0),t.currentAmount!==void 0&&(r.currentAmount=Number(t.currentAmount)||0),t.deadline!==void 0&&(r.deadline=t.deadline),t.icon!==void 0&&(r.icon=t.icon),t.color!==void 0&&(r.color=t.color),t.description!==void 0&&(r.description=t.description),t.isCompleted!==void 0&&(r.isCompleted=t.isCompleted),await Fe(ce(G,"users",s,"goals",e),r)},async delete(e){const t=Y();await us(ce(G,"users",t,"goals",e))},async addContribution(e,t){const s=Y(),r=ce(G,"users",s,"goals",e),a=await Ms(r);if(a.exists()){const o=a.data(),i=Number(o.currentAmount)||0,l=Number(o.targetAmount)||0,c=i+Number(t),d=c>=l;await Fe(r,{currentAmount:c,isCompleted:d,updatedAt:me.now(),...d?{completedAt:me.now()}:{}})}},subscribe(e){const t=Y();return pe(oe(X(G,"users",t,"goals"),He("createdAt","desc")),s=>{const r=s.docs.map(a=>{var i,l;const o=a.data();return{id:a.id,name:o.name||"",targetAmount:Number(o.targetAmount)||0,currentAmount:Number(o.currentAmount)||0,deadline:o.deadline||void 0,icon:o.icon||"",color:o.color||"#05BFDB",description:o.description||"",isCompleted:!!o.isCompleted,createdAt:((l=(i=o.createdAt)==null?void 0:i.toDate)==null?void 0:l.call(i))||new Date}});e(r)})}},Zt={async getAll(){const e=Y();return(await Tt(X(G,"users",e,"recurring-expenses"))).docs.map(r=>{var o,i;const a=r.data();return{id:r.id,...a,nextDueDate:(i=(o=a.nextDueDate)==null?void 0:o.toDate)!=null&&i.call(o)?a.nextDueDate.toDate().toISOString():a.nextDueDate}}).sort((r,a)=>new Date(r.nextDueDate).getTime()-new Date(a.nextDueDate).getTime())},async add(e){const t=Y();console.log(" Adding recurring transaction:",e);let s=e.nextDueDate;s instanceof Date?s=me.fromDate(s):typeof s=="string"&&(s=me.fromDate(new Date(s)));const r={name:e.name||"",description:e.description||"",amount:e.amount||0,category:e.category||"",type:e.type||"expense",frequency:e.frequency||"monthly",dayOfMonth:e.dayOfMonth||1,dayOfWeek:e.dayOfWeek||1,isActive:e.isActive!==!1,reminderDays:e.reminderDays||3,nextDueDate:s,createdAt:me.now()};console.log(" Data to save:",r);try{const a=await It(X(G,"users",t,"recurring-expenses"),r);return console.log(" Recurring added with ID:",a.id),a.id}catch(a){throw console.error(" Error adding recurring:",a),a}},async update(e,t){const s=Y();console.log(" Updating recurring:",e,t);const r={...t};r.nextDueDate&&(r.nextDueDate instanceof Date?r.nextDueDate=me.fromDate(r.nextDueDate):typeof r.nextDueDate=="string"&&(r.nextDueDate=me.fromDate(new Date(r.nextDueDate)))),r.updatedAt=me.now();try{await Fe(ce(G,"users",s,"recurring-expenses",e),r),console.log(" Recurring updated")}catch(a){throw console.error(" Error updating recurring:",a),a}},async delete(e){const t=Y();console.log(" Deleting recurring:",e);try{await us(ce(G,"users",t,"recurring-expenses",e)),console.log(" Recurring deleted")}catch(s){throw console.error(" Error deleting recurring:",s),s}},subscribe(e){const t=Y();return pe(X(G,"users",t,"recurring-expenses"),s=>{const r=s.docs.map(a=>{var i,l;const o=a.data();return{id:a.id,...o,nextDueDate:(l=(i=o.nextDueDate)==null?void 0:i.toDate)!=null&&l.call(i)?o.nextDueDate.toDate().toISOString():o.nextDueDate}});r.sort((a,o)=>new Date(a.nextDueDate).getTime()-new Date(o.nextDueDate).getTime()),e(r)},s=>{console.error(" Error in recurring subscription:",s)})}},Ui={async getAll(){const e=Y();return(await Tt(oe(X(G,"users",e,"notifications"),He("createdAt","desc"),ma(50)))).docs.map(s=>({id:s.id,...s.data()}))},async add(e){const t=Y();return(await It(X(G,"users",t,"notifications"),{...e,createdAt:me.now()})).id},async markAsRead(e){const t=Y();await Fe(ce(G,"users",t,"notifications",e),{isRead:!0,readAt:me.now()})},async markAllAsRead(){const e=Y(),t=Gc(G);(await Tt(oe(X(G,"users",e,"notifications"),Se("isRead","==",!1)))).docs.forEach(r=>{t.update(r.ref,{isRead:!0,readAt:me.now()})}),await t.commit()},async delete(e){const t=Y();await us(ce(G,"users",t,"notifications",e))},subscribe(e){const t=Y();return pe(oe(X(G,"users",t,"notifications"),He("createdAt","desc"),ma(50)),s=>{const r=s.docs.map(a=>({id:a.id,...a.data()}));e(r)})}};let yf={data:""},bf=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||yf},vf=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,wf=/\/\*[^]*?\*\/|  +/g,qi=/\n+/g,We=(e,t)=>{let s="",r="",a="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?s=o+" "+i+";":r+=o[1]=="f"?We(i,o):o+"{"+We(i,o[1]=="k"?"":t)+"}":typeof i=="object"?r+=We(i,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=We.p?We.p(o,i):o+":"+i+";")}return s+(t&&a?t+"{"+a+"}":a)+r},$e={},Hl=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+Hl(e[s]);return t}return e},jf=(e,t,s,r,a)=>{let o=Hl(e),i=$e[o]||($e[o]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(o));if(!$e[i]){let c=o!==e?e:(d=>{let u,h,m=[{}];for(;u=vf.exec(d.replace(wf,""));)u[4]?m.shift():u[3]?(h=u[3].replace(qi," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][u[1]]=u[2].replace(qi," ").trim();return m[0]})(e);$e[i]=We(a?{["@keyframes "+i]:c}:c,s?"":"."+i)}let l=s&&$e.g?$e.g:null;return s&&($e.g=$e[i]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})($e[i],t,r,l),i},Nf=(e,t,s)=>e.reduce((r,a,o)=>{let i=t[o];if(i&&i.call){let l=i(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":We(l,""):l===!1?"":l}return r+a+(i??"")},"");function cn(e){let t=this||{},s=e.call?e(t.p):e;return jf(s.unshift?s.raw?Nf(s,[].slice.call(arguments,1),t.p):s.reduce((r,a)=>Object.assign(r,a&&a.call?a(t.p):a),{}):s,bf(t.target),t.g,t.o,t.k)}let Yl,lr,cr;cn.bind({g:1});let Ge=cn.bind({k:1});function _f(e,t,s,r){We.p=t,Yl=e,lr=s,cr=r}function st(e,t){let s=this||{};return function(){let r=arguments;function a(o,i){let l=Object.assign({},o),c=l.className||a.className;s.p=Object.assign({theme:lr&&lr()},l),s.o=/ *go\d+/.test(c),l.className=cn.apply(s,r)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),cr&&d[0]&&cr(l),Yl(d,l)}return a}}var Af=e=>typeof e=="function",Ys=(e,t)=>Af(e)?e(t):e,Cf=(()=>{let e=0;return()=>(++e).toString()})(),Xl=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Sf=20,ra="default",Zl=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return Zl(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},Bs=[],Ql={toasts:[],pausedAt:void 0,settings:{toastLimit:Sf}},Ee={},Jl=(e,t=ra)=>{Ee[t]=Zl(Ee[t]||Ql,e),Bs.forEach(([s,r])=>{s===t&&r(Ee[t])})},ec=e=>Object.keys(Ee).forEach(t=>Jl(e,t)),kf=e=>Object.keys(Ee).find(t=>Ee[t].toasts.some(s=>s.id===e)),dn=(e=ra)=>t=>{Jl(t,e)},Tf={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Df=(e={},t=ra)=>{let[s,r]=y.useState(Ee[t]||Ql),a=y.useRef(Ee[t]);y.useEffect(()=>(a.current!==Ee[t]&&r(Ee[t]),Bs.push([t,r]),()=>{let i=Bs.findIndex(([l])=>l===t);i>-1&&Bs.splice(i,1)}),[t]);let o=s.toasts.map(i=>{var l,c,d;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Tf[i.type],style:{...e.style,...(d=e[i.type])==null?void 0:d.style,...i.style}}});return{...s,toasts:o}},Ef=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Cf()}),vs=e=>(t,s)=>{let r=Ef(t,e,s);return dn(r.toasterId||kf(r.id))({type:2,toast:r}),r.id},ie=(e,t)=>vs("blank")(e,t);ie.error=vs("error");ie.success=vs("success");ie.loading=vs("loading");ie.custom=vs("custom");ie.dismiss=(e,t)=>{let s={type:3,toastId:e};t?dn(t)(s):ec(s)};ie.dismissAll=e=>ie.dismiss(void 0,e);ie.remove=(e,t)=>{let s={type:4,toastId:e};t?dn(t)(s):ec(s)};ie.removeAll=e=>ie.remove(void 0,e);ie.promise=(e,t,s)=>{let r=ie.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let o=t.success?Ys(t.success,a):void 0;return o?ie.success(o,{id:r,...s,...s==null?void 0:s.success}):ie.dismiss(r),a}).catch(a=>{let o=t.error?Ys(t.error,a):void 0;o?ie.error(o,{id:r,...s,...s==null?void 0:s.error}):ie.dismiss(r)}),e};var Mf=1e3,Pf=(e,t="default")=>{let{toasts:s,pausedAt:r}=Df(e,t),a=y.useRef(new Map).current,o=y.useCallback((h,m=Mf)=>{if(a.has(h))return;let f=setTimeout(()=>{a.delete(h),i({type:4,toastId:h})},m);a.set(h,f)},[]);y.useEffect(()=>{if(r)return;let h=Date.now(),m=s.map(f=>{if(f.duration===1/0)return;let N=(f.duration||0)+f.pauseDuration-(h-f.createdAt);if(N<0){f.visible&&ie.dismiss(f.id);return}return setTimeout(()=>ie.dismiss(f.id,t),N)});return()=>{m.forEach(f=>f&&clearTimeout(f))}},[s,r,t]);let i=y.useCallback(dn(t),[t]),l=y.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=y.useCallback((h,m)=>{i({type:1,toast:{id:h,height:m}})},[i]),d=y.useCallback(()=>{r&&i({type:6,time:Date.now()})},[r,i]),u=y.useCallback((h,m)=>{let{reverseOrder:f=!1,gutter:N=8,defaultPosition:v}=m||{},w=s.filter(g=>(g.position||v)===(h.position||v)&&g.height),p=w.findIndex(g=>g.id===h.id),x=w.filter((g,_)=>_<p&&g.visible).length;return w.filter(g=>g.visible).slice(...f?[x+1]:[0,x]).reduce((g,_)=>g+(_.height||0)+N,0)},[s]);return y.useEffect(()=>{s.forEach(h=>{if(h.dismissed)o(h.id,h.removeDelay);else{let m=a.get(h.id);m&&(clearTimeout(m),a.delete(h.id))}})},[s,o]),{toasts:s,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},Rf=Ge`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,If=Ge`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ff=Ge`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Bf=st("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rf} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${If} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ff} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$f=Ge`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Of=st("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${$f} 1s linear infinite;
`,Lf=Ge`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Vf=Ge`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zf=st("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Lf} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Vf} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Gf=st("div")`
  position: absolute;
`,Uf=st("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qf=Ge`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Kf=st("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qf} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Wf=({toast:e})=>{let{icon:t,type:s,iconTheme:r}=e;return t!==void 0?typeof t=="string"?y.createElement(Kf,null,t):t:s==="blank"?null:y.createElement(Uf,null,y.createElement(Of,{...r}),s!=="loading"&&y.createElement(Gf,null,s==="error"?y.createElement(Bf,{...r}):y.createElement(zf,{...r})))},Hf=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Yf=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Xf="0%{opacity:0;} 100%{opacity:1;}",Zf="0%{opacity:1;} 100%{opacity:0;}",Qf=st("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Jf=st("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,eg=(e,t)=>{let s=e.includes("top")?1:-1,[r,a]=Xl()?[Xf,Zf]:[Hf(s),Yf(s)];return{animation:t?`${Ge(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ge(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},tg=y.memo(({toast:e,position:t,style:s,children:r})=>{let a=e.height?eg(e.position||t||"top-center",e.visible):{opacity:0},o=y.createElement(Wf,{toast:e}),i=y.createElement(Jf,{...e.ariaProps},Ys(e.message,e));return y.createElement(Qf,{className:e.className,style:{...a,...s,...e.style}},typeof r=="function"?r({icon:o,message:i}):y.createElement(y.Fragment,null,o,i))});_f(y.createElement);var sg=({id:e,className:t,style:s,onHeightUpdate:r,children:a})=>{let o=y.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return y.createElement("div",{ref:o,className:t,style:s},a)},ng=(e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Xl()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...r,...a}},rg=cn`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Es=16,Ki=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:r,children:a,toasterId:o,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:d}=Pf(s,o);return y.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Es,left:Es,right:Es,bottom:Es,pointerEvents:"none",...i},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let h=u.position||t,m=d.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),f=ng(h,m);return y.createElement(sg,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?rg:"",style:f},u.type==="custom"?Ys(u.message,u):a?a(u):y.createElement(tg,{toast:u,position:h}))}))},tc=ie;const En={"auth/email-already-in-use":"Este correo ya est registrado","auth/invalid-email":"Correo electrnico invlido","auth/operation-not-allowed":"Operacin no permitida","auth/weak-password":"La contrasea debe tener al menos 6 caracteres","auth/user-disabled":"Esta cuenta ha sido deshabilitada","auth/user-not-found":"No existe una cuenta con este correo","auth/wrong-password":"Contrasea incorrecta","auth/invalid-credential":"Credenciales invlidas. Verifica tu correo y contrasea","auth/too-many-requests":"Demasiados intentos. Intenta ms tarde","auth/network-request-failed":"Error de conexin. Verifica tu internet","auth/popup-closed-by-user":"Inicio de sesin cancelado","auth/requires-recent-login":"Debes iniciar sesin nuevamente para esta accin","permission-denied":"No tienes permiso para realizar esta accin","not-found":"Documento no encontrado","already-exists":"El documento ya existe","resource-exhausted":"Lmite de operaciones excedido","failed-precondition":"Operacin no vlida en este estado",aborted:"Operacin cancelada","out-of-range":"Valor fuera de rango",unimplemented:"Funcin no implementada",internal:"Error interno del servidor",unavailable:"Servicio no disponible","data-loss":"Error de datos",unauthenticated:"Debes iniciar sesin",unknown:"Ha ocurrido un error inesperado"},ag=e=>{if(e&&typeof e=="object"&&"code"in e){const t=e.code,s=En[t]||En.unknown;return{code:t,message:s,originalError:e}}return e instanceof Error?{code:"error",message:e.message,originalError:e}:typeof e=="string"?{code:"error",message:e}:{code:"unknown",message:En.unknown,originalError:e}},sc={style:{background:"#001845",color:"#fff",borderRadius:"12px",padding:"12px 16px",border:"1px solid rgba(5, 191, 219, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"}},Me=e=>{tc.success(e,{...sc,iconTheme:{primary:"#22C55E",secondary:"#fff"}})},re=e=>{const{message:t}=ag(e);tc.error(t,{...sc,iconTheme:{primary:"#EF4444",secondary:"#fff"},duration:5e3})},ig=()=>{const{user:e,setExpenses:t,setIncomes:s,setBudgets:r,setGoals:a,setRecurringTransactions:o,setNotifications:i,setLoading:l}=de(),c=y.useCallback(async()=>{if(e){l(!0);try{const[d,u,h,m,f]=await Promise.all([Dn.getAll(),Gi.getAll(),Ct.getAll(),Zt.getAll(),Ui.getAll()]);t(d.expenses),s(d.incomes),r(u),a(h),o(m),i(f)}catch(d){console.error("Error loading data:",d),re("Error al cargar los datos")}finally{l(!1)}}},[e,t,s,r,a,o,i,l]);return y.useEffect(()=>{if(!e)return;const d=[];try{d.push(Dn.subscribeToExpenses(t)),d.push(Dn.subscribeToIncomes(s)),d.push(Gi.subscribe(r)),d.push(Ct.subscribe(a)),d.push(Zt.subscribe(o)),d.push(Ui.subscribe(i))}catch(u){console.error("Error setting up subscriptions:",u)}return()=>{d.forEach(u=>u())}},[e,t,s,r,a,o,i]),y.useEffect(()=>{c()},[c]),{reload:c}},og=()=>{const{goals:e}=de(),t=Array.isArray(e)?e:[],s=async i=>{try{return await Ct.add(i)}catch(l){throw re("Error al crear meta"),l}},r=async(i,l)=>{try{await Ct.update(i,l)}catch(c){throw re("Error al actualizar meta"),c}},a=async i=>{try{await Ct.delete(i)}catch(l){throw re("Error al eliminar meta"),l}},o=async(i,l)=>{try{await Ct.addContribution(i,l)}catch(c){throw re("Error al agregar aporte"),c}};return{goals:t,activeGoals:t.filter(i=>!i.isCompleted),completedGoals:t.filter(i=>i.isCompleted),add:s,update:r,remove:a,contribute:o}},lg=()=>{const{recurringTransactions:e}=de(),t=Array.isArray(e)?e:[],s=async o=>{console.log(" useRecurring.add called with:",o);try{const i=await Zt.add(o);return console.log(" useRecurring.add success, id:",i),i}catch(i){throw console.error(" useRecurring.add error:",i),console.error("Error code:",i==null?void 0:i.code),console.error("Error message:",i==null?void 0:i.message),re(`Error al crear transaccin recurrente: ${(i==null?void 0:i.message)||"Unknown error"}`),i}},r=async(o,i)=>{console.log(" useRecurring.update called:",o,i);try{await Zt.update(o,i)}catch(l){throw console.error(" useRecurring.update error:",l),re(`Error al actualizar: ${(l==null?void 0:l.message)||"Unknown error"}`),l}},a=async o=>{console.log(" useRecurring.remove called:",o);try{await Zt.delete(o)}catch(i){throw console.error(" useRecurring.remove error:",i),re(`Error al eliminar: ${(i==null?void 0:i.message)||"Unknown error"}`),i}};return{recurring:t,active:t.filter(o=>o.isActive),add:s,update:r,remove:a}},Wi=["$","","","","","","","","","","","","","","","","","","","","","",""],cg=()=>{const{theme:e}=de(),t=y.useMemo(()=>Array.from({length:25},(i,l)=>({id:l,symbol:Wi[Math.floor(Math.random()*Wi.length)],size:Math.random()*16+12,x:Math.random()*100,delay:Math.random()*30,duration:Math.random()*25+20,opacity:Math.random()*.4+.2,rotation:Math.random()*360})),[]),s=y.useMemo(()=>Array.from({length:12},(i,l)=>({id:l,size:Math.random()*60+30,x:Math.random()*100,delay:Math.random()*20,duration:Math.random()*30+25})),[]),r=y.useMemo(()=>Array.from({length:5},(i,l)=>({id:l,size:Math.random()*300+200,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*10})),[]),o=(()=>{switch(e){case"pink":return"rgba(236, 72, 153, ";case"purple":return"rgba(168, 85, 247, ";case"turquoise":return"rgba(20, 184, 166, ";default:return"rgba(5, 191, 219, "}})();return n.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",style:{zIndex:1},"aria-hidden":"true",children:[t.map(i=>n.jsx("div",{className:"absolute flex items-center justify-center select-none",style:{fontSize:i.size,left:`${i.x}%`,bottom:"-50px",color:`${o}${i.opacity})`,textShadow:`
              0 0 ${i.size}px ${o}0.8),
              0 0 ${i.size*2}px ${o}0.4),
              0 0 ${i.size*3}px ${o}0.2)
            `,animation:`symbolFloat ${i.duration}s linear infinite`,animationDelay:`${i.delay}s`,filter:"blur(0.5px)"},children:i.symbol},`symbol-${i.id}`)),s.map(i=>n.jsx("div",{className:"absolute rounded-full",style:{width:i.size,height:i.size,left:`${i.x}%`,bottom:"-100px",background:"transparent",border:`1.5px solid ${o}0.25)`,boxShadow:`
              0 0 ${i.size/2}px ${o}0.15),
              inset 0 0 ${i.size/3}px ${o}0.08)
            `,animation:`circleFloat ${i.duration}s ease-in-out infinite`,animationDelay:`${i.delay}s`}},`circle-${i.id}`)),r.map(i=>n.jsx("div",{className:"absolute rounded-full",style:{width:i.size,height:i.size,left:`${i.x}%`,top:`${i.y}%`,background:`radial-gradient(circle, ${o}0.1) 0%, transparent 70%)`,filter:"blur(60px)",animation:"orbPulse 12s ease-in-out infinite",animationDelay:`${i.delay}s`,transform:"translate(-50%, -50%)"}},`orb-${i.id}`)),n.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px]",style:{background:`radial-gradient(circle at top left, ${o}0.15) 0%, transparent 60%)`,filter:"blur(80px)"}}),n.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px]",style:{background:`radial-gradient(circle at bottom right, ${o}0.12) 0%, transparent 60%)`,filter:"blur(80px)"}}),n.jsx("style",{children:`
        @keyframes symbolFloat {
          0% {
            transform: translateY(0) rotate(0deg) scale(0.8);
            opacity: 0;
          }
          5% {
            opacity: 1;
          }
          25% {
            transform: translateY(-25vh) rotate(15deg) scale(1);
          }
          50% {
            transform: translateY(-50vh) rotate(-10deg) scale(1.1);
          }
          75% {
            transform: translateY(-75vh) rotate(20deg) scale(1);
          }
          95% {
            opacity: 0.6;
          }
          100% {
            transform: translateY(-105vh) rotate(0deg) scale(0.9);
            opacity: 0;
          }
        }
        
        @keyframes circleFloat {
          0% {
            transform: translateY(0) translateX(0) scale(0.8) rotate(0deg);
            opacity: 0;
          }
          10% {
            opacity: 0.5;
          }
          30% {
            transform: translateY(-30vh) translateX(30px) scale(1) rotate(60deg);
          }
          50% {
            transform: translateY(-50vh) translateX(-20px) scale(1.1) rotate(120deg);
          }
          70% {
            transform: translateY(-70vh) translateX(25px) scale(1) rotate(180deg);
          }
          90% {
            opacity: 0.3;
          }
          100% {
            transform: translateY(-105vh) translateX(0) scale(0.9) rotate(360deg);
            opacity: 0;
          }
        }
        
        @keyframes orbPulse {
          0%, 100% {
            transform: translate(-50%, -50%) scale(1);
            opacity: 0.25;
          }
          50% {
            transform: translate(-50%, -50%) scale(1.5);
            opacity: 0.5;
          }
        }
      `})]})},aa="-",dg=e=>{const t=hg(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(aa);return l[0]===""&&l.length!==1&&l.shift(),nc(l,t)||ug(i)},getConflictingClassGroupIds:(i,l)=>{const c=s[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},nc=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),a=r?nc(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(aa);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Hi=/^\[(.+)\]$/,ug=e=>{if(Hi.test(e)){const t=Hi.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},hg=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return pg(Object.entries(e.classGroups),s).forEach(([o,i])=>{dr(i,r,o,t)}),r},dr=(e,t,s,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Yi(t,a);o.classGroupId=s;return}if(typeof a=="function"){if(mg(a)){dr(a(r),t,s,r);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([o,i])=>{dr(i,Yi(t,o),s,r)})})},Yi=(e,t)=>{let s=e;return t.split(aa).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},mg=e=>e.isThemeGetter,pg=(e,t)=>t?e.map(([s,r])=>{const a=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[s,a]}):e,fg=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const a=(o,i)=>{s.set(o,i),t++,t>e&&(t=0,r=s,s=new Map)};return{get(o){let i=s.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return a(o,i),i},set(o,i){s.has(o)?s.set(o,i):a(o,i)}}},rc="!",gg=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let d=0,u=0,h;for(let w=0;w<l.length;w++){let p=l[w];if(d===0){if(p===a&&(r||l.slice(w,w+o)===t)){c.push(l.slice(u,w)),u=w+o;continue}if(p==="/"){h=w;continue}}p==="["?d++:p==="]"&&d--}const m=c.length===0?l:l.substring(u),f=m.startsWith(rc),N=f?m.substring(1):m,v=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:N,maybePostfixModifierPosition:v}};return s?l=>s({className:l,parseClassName:i}):i},xg=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},yg=e=>({cache:fg(e.cacheSize),parseClassName:gg(e),...dg(e)}),bg=/\s+/,vg=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(bg);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=s(d);let N=!!f,v=r(N?m.substring(0,f):m);if(!v){if(!N){l=d+(l.length>0?" "+l:l);continue}if(v=r(m),!v){l=d+(l.length>0?" "+l:l);continue}N=!1}const w=xg(u).join(":"),p=h?w+rc:w,x=p+v;if(o.includes(x))continue;o.push(x);const g=a(v,N);for(let _=0;_<g.length;++_){const T=g[_];o.push(p+T)}l=d+(l.length>0?" "+l:l)}return l};function wg(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=ac(t))&&(r&&(r+=" "),r+=s);return r}const ac=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=ac(e[r]))&&(s&&(s+=" "),s+=t);return s};function jg(e,...t){let s,r,a,o=i;function i(c){const d=t.reduce((u,h)=>h(u),e());return s=yg(d),r=s.cache.get,a=s.cache.set,o=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=vg(c,s);return a(c,u),u}return function(){return o(wg.apply(null,arguments))}}const Z=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},ic=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ng=/^\d+\/\d+$/,_g=new Set(["px","full","screen"]),Ag=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Cg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sg=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kg=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oe=e=>St(e)||_g.has(e)||Ng.test(e),Ue=e=>$t(e,"length",Bg),St=e=>!!e&&!Number.isNaN(Number(e)),Mn=e=>$t(e,"number",St),Vt=e=>!!e&&Number.isInteger(Number(e)),Dg=e=>e.endsWith("%")&&St(e.slice(0,-1)),U=e=>ic.test(e),qe=e=>Ag.test(e),Eg=new Set(["length","size","percentage"]),Mg=e=>$t(e,Eg,oc),Pg=e=>$t(e,"position",oc),Rg=new Set(["image","url"]),Ig=e=>$t(e,Rg,Og),Fg=e=>$t(e,"",$g),zt=()=>!0,$t=(e,t,s)=>{const r=ic.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},Bg=e=>Cg.test(e)&&!Sg.test(e),oc=()=>!1,$g=e=>kg.test(e),Og=e=>Tg.test(e),Lg=()=>{const e=Z("colors"),t=Z("spacing"),s=Z("blur"),r=Z("brightness"),a=Z("borderColor"),o=Z("borderRadius"),i=Z("borderSpacing"),l=Z("borderWidth"),c=Z("contrast"),d=Z("grayscale"),u=Z("hueRotate"),h=Z("invert"),m=Z("gap"),f=Z("gradientColorStops"),N=Z("gradientColorStopPositions"),v=Z("inset"),w=Z("margin"),p=Z("opacity"),x=Z("padding"),g=Z("saturate"),_=Z("scale"),T=Z("sepia"),b=Z("skew"),j=Z("space"),M=Z("translate"),$=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",U,t],C=()=>[U,t],A=()=>["",Oe,Ue],S=()=>["auto",St,U],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",U],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[St,U];return{cacheSize:500,separator:":",theme:{colors:[zt],spacing:[Oe,Ue],blur:["none","",qe,U],brightness:ae(),borderColor:[e],borderRadius:["none","","full",qe,U],borderSpacing:C(),borderWidth:A(),contrast:ae(),grayscale:L(),hueRotate:ae(),invert:L(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[Dg,Ue],inset:P(),margin:P(),opacity:ae(),padding:C(),saturate:ae(),scale:ae(),sepia:L(),skew:ae(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",U]}],container:["container"],columns:[{columns:[qe]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),U]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vt,U]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",U]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Vt,U]}],"grid-cols":[{"grid-cols":[zt]}],"col-start-end":[{col:["auto",{span:["full",Vt,U]},U]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[zt]}],"row-start-end":[{row:["auto",{span:[Vt,U]},U]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",U]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",U]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",U,t]}],"min-w":[{"min-w":[U,t,"min","max","fit"]}],"max-w":[{"max-w":[U,t,"none","full","min","max","fit","prose",{screen:[qe]},qe]}],h:[{h:[U,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[U,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qe,Ue]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mn]}],"font-family":[{font:[zt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",U]}],"line-clamp":[{"line-clamp":["none",St,Mn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oe,U]}],"list-image":[{"list-image":["none",U]}],"list-style-type":[{list:["none","disc","decimal",U]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oe,Ue]}],"underline-offset":[{"underline-offset":["auto",Oe,U]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),Pg]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mg]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ig]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:E()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[Oe,U]}],"outline-w":[{outline:[Oe,Ue]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Oe,Ue]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qe,Fg]}],"shadow-color":[{shadow:[zt]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qe,U]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[g]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",U]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",U]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",U]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Vt,U]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",U]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Oe,Ue,Mn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Vg=jg(Lg),B=(...e)=>Vg(Tc(e)),H=y.forwardRef(({children:e,variant:t="primary",size:s="md",isLoading:r=!1,leftIcon:a,rightIcon:o,fullWidth:i=!1,className:l,disabled:c,style:d,...u},h)=>{const m=de(w=>w.theme),f=_e(m),N={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2.5 text-base",lg:"px-6 py-3 text-lg"},v=()=>{switch(t){case"primary":return{background:`linear-gradient(135deg, ${f.primary} 0%, ${f.secondary} 100%)`,color:"white",boxShadow:`0 0 20px ${f.primary}60, 0 4px 15px rgba(0, 0, 0, 0.3)`};case"secondary":return{background:"rgba(255, 255, 255, 0.1)",color:"white",border:"1px solid rgba(255, 255, 255, 0.2)"};case"danger":return{background:"rgba(239, 68, 68, 0.2)",color:"#f87171",border:"1px solid rgba(239, 68, 68, 0.3)"};case"ghost":return{background:"transparent",color:"rgba(255, 255, 255, 0.7)"};case"outline":return{background:"transparent",color:f.primary,border:`2px solid ${f.primary}`};default:return{}}};return n.jsx("button",{ref:h,className:B("inline-flex items-center justify-center gap-2 font-semibold rounded-xl","transition-all duration-300 focus-visible:ring-2 focus-visible:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none","hover:scale-105 active:scale-95",N[s],i&&"w-full",l),style:{...v(),...d},disabled:c||r,...u,children:r?n.jsx(Ul,{className:"w-5 h-5 animate-spin"}):n.jsxs(n.Fragment,{children:[a,e,o]})})});H.displayName="Button";const F=({children:e,className:t,hover:s=!0,padding:r="md",onClick:a,neon:o=!0})=>{const i={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return n.jsx("div",{className:B("card relative rounded-2xl backdrop-blur-lg overflow-hidden","transition-all duration-300",i[r],a&&"cursor-pointer",t),onClick:a,children:e})},zg={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20}},Gg={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},De=({isOpen:e,onClose:t,title:s,children:r,size:a="md",showClose:o=!0})=>{const i={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};return n.jsx(ke,{children:e&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(W.div,{variants:Gg,initial:"hidden",animate:"visible",exit:"exit",className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:t}),n.jsxs(W.div,{variants:zg,initial:"hidden",animate:"visible",exit:"exit",transition:{type:"spring",damping:25,stiffness:300},className:B("card relative w-full rounded-2xl max-h-[90vh] overflow-auto",i[a]),children:[(s||o)&&n.jsxs("div",{className:"flex items-center justify-between p-6",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[s&&n.jsx("h2",{className:"text-xl font-bold text-white",children:s}),o&&n.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors","aria-label":"Cerrar",children:n.jsx(cs,{className:"w-5 h-5 text-white/60"})})]}),n.jsx("div",{className:"p-6",children:r})]})]})})},Pe=y.forwardRef(({label:e,error:t,leftIcon:s,rightIcon:r,className:a,...o},i)=>n.jsxs("div",{className:"w-full",children:[e&&n.jsx("label",{className:"block mb-2 text-sm font-semibold text-white/90",children:e}),n.jsxs("div",{className:"relative",children:[s&&n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/40",children:s}),n.jsx("input",{ref:i,className:B("w-full px-4 py-3 rounded-xl","bg-dark-700/60 border-2 border-white/10","text-white placeholder-white/40","transition-all duration-300","focus:border-primary-500 focus:ring-0","focus:shadow-[0_0_0_3px_rgba(5,191,219,0.2)]",t&&"border-danger-500 focus:border-danger-500",s&&"pl-10",r&&"pr-10",a),...o}),r&&n.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/40",children:r})]}),t&&n.jsx("p",{className:"mt-1 text-sm text-danger-400",children:t})]}));Pe.displayName="Input";const lc=y.forwardRef(({label:e,error:t,options:s,placeholder:r,className:a,...o},i)=>n.jsxs("div",{className:"w-full",children:[e&&n.jsx("label",{className:"block mb-2 text-sm font-semibold text-white/90",children:e}),n.jsxs("select",{ref:i,className:B("w-full px-4 py-3 rounded-xl appearance-none cursor-pointer","bg-dark-700/60 border-2 border-white/10","text-white","transition-all duration-300","focus:border-primary-500 focus:ring-0","focus:shadow-[0_0_0_3px_rgba(5,191,219,0.2)]",t&&"border-danger-500",a),...o,children:[r&&n.jsx("option",{value:"",disabled:!0,children:r}),s.map(l=>n.jsx("option",{value:l.value,children:l.label},l.value))]}),t&&n.jsx("p",{className:"mt-1 text-sm text-danger-400",children:t})]}));lc.displayName="Select";const cc=({icon:e,title:t,description:s,action:r})=>n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e&&n.jsx("div",{className:"text-6xl mb-4 opacity-50",children:e}),n.jsx("h3",{className:"text-xl font-semibold text-white/80 mb-2",children:t}),s&&n.jsx("p",{className:"text-white/50 max-w-xs mb-4",children:s}),r]}),Te=({children:e,variant:t="default",size:s="md"})=>{const r={default:"bg-white/10 text-white/70",success:"bg-success-500/20 text-success-400",warning:"bg-warning-500/20 text-warning-400",danger:"bg-danger-500/20 text-danger-400",primary:"bg-primary-500/20 text-primary-400"},a={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-xs"};return n.jsx("span",{className:B("inline-flex items-center gap-1 font-semibold rounded-full",r[t],a[s]),children:e})},Xi=({src:e,name:t,size:s="md",className:r})=>{const a={sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl"},o=t==null?void 0:t.split(" ").map(i=>i[0]).join("").toUpperCase().slice(0,2);return e?n.jsx("img",{src:e,alt:t||"Avatar",className:B("rounded-full object-cover bg-primary-500/20",a[s],r)}):n.jsx("div",{className:B("flex items-center justify-center rounded-full","bg-gradient-to-br from-primary-500 to-secondary-500","font-bold text-white",a[s],r),children:o||"?"})},Ug=({checked:e,onChange:t,disabled:s=!1,className:r})=>{const a=de(i=>i.theme),o=_e(a);return n.jsx("button",{type:"button",role:"switch","aria-checked":e,disabled:s,onClick:()=>t(!e),className:B("relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent","transition-colors duration-200 ease-in-out","focus:outline-none focus:ring-2 focus:ring-offset-2",e?"bg-primary-500":"bg-white/20",s&&"opacity-50 cursor-not-allowed",r),style:e?{backgroundColor:o.primary}:void 0,children:n.jsx("span",{className:B("pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0","transition duration-200 ease-in-out",e?"translate-x-5":"translate-x-0")})})},qg={save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",add:"Agregar",close:"Cerrar",confirm:"Confirmar",search:"Buscar",filter:"Filtrar",loading:"Cargando...",error:"Error",success:"xito",yes:"S",no:"No",back:"Atrs",next:"Siguiente",new:"Nuevo",active:"Activo",paused:"Pausado",total:"Total",monthly:"Mensual",nav_home:"Inicio",nav_transactions:"Transacciones",nav_budgets:"Presupuestos",nav_goals:"Metas",nav_reports:"Reportes",nav_assistant:"Asistente",nav_recurring:"Recurrentes",nav_settings:"Configuracin",nav_more:"Ms",nav_logout:"Cerrar Sesin",auth_welcome:"Bienvenido!",auth_login:"Iniciar Sesin",auth_register:"Registrarse",auth_email:"Correo electrnico",auth_password:"Contrasea",auth_confirmPassword:"Confirmar contrasea",auth_forgotPassword:"Olvidaste tu contrasea?",auth_noAccount:"No tienes cuenta?",auth_hasAccount:"Ya tienes cuenta?",auth_continueWith:"o contina con",auth_name:"Nombre completo",auth_createAccount:"Crear Cuenta",dash_title:"Dashboard",dash_balance:"Balance Total",dash_income:"Ingresos",dash_expenses:"Gastos",dash_savingsRate:"Tasa de Ahorro",dash_recentTransactions:"Transacciones Recientes",dash_quickActions:"Acciones Rpidas",dash_addExpense:"Agregar Gasto",dash_addIncome:"Agregar Ingreso",dash_noTransactions:"Sin transacciones",dash_viewAll:"Ver todas",trans_title:"Transacciones",trans_add:"Nueva Transaccin",trans_expense:"Gasto",trans_income:"Ingreso",trans_amount:"Monto",trans_category:"Categora",trans_date:"Fecha",trans_description:"Descripcin",trans_notes:"Notas",trans_noTransactions:"No hay transacciones",trans_deleteConfirm:"Eliminar esta transaccin?",budget_title:"Presupuestos",budget_add:"Nuevo Presupuesto",budget_spent:"Gastado",budget_remaining:"Restante",budget_exceeded:"Excedido",budget_onTrack:"En buen camino",budget_noBudgets:"Sin presupuestos configurados",budget_limit:"Lmite",budget_category:"Categora",budget_percentUsed:"% usado",goals_title:"Metas de Ahorro",goals_add:"Nueva Meta",goals_target:"Monto Objetivo",goals_current:"Monto Actual",goals_deadline:"Fecha Lmite",goals_progress:"Progreso",goals_completed:"Completada",goals_noGoals:"Sin metas configuradas",goals_addContribution:"Agregar Aporte",goals_daysLeft:"das restantes",goals_achieved:"Meta alcanzada!",reports_title:"Reportes",reports_overview:"Resumen",reports_byCategory:"Por Categora",reports_trends:"Tendencias",reports_thisMonth:"Este Mes",reports_lastMonth:"Mes Pasado",reports_thisYear:"Este Ao",reports_income:"Ingresos",reports_expenses:"Gastos",reports_balance:"Balance",reports_noData:"Sin datos disponibles",recur_title:"Transacciones Recurrentes",recur_add:"Nuevo Recurrente",recur_edit:"Editar Recurrente",recur_fixedIncome:"Ingresos Fijos/mes",recur_fixedExpenses:"Gastos Fijos/mes",recur_fixedBalance:"Balance Fijo/mes",recur_totalActive:"Total Activos",recur_frequency:"Frecuencia",recur_daily:"Diario",recur_weekly:"Semanal",recur_biweekly:"Quincenal",recur_monthly:"Mensual",recur_yearly:"Anual",recur_nextDue:"Prximo cobro",recur_noRecurring:"Sin transacciones recurrentes",recur_dayOfMonth:"Da del mes",asst_title:"Asistente Financiero",asst_placeholder:"Escribe tu pregunta financiera...",asst_send:"Enviar",asst_analyzing:"Analizando tus datos...",asst_clearChat:"Limpiar chat",asst_summary:"Resumen",asst_tips:"Consejos",asst_savings:"Ahorro",asst_projection:"Proyeccin",asst_alerts:"Alertas",asst_achievements:"Logros",asst_welcome:"Hola! Soy tu asistente financiero inteligente.",asst_hint:"Presiona Enter o el botn para enviar",settings_title:"Configuracin",settings_general:"General",settings_appearance:"Apariencia",settings_notifications:"Notificaciones",settings_alerts:"Alertas",settings_data:"Datos",settings_theme:"Tema",settings_language:"Idioma",settings_currency:"Moneda",settings_profile:"Perfil",settings_export:"Exportar Datos",settings_import:"Importar Datos",settings_deleteAccount:"Eliminar Cuenta",settings_budgetAlerts:"Alertas de Presupuesto",settings_goalAlerts:"Alertas de Metas",more_title:"Ms Opciones",more_quickSettings:"Configuracin Rpida",more_advancedSettings:"Configuracin Avanzada",more_account:"Cuenta",more_fullSettings:"Configuracin Completa",more_smartAlerts:"Alertas Inteligentes",more_dataManagement:"Gestin de Datos",more_myProfile:"Mi Perfil",more_logoutConfirm:"Cerrar sesin?",landing_tagline:"Tu gestor financiero personal inteligente. Toma el control de tus finanzas hoy.",landing_feature1Title:"Control de Gastos",landing_feature1Desc:"Registra y categoriza todos tus movimientos",landing_feature2Title:"Presupuestos",landing_feature2Desc:"Establece lmites y recibe alertas",landing_feature3Title:"Metas de Ahorro",landing_feature3Desc:"Alcanza tus objetivos financieros",landing_feature4Title:"Asistente IA",landing_feature4Desc:"Consejos personalizados para ti",landing_copyright:" 2025 Smarter Investment. Todos los derechos reservados.",cat_food:"Alimentacin",cat_transport:"Transporte",cat_entertainment:"Entretenimiento",cat_shopping:"Compras",cat_health:"Salud",cat_education:"Educacin",cat_utilities:"Servicios",cat_rent:"Alquiler",cat_subscriptions:"Suscripciones",cat_other:"Otros",cat_salary:"Salario",cat_freelance:"Freelance",cat_investments:"Inversiones",cat_gifts:"Regalos",cat_sales:"Ventas",cat_refunds:"Reembolsos"},un={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",close:"Close",confirm:"Confirm",search:"Search",filter:"Filter",loading:"Loading...",error:"Error",success:"Success",yes:"Yes",no:"No",back:"Back",next:"Next",new:"New",active:"Active",paused:"Paused",total:"Total",monthly:"Monthly",nav_home:"Home",nav_transactions:"Transactions",nav_budgets:"Budgets",nav_goals:"Goals",nav_reports:"Reports",nav_assistant:"Assistant",nav_recurring:"Recurring",nav_settings:"Settings",nav_more:"More",nav_logout:"Logout",auth_welcome:"Welcome!",auth_login:"Sign In",auth_register:"Sign Up",auth_email:"Email",auth_password:"Password",auth_confirmPassword:"Confirm password",auth_forgotPassword:"Forgot password?",auth_noAccount:"Don't have an account?",auth_hasAccount:"Already have an account?",auth_continueWith:"or continue with",auth_name:"Full name",auth_createAccount:"Create Account",dash_title:"Dashboard",dash_balance:"Total Balance",dash_income:"Income",dash_expenses:"Expenses",dash_savingsRate:"Savings Rate",dash_recentTransactions:"Recent Transactions",dash_quickActions:"Quick Actions",dash_addExpense:"Add Expense",dash_addIncome:"Add Income",dash_noTransactions:"No transactions",dash_viewAll:"View all",trans_title:"Transactions",trans_add:"New Transaction",trans_expense:"Expense",trans_income:"Income",trans_amount:"Amount",trans_category:"Category",trans_date:"Date",trans_description:"Description",trans_notes:"Notes",trans_noTransactions:"No transactions",trans_deleteConfirm:"Delete this transaction?",budget_title:"Budgets",budget_add:"New Budget",budget_spent:"Spent",budget_remaining:"Remaining",budget_exceeded:"Exceeded",budget_onTrack:"On track",budget_noBudgets:"No budgets set",budget_limit:"Limit",budget_category:"Category",budget_percentUsed:"% used",goals_title:"Savings Goals",goals_add:"New Goal",goals_target:"Target Amount",goals_current:"Current Amount",goals_deadline:"Deadline",goals_progress:"Progress",goals_completed:"Completed",goals_noGoals:"No goals set",goals_addContribution:"Add Contribution",goals_daysLeft:"days left",goals_achieved:"Goal achieved!",reports_title:"Reports",reports_overview:"Overview",reports_byCategory:"By Category",reports_trends:"Trends",reports_thisMonth:"This Month",reports_lastMonth:"Last Month",reports_thisYear:"This Year",reports_income:"Income",reports_expenses:"Expenses",reports_balance:"Balance",reports_noData:"No data available",recur_title:"Recurring Transactions",recur_add:"New Recurring",recur_edit:"Edit Recurring",recur_fixedIncome:"Fixed Income/month",recur_fixedExpenses:"Fixed Expenses/month",recur_fixedBalance:"Fixed Balance/month",recur_totalActive:"Total Active",recur_frequency:"Frequency",recur_daily:"Daily",recur_weekly:"Weekly",recur_biweekly:"Biweekly",recur_monthly:"Monthly",recur_yearly:"Yearly",recur_nextDue:"Next due",recur_noRecurring:"No recurring transactions",recur_dayOfMonth:"Day of month",asst_title:"Financial Assistant",asst_placeholder:"Type your financial question...",asst_send:"Send",asst_analyzing:"Analyzing your data...",asst_clearChat:"Clear chat",asst_summary:"Summary",asst_tips:"Tips",asst_savings:"Savings",asst_projection:"Projection",asst_alerts:"Alerts",asst_achievements:"Achievements",asst_welcome:"Hello! I'm your intelligent financial assistant.",asst_hint:"Press Enter or the button to send",settings_title:"Settings",settings_general:"General",settings_appearance:"Appearance",settings_notifications:"Notifications",settings_alerts:"Alerts",settings_data:"Data",settings_theme:"Theme",settings_language:"Language",settings_currency:"Currency",settings_profile:"Profile",settings_export:"Export Data",settings_import:"Import Data",settings_deleteAccount:"Delete Account",settings_budgetAlerts:"Budget Alerts",settings_goalAlerts:"Goal Alerts",more_title:"More Options",more_quickSettings:"Quick Settings",more_advancedSettings:"Advanced Settings",more_account:"Account",more_fullSettings:"Full Settings",more_smartAlerts:"Smart Alerts",more_dataManagement:"Data Management",more_myProfile:"My Profile",more_logoutConfirm:"Sign out?",landing_tagline:"Your intelligent personal finance manager. Take control of your finances today.",landing_feature1Title:"Expense Tracking",landing_feature1Desc:"Record and categorize all your transactions",landing_feature2Title:"Budgets",landing_feature2Desc:"Set limits and receive alerts",landing_feature3Title:"Savings Goals",landing_feature3Desc:"Achieve your financial objectives",landing_feature4Title:"AI Assistant",landing_feature4Desc:"Personalized tips for you",landing_copyright:" 2025 Smarter Investment. All rights reserved.",cat_food:"Food",cat_transport:"Transport",cat_entertainment:"Entertainment",cat_shopping:"Shopping",cat_health:"Health",cat_education:"Education",cat_utilities:"Utilities",cat_rent:"Rent",cat_subscriptions:"Subscriptions",cat_other:"Other",cat_salary:"Salary",cat_freelance:"Freelance",cat_investments:"Investments",cat_gifts:"Gifts",cat_sales:"Sales",cat_refunds:"Refunds"},dc={save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",add:"Ajouter",close:"Fermer",confirm:"Confirmer",search:"Rechercher",filter:"Filtrer",loading:"Chargement...",error:"Erreur",success:"Succs",yes:"Oui",no:"Non",back:"Retour",next:"Suivant",new:"Nouveau",active:"Actif",paused:"En pause",total:"Total",monthly:"Mensuel",nav_home:"Accueil",nav_transactions:"Transactions",nav_budgets:"Budgets",nav_goals:"Objectifs",nav_reports:"Rapports",nav_assistant:"Assistant",nav_recurring:"Rcurrents",nav_settings:"Paramtres",nav_more:"Plus",nav_logout:"Dconnexion",auth_welcome:"Bienvenue!",auth_login:"Se connecter",auth_register:"S'inscrire",auth_email:"Email",auth_password:"Mot de passe",auth_confirmPassword:"Confirmer le mot de passe",auth_forgotPassword:"Mot de passe oubli?",auth_noAccount:"Pas de compte?",auth_hasAccount:"Dj un compte?",auth_continueWith:"ou continuer avec",auth_name:"Nom complet",auth_createAccount:"Crer un compte",dash_title:"Tableau de bord",dash_balance:"Solde Total",dash_income:"Revenus",dash_expenses:"Dpenses",dash_savingsRate:"Taux d'pargne",dash_recentTransactions:"Transactions Rcentes",dash_quickActions:"Actions Rapides",dash_addExpense:"Ajouter Dpense",dash_addIncome:"Ajouter Revenu",dash_noTransactions:"Aucune transaction",dash_viewAll:"Voir tout",trans_title:"Transactions",trans_add:"Nouvelle Transaction",trans_expense:"Dpense",trans_income:"Revenu",trans_amount:"Montant",trans_category:"Catgorie",trans_date:"Date",trans_description:"Description",trans_notes:"Notes",trans_noTransactions:"Aucune transaction",trans_deleteConfirm:"Supprimer cette transaction?",budget_title:"Budgets",budget_add:"Nouveau Budget",budget_spent:"Dpens",budget_remaining:"Restant",budget_exceeded:"Dpass",budget_onTrack:"En bonne voie",budget_noBudgets:"Aucun budget dfini",budget_limit:"Limite",budget_category:"Catgorie",budget_percentUsed:"% utilis",goals_title:"Objectifs d'pargne",goals_add:"Nouvel Objectif",goals_target:"Montant Cible",goals_current:"Montant Actuel",goals_deadline:"Date Limite",goals_progress:"Progression",goals_completed:"Termin",goals_noGoals:"Aucun objectif dfini",goals_addContribution:"Ajouter Contribution",goals_daysLeft:"jours restants",goals_achieved:"Objectif atteint!",reports_title:"Rapports",reports_overview:"Aperu",reports_byCategory:"Par Catgorie",reports_trends:"Tendances",reports_thisMonth:"Ce Mois",reports_lastMonth:"Mois Dernier",reports_thisYear:"Cette Anne",reports_income:"Revenus",reports_expenses:"Dpenses",reports_balance:"Solde",reports_noData:"Aucune donne disponible",recur_title:"Transactions Rcurrentes",recur_add:"Nouveau Rcurrent",recur_edit:"Modifier Rcurrent",recur_fixedIncome:"Revenus Fixes/mois",recur_fixedExpenses:"Dpenses Fixes/mois",recur_fixedBalance:"Solde Fixe/mois",recur_totalActive:"Total Actifs",recur_frequency:"Frquence",recur_daily:"Quotidien",recur_weekly:"Hebdomadaire",recur_biweekly:"Bimensuel",recur_monthly:"Mensuel",recur_yearly:"Annuel",recur_nextDue:"Prochain paiement",recur_noRecurring:"Aucune transaction rcurrente",recur_dayOfMonth:"Jour du mois",asst_title:"Assistant Financier",asst_placeholder:"crivez votre question financire...",asst_send:"Envoyer",asst_analyzing:"Analyse de vos donnes...",asst_clearChat:"Effacer le chat",asst_summary:"Rsum",asst_tips:"Conseils",asst_savings:"pargne",asst_projection:"Projection",asst_alerts:"Alertes",asst_achievements:"Ralisations",asst_welcome:"Bonjour! Je suis votre assistant financier intelligent.",asst_hint:"Appuyez sur Entre ou le bouton pour envoyer",settings_title:"Paramtres",settings_general:"Gnral",settings_appearance:"Apparence",settings_notifications:"Notifications",settings_alerts:"Alertes",settings_data:"Donnes",settings_theme:"Thme",settings_language:"Langue",settings_currency:"Devise",settings_profile:"Profil",settings_export:"Exporter Donnes",settings_import:"Importer Donnes",settings_deleteAccount:"Supprimer Compte",settings_budgetAlerts:"Alertes Budget",settings_goalAlerts:"Alertes Objectifs",more_title:"Plus d'Options",more_quickSettings:"Paramtres Rapides",more_advancedSettings:"Paramtres Avancs",more_account:"Compte",more_fullSettings:"Paramtres Complets",more_smartAlerts:"Alertes Intelligentes",more_dataManagement:"Gestion des Donnes",more_myProfile:"Mon Profil",more_logoutConfirm:"Se dconnecter?",landing_tagline:"Votre gestionnaire financier personnel intelligent. Prenez le contrle de vos finances.",landing_feature1Title:"Suivi des Dpenses",landing_feature1Desc:"Enregistrez et catgorisez toutes vos transactions",landing_feature2Title:"Budgets",landing_feature2Desc:"Dfinissez des limites et recevez des alertes",landing_feature3Title:"Objectifs d'pargne",landing_feature3Desc:"Atteignez vos objectifs financiers",landing_feature4Title:"Assistant IA",landing_feature4Desc:"Conseils personnaliss pour vous",landing_copyright:" 2025 Smarter Investment. Tous droits rservs.",cat_food:"Alimentation",cat_transport:"Transport",cat_entertainment:"Divertissement",cat_shopping:"Shopping",cat_health:"Sant",cat_education:"ducation",cat_utilities:"Services",cat_rent:"Loyer",cat_subscriptions:"Abonnements",cat_other:"Autres",cat_salary:"Salaire",cat_freelance:"Freelance",cat_investments:"Investissements",cat_gifts:"Cadeaux",cat_sales:"Ventes",cat_refunds:"Remboursements"},Kg={save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",add:"Adicionar",close:"Fechar",confirm:"Confirmar",search:"Pesquisar",filter:"Filtrar",loading:"Carregando...",error:"Erro",success:"Sucesso",yes:"Sim",no:"No",back:"Voltar",next:"Prximo",new:"Novo",active:"Ativo",paused:"Pausado",total:"Total",monthly:"Mensal",nav_home:"Incio",nav_transactions:"Transaes",nav_budgets:"Oramentos",nav_goals:"Metas",nav_reports:"Relatrios",nav_assistant:"Assistente",nav_recurring:"Recorrentes",nav_settings:"Configuraes",nav_more:"Mais",nav_logout:"Sair",auth_welcome:"Bem-vindo!",auth_login:"Entrar",auth_register:"Cadastrar",auth_email:"Email",auth_password:"Senha",auth_confirmPassword:"Confirmar senha",auth_forgotPassword:"Esqueceu a senha?",auth_noAccount:"No tem conta?",auth_hasAccount:"J tem uma conta?",auth_continueWith:"ou continue com",auth_name:"Nome completo",auth_createAccount:"Criar Conta",dash_title:"Painel",dash_balance:"Saldo Total",dash_income:"Receitas",dash_expenses:"Despesas",dash_savingsRate:"Taxa de Poupana",dash_recentTransactions:"Transaes Recentes",dash_quickActions:"Aes Rpidas",dash_addExpense:"Adicionar Despesa",dash_addIncome:"Adicionar Receita",dash_noTransactions:"Sem transaes",dash_viewAll:"Ver todas",trans_title:"Transaes",trans_add:"Nova Transao",trans_expense:"Despesa",trans_income:"Receita",trans_amount:"Valor",trans_category:"Categoria",trans_date:"Data",trans_description:"Descrio",trans_notes:"Notas",trans_noTransactions:"Sem transaes",trans_deleteConfirm:"Excluir esta transao?",budget_title:"Oramentos",budget_add:"Novo Oramento",budget_spent:"Gasto",budget_remaining:"Restante",budget_exceeded:"Excedido",budget_onTrack:"No caminho certo",budget_noBudgets:"Sem oramentos definidos",budget_limit:"Limite",budget_category:"Categoria",budget_percentUsed:"% usado",goals_title:"Metas de Economia",goals_add:"Nova Meta",goals_target:"Valor Alvo",goals_current:"Valor Atual",goals_deadline:"Prazo",goals_progress:"Progresso",goals_completed:"Concluda",goals_noGoals:"Sem metas definidas",goals_addContribution:"Adicionar Contribuio",goals_daysLeft:"dias restantes",goals_achieved:"Meta alcanada!",reports_title:"Relatrios",reports_overview:"Viso Geral",reports_byCategory:"Por Categoria",reports_trends:"Tendncias",reports_thisMonth:"Este Ms",reports_lastMonth:"Ms Passado",reports_thisYear:"Este Ano",reports_income:"Receitas",reports_expenses:"Despesas",reports_balance:"Saldo",reports_noData:"Sem dados disponveis",recur_title:"Transaes Recorrentes",recur_add:"Novo Recorrente",recur_edit:"Editar Recorrente",recur_fixedIncome:"Receitas Fixas/ms",recur_fixedExpenses:"Despesas Fixas/ms",recur_fixedBalance:"Saldo Fixo/ms",recur_totalActive:"Total Ativos",recur_frequency:"Frequncia",recur_daily:"Dirio",recur_weekly:"Semanal",recur_biweekly:"Quinzenal",recur_monthly:"Mensal",recur_yearly:"Anual",recur_nextDue:"Prximo vencimento",recur_noRecurring:"Sem transaes recorrentes",recur_dayOfMonth:"Dia do ms",asst_title:"Assistente Financeiro",asst_placeholder:"Digite sua pergunta financeira...",asst_send:"Enviar",asst_analyzing:"Analisando seus dados...",asst_clearChat:"Limpar chat",asst_summary:"Resumo",asst_tips:"Dicas",asst_savings:"Poupana",asst_projection:"Projeo",asst_alerts:"Alertas",asst_achievements:"Conquistas",asst_welcome:"Ol! Sou seu assistente financeiro inteligente.",asst_hint:"Pressione Enter ou o boto para enviar",settings_title:"Configuraes",settings_general:"Geral",settings_appearance:"Aparncia",settings_notifications:"Notificaes",settings_alerts:"Alertas",settings_data:"Dados",settings_theme:"Tema",settings_language:"Idioma",settings_currency:"Moeda",settings_profile:"Perfil",settings_export:"Exportar Dados",settings_import:"Importar Dados",settings_deleteAccount:"Excluir Conta",settings_budgetAlerts:"Alertas de Oramento",settings_goalAlerts:"Alertas de Metas",more_title:"Mais Opes",more_quickSettings:"Config. Rpidas",more_advancedSettings:"Config. Avanadas",more_account:"Conta",more_fullSettings:"Config. Completas",more_smartAlerts:"Alertas Inteligentes",more_dataManagement:"Gesto de Dados",more_myProfile:"Meu Perfil",more_logoutConfirm:"Sair da conta?",landing_tagline:"Seu gestor financeiro pessoal inteligente. Assuma o controle das suas finanas hoje.",landing_feature1Title:"Controle de Gastos",landing_feature1Desc:"Registre e categorize todas as suas transaes",landing_feature2Title:"Oramentos",landing_feature2Desc:"Defina limites e receba alertas",landing_feature3Title:"Metas de Economia",landing_feature3Desc:"Alcance seus objetivos financeiros",landing_feature4Title:"Assistente IA",landing_feature4Desc:"Dicas personalizadas para voc",landing_copyright:" 2025 Smarter Investment. Todos os direitos reservados.",cat_food:"Alimentao",cat_transport:"Transporte",cat_entertainment:"Entretenimento",cat_shopping:"Compras",cat_health:"Sade",cat_education:"Educao",cat_utilities:"Servios",cat_rent:"Aluguel",cat_subscriptions:"Assinaturas",cat_other:"Outros",cat_salary:"Salrio",cat_freelance:"Freelance",cat_investments:"Investimentos",cat_gifts:"Presentes",cat_sales:"Vendas",cat_refunds:"Reembolsos"},Wg={...dc,save:"Salva",cancel:"Annulla",delete:"Elimina",edit:"Modifica",add:"Aggiungi",close:"Chiudi",confirm:"Conferma",search:"Cerca",filter:"Filtra",loading:"Caricamento...",error:"Errore",success:"Successo",yes:"S",no:"No",back:"Indietro",next:"Avanti",new:"Nuovo",active:"Attivo",paused:"In pausa",total:"Totale",monthly:"Mensile",nav_home:"Home",nav_transactions:"Transazioni",nav_budgets:"Budget",nav_goals:"Obiettivi",nav_reports:"Rapporti",nav_assistant:"Assistente",nav_recurring:"Ricorrenti",nav_settings:"Impostazioni",nav_more:"Altro",nav_logout:"Esci",auth_welcome:"Benvenuto!",auth_login:"Accedi",auth_register:"Registrati",auth_noAccount:"Non hai un account?",auth_hasAccount:"Hai gi un account?",auth_createAccount:"Crea Account",landing_tagline:"Il tuo gestore finanziario personale intelligente. Prendi il controllo delle tue finanze.",landing_feature1Title:"Controllo Spese",landing_feature2Title:"Budget",landing_feature3Title:"Obiettivi di Risparmio",landing_feature4Title:"Assistente IA",landing_copyright:" 2025 Smarter Investment. Tutti i diritti riservati."},Hg={...un,save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",add:"Hinzufgen",close:"Schlieen",confirm:"Besttigen",search:"Suchen",filter:"Filtern",loading:"Laden...",error:"Fehler",success:"Erfolg",yes:"Ja",no:"Nein",back:"Zurck",next:"Weiter",new:"Neu",active:"Aktiv",paused:"Pausiert",total:"Gesamt",monthly:"Monatlich",nav_home:"Start",nav_transactions:"Transaktionen",nav_budgets:"Budgets",nav_goals:"Ziele",nav_reports:"Berichte",nav_assistant:"Assistent",nav_recurring:"Wiederkehrend",nav_settings:"Einstellungen",nav_more:"Mehr",nav_logout:"Abmelden",auth_welcome:"Willkommen!",auth_login:"Anmelden",auth_register:"Registrieren",auth_noAccount:"Kein Konto?",auth_hasAccount:"Bereits ein Konto?",auth_createAccount:"Konto erstellen",landing_tagline:"Ihr intelligenter persnlicher Finanzmanager. bernehmen Sie die Kontrolle ber Ihre Finanzen.",landing_feature1Title:"Ausgabenkontrolle",landing_feature2Title:"Budgets",landing_feature3Title:"Sparziele",landing_feature4Title:"KI-Assistent",landing_copyright:" 2025 Smarter Investment. Alle Rechte vorbehalten."},Yg={...un,save:"",cancel:"",delete:"",edit:"",add:"",close:"",confirm:"",search:"",filter:"",loading:"...",error:"",success:"",yes:"",no:"",back:"",next:"",new:"",active:"",paused:"",total:"",monthly:"",nav_home:"",nav_transactions:"",nav_budgets:"",nav_goals:"",nav_reports:"",nav_assistant:"",nav_recurring:"",nav_settings:"",nav_more:"",nav_logout:"",auth_welcome:"",auth_login:"",auth_register:"",auth_email:"",auth_password:"",auth_noAccount:"",auth_hasAccount:"",auth_createAccount:"",dash_balance:"",dash_income:"",dash_expenses:"",dash_savingsRate:"",landing_tagline:"",landing_feature1Title:"",landing_feature2Title:"",landing_feature3Title:"",landing_feature4Title:"AI",landing_copyright:" 2025 Smarter Investment"},Xg={...un,save:"",cancel:"",delete:"",edit:"",add:"",close:"",confirm:"",search:"",filter:"",loading:"...",error:"",success:"",yes:"",no:"",back:"",next:"",new:"",active:"",paused:"",total:"",monthly:"",nav_home:"",nav_transactions:"",nav_budgets:"",nav_goals:"",nav_reports:"",nav_assistant:"",nav_recurring:"",nav_settings:"",nav_more:"",nav_logout:"",auth_welcome:"",auth_login:"",auth_register:"",auth_noAccount:"",auth_hasAccount:"",auth_createAccount:"",dash_balance:"",dash_income:"",dash_expenses:"",dash_savingsRate:"",landing_tagline:"",landing_feature1Title:"",landing_feature2Title:"",landing_feature3Title:"",landing_feature4Title:"AI",landing_copyright:" 2025 Smarter Investment"},Xs={es:qg,en:un,fr:dc,pt:Kg,it:Wg,de:Hg,zh:Yg,ja:Xg};function ia(e){return Xs[e]||Xs.es}const Zg=[{value:"es",label:"Espaol",flag:""},{value:"en",label:"English",flag:""},{value:"fr",label:"Franais",flag:""},{value:"it",label:"Italiano",flag:""},{value:"pt",label:"Portugus",flag:""},{value:"de",label:"Deutsch",flag:""},{value:"zh",label:"",flag:""},{value:"ja",label:"",flag:""}];function Qg(e){const t=Xs[e]||Xs.es;return{home:t.nav_home,transactions:t.nav_transactions,budgets:t.nav_budgets,goals:t.nav_goals,reports:t.nav_reports,assistant:t.nav_assistant,recurring:t.nav_recurring,settings:t.nav_settings,more:t.nav_more}}const Jg=[{id:"dashboard",labelKey:"home",icon:n.jsx(Jr,{className:"w-5 h-5"})},{id:"transactions",labelKey:"transactions",icon:n.jsx(Ol,{className:"w-5 h-5"})},{id:"goals",labelKey:"goals",icon:n.jsx(Be,{className:"w-5 h-5"})},{id:"assistant",labelKey:"assistant",icon:n.jsx(Rt,{className:"w-5 h-5"})},{id:"more",labelKey:"more",icon:n.jsx(ea,{className:"w-5 h-5"})}],e0=[{id:"dashboard",labelKey:"home",icon:n.jsx(Jr,{className:"w-5 h-5"})},{id:"transactions",labelKey:"transactions",icon:n.jsx(Ol,{className:"w-5 h-5"})},{id:"budgets",labelKey:"budgets",icon:n.jsx(df,{className:"w-5 h-5"})},{id:"goals",labelKey:"goals",icon:n.jsx(Be,{className:"w-5 h-5"})},{id:"reports",labelKey:"reports",icon:n.jsx(Hs,{className:"w-5 h-5"})},{id:"recurring",labelKey:"recurring",icon:n.jsx(ut,{className:"w-5 h-5"})},{id:"assistant",labelKey:"assistant",icon:n.jsx(Rt,{className:"w-5 h-5"})},{id:"more",labelKey:"more",icon:n.jsx(ea,{className:"w-5 h-5"})}],t0=[{id:"dark",labelKey:"Oscuro (Cyan)",icon:n.jsx(ql,{className:"w-4 h-4"}),color:"#05BFDB"},{id:"pink",labelKey:"Rosado",icon:n.jsx(Gl,{className:"w-4 h-4"}),color:"#ec4899"},{id:"purple",labelKey:"Morado",icon:n.jsx(os,{className:"w-4 h-4"}),color:"#a855f7"},{id:"turquoise",labelKey:"Turquesa",icon:n.jsx(os,{className:"w-4 h-4"}),color:"#14b8a6"}],s0=({children:e})=>{const{user:t,activePage:s,setActivePage:r,notifications:a,theme:o,setTheme:i,logout:l,language:c}=de(),d=Qg(c),[u,h]=y.useState(!1),[m,f]=y.useState(!1),[N,v]=y.useState(!1);ig();const w=a.filter(x=>!x.isRead).length,p=_e(o);return n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx(cg,{}),n.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary-500 focus:text-white focus:rounded-lg",children:d.home}),n.jsx("header",{className:"sticky top-0 z-40 backdrop-blur-lg border-b safe-top bg-dark-700/80 border-white/10",children:n.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>h(!0),className:B("p-2 rounded-lg transition-colors lg:hidden","hover:bg-white/10"),"aria-label":"Abrir men",children:n.jsx(ea,{className:B("w-5 h-5","text-white/80")})}),n.jsx("div",{className:"relative rounded-xl overflow-hidden",style:{boxShadow:`0 0 15px ${p.primary}60, 0 0 30px ${p.primary}30`,border:`2px solid ${p.primary}`},children:n.jsx("img",{src:"/logo-smarter.jpg",alt:"Smarter Investment",className:"w-9 h-9 object-cover"})}),n.jsx("h1",{className:B("text-lg font-bold hidden sm:block","text-white"),style:{textShadow:`0 0 20px ${p.primary}40`},children:"Smarter Investment"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>v(!N),className:B("p-2 rounded-lg transition-colors","hover:bg-white/10"),"aria-label":"Cambiar tema",style:{color:p.primary},children:n.jsx(ta,{className:"w-5 h-5"})}),n.jsx(ke,{children:N&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>v(!1)}),n.jsx(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:B("absolute right-0 top-12 w-48 border rounded-xl shadow-xl overflow-hidden z-50","bg-dark-500 border-white/10"),children:t0.map(x=>n.jsxs("button",{onClick:()=>{i(x.id),v(!1)},className:B("w-full flex items-center gap-3 px-4 py-3 text-left transition-colors",o===x.id?"bg-white/10":"hover:bg-white/5"),children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:x.color,boxShadow:`0 0 10px ${x.color}60`}}),n.jsx("span",{className:B("text-sm","text-white/80"),children:x.labelKey}),o===x.id&&n.jsx("span",{className:"ml-auto text-xs",style:{color:x.color},children:""})]},x.id))})]})})]}),n.jsxs("button",{onClick:()=>f(!m),className:B("relative p-2 rounded-lg transition-colors","hover:bg-white/10"),"aria-label":"Notificaciones",children:[n.jsx(gt,{className:B("w-5 h-5","text-white/80")}),w>0&&n.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-5 h-5 flex items-center justify-center text-[10px] font-bold text-white rounded-full",style:{backgroundColor:"#ef4444",boxShadow:"0 0 10px rgba(239, 68, 68, 0.5)"},children:w>9?"9+":w})]}),n.jsx("button",{onClick:()=>h(!0),className:"hidden lg:block",children:n.jsx(Xi,{src:t==null?void 0:t.photoURL,name:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"U",size:"sm"})})]})]})}),n.jsx("main",{id:"main-content",className:"flex-1 pb-20 lg:pb-6",children:n.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:e})}),n.jsx("nav",{className:B("fixed bottom-0 left-0 right-0 z-40 backdrop-blur-lg border-t safe-bottom lg:hidden","bg-dark-700/95 border-white/10"),children:n.jsx("div",{className:"flex items-center justify-around px-2 py-2",children:Jg.map(x=>n.jsxs("button",{onClick:()=>r(x.id),className:B("flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all min-w-[60px]",s===x.id?"":"text-white/50 hover:text-white/80"),style:s===x.id?{color:p.primary,backgroundColor:`${p.primary}20`}:void 0,"aria-label":d[x.labelKey],"aria-current":s===x.id?"page":void 0,children:[x.icon,n.jsx("span",{className:"text-[10px] font-medium",children:d[x.labelKey]})]},x.id))})}),n.jsx(ke,{children:u&&n.jsxs(n.Fragment,{children:[n.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50",onClick:()=>h(!1)}),n.jsxs(W.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:B("fixed left-0 top-0 bottom-0 w-72 border-r z-50 flex flex-col","bg-dark-700 border-white/10"),children:[n.jsx("div",{className:B("p-6 border-b","border-white/10"),children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Xi,{src:t==null?void 0:t.photoURL,name:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"U",size:"lg"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:B("font-semibold truncate","text-white"),children:(t==null?void 0:t.displayName)||"Usuario"}),n.jsx("p",{className:B("text-sm truncate","text-white/50"),children:t==null?void 0:t.email})]}),n.jsx("button",{onClick:()=>h(!1),className:B("p-2 rounded-lg","hover:bg-white/10"),children:n.jsx(cs,{className:B("w-5 h-5","text-white/60")})})]})}),n.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:n.jsxs("div",{className:"space-y-1",children:[e0.map(x=>n.jsxs("button",{onClick:()=>{r(x.id),h(!1)},className:B("w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all text-left",s===x.id?"":"text-slate-600 hover:bg-slate-50 hover:text-slate-800"),style:s===x.id?{backgroundColor:`${p.primary}20`,color:p.primary}:void 0,children:[x.icon,n.jsx("span",{className:"font-medium",children:d[x.labelKey]})]},x.id)),n.jsx("div",{className:B("my-4 border-t","border-white/10")}),n.jsxs("button",{onClick:()=>{r("settings"),h(!1)},className:B("w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all text-left",s==="settings"?"":"text-slate-600 hover:bg-slate-50 hover:text-slate-800"),style:s==="settings"?{backgroundColor:`${p.primary}20`,color:p.primary}:void 0,children:[n.jsx(Xt,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:d.settings})]})]})}),n.jsx("div",{className:B("p-4 border-t","border-white/10"),children:n.jsxs("button",{onClick:()=>{h(!1),l()},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-danger-400 hover:bg-danger-500/10 transition-colors",children:[n.jsx(Fs,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Cerrar Sesin"})]})})]})]})}),n.jsx(ke,{children:m&&n.jsxs(n.Fragment,{children:[n.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 z-50",onClick:()=>f(!1)}),n.jsxs(W.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25},className:B("fixed right-0 top-0 bottom-0 w-full max-w-sm border-l z-50 flex flex-col","bg-dark-700 border-white/10"),children:[n.jsxs("div",{className:B("flex items-center justify-between p-4 border-b","border-white/10"),children:[n.jsx("h2",{className:B("text-lg font-bold","text-white"),children:"Notificaciones"}),n.jsx("button",{onClick:()=>f(!1),className:B("p-2 rounded-lg","hover:bg-white/10"),children:n.jsx(cs,{className:B("w-5 h-5","text-white/60")})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(gt,{className:B("w-12 h-12 mx-auto mb-4","text-white/20")}),n.jsx("p",{className:B("text-white/50"),children:"No tienes notificaciones"})]}):n.jsx("div",{className:"space-y-3",children:a.slice(0,10).map(x=>n.jsxs("div",{className:B("p-4 rounded-xl border-l-4",x.isRead?"bg-white/5 border-white/20":""),style:x.isRead?void 0:{backgroundColor:`${p.primary}10`,borderLeftColor:p.primary},children:[n.jsx("p",{className:B("font-medium text-sm","text-white"),children:x.title}),n.jsx("p",{className:B("text-xs mt-1","text-white/60"),children:x.message})]},x.id))})})]})]})})]})},Pn={es:{loading:"Cargando...",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",add:"Agregar",close:"Cerrar",confirm:"Confirmar",search:"Buscar",filter:"Filtrar",all:"Todos",yes:"S",no:"No",ok:"OK",error:"Error",success:"xito",back:"Atrs",nav_dashboard:"Inicio",nav_transactions:"Transacciones",nav_budgets:"Presupuestos",nav_goals:"Metas",nav_reports:"Reportes",nav_settings:"Configuracin",nav_assistant:"Asistente",nav_recurring:"Recurrentes",nav_more:"Ms",nav_logout:"Cerrar Sesin",welcome:"Bienvenido!",login:"Iniciar Sesin",register:"Registrarse",createAccount:"Crear Cuenta",email:"Correo electrnico",password:"Contrasea",confirmPassword:"Confirmar contrasea",forgotPassword:"Olvidaste tu contrasea?",noAccount:"No tienes cuenta?",alreadyHaveAccount:"Ya tienes cuenta?",continueWith:"o contina con",name:"Nombre completo",emailPlaceholder:"correo@ejemplo.com",namePlaceholder:"Tu nombre",totalBalance:"Balance Total",totalIncome:"Ingresos",totalExpenses:"Gastos",savingsRate:"Tasa de Ahorro",recentTransactions:"Transacciones Recientes",quickActions:"Acciones Rpidas",addExpense:"Agregar Gasto",addIncome:"Agregar Ingreso",expense:"Gasto",income:"Ingreso",amount:"Monto",category:"Categora",date:"Fecha",description:"Descripcin",notes:"Notas",noTransactions:"Sin transacciones",cat_food:"Alimentacin",cat_transport:"Transporte",cat_entertainment:"Entretenimiento",cat_shopping:"Compras",cat_health:"Salud",cat_education:"Educacin",cat_utilities:"Servicios",cat_rent:"Alquiler",cat_salary:"Salario",cat_other:"Otros",budgets_title:"Presupuestos",spent:"Gastado",remaining:"Restante",exceeded:"Excedido",setBudget:"Establecer Presupuesto",noBudgets:"Sin presupuestos",goals_title:"Metas de Ahorro",targetAmount:"Monto Objetivo",currentAmount:"Monto Actual",deadline:"Fecha Lmite",progress:"Progreso",addGoal:"Agregar Meta",noGoals:"Sin metas",addContribution:"Agregar Aporte",daysRemaining:"das restantes",reports_title:"Reportes",overview:"Resumen",byCategory:"Por Categora",trends:"Tendencias",thisMonth:"Este Mes",lastMonth:"Mes Pasado",thisYear:"Este Ao",settings_title:"Configuracin",general:"General",appearance:"Apariencia",notifications:"Notificaciones",alerts:"Alertas",data:"Datos",theme:"Tema",language:"Idioma",currency:"Moneda",profile:"Perfil",exportData:"Exportar Datos",assistant_title:"Asistente Financiero",askQuestion:"Escribe tu pregunta...",send:"Enviar",analyzing:"Analizando tus datos...",clearChat:"Limpiar chat",summary:"Resumen",tips:"Consejos",savings:"Ahorro",projection:"Proyeccin",achievements:"Logros",recurring_title:"Transacciones Recurrentes",frequency:"Frecuencia",daily:"Diario",weekly:"Semanal",biweekly:"Quincenal",monthly:"Mensual",yearly:"Anual",active:"Activo",paused:"Pausado",noRecurring:"Sin recurrentes",tagline:"Tu gestor financiero personal inteligente. Toma el control de tus finanzas hoy.",feature1Title:"Control de Gastos",feature1Desc:"Registra y categoriza todos tus movimientos",feature2Title:"Presupuestos",feature2Desc:"Establece lmites y recibe alertas",feature3Title:"Metas de Ahorro",feature3Desc:"Alcanza tus objetivos financieros",feature4Title:"Asistente IA",feature4Desc:"Consejos personalizados para ti",copyright:" 2025 Smarter Investment. Todos los derechos reservados."},en:{loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",close:"Close",confirm:"Confirm",search:"Search",filter:"Filter",all:"All",yes:"Yes",no:"No",ok:"OK",error:"Error",success:"Success",back:"Back",nav_dashboard:"Home",nav_transactions:"Transactions",nav_budgets:"Budgets",nav_goals:"Goals",nav_reports:"Reports",nav_settings:"Settings",nav_assistant:"Assistant",nav_recurring:"Recurring",nav_more:"More",nav_logout:"Logout",welcome:"Welcome!",login:"Sign In",register:"Sign Up",createAccount:"Create Account",email:"Email",password:"Password",confirmPassword:"Confirm password",forgotPassword:"Forgot password?",noAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",continueWith:"or continue with",name:"Full name",emailPlaceholder:"email@example.com",namePlaceholder:"Your name",totalBalance:"Total Balance",totalIncome:"Income",totalExpenses:"Expenses",savingsRate:"Savings Rate",recentTransactions:"Recent Transactions",quickActions:"Quick Actions",addExpense:"Add Expense",addIncome:"Add Income",expense:"Expense",income:"Income",amount:"Amount",category:"Category",date:"Date",description:"Description",notes:"Notes",noTransactions:"No transactions",cat_food:"Food",cat_transport:"Transport",cat_entertainment:"Entertainment",cat_shopping:"Shopping",cat_health:"Health",cat_education:"Education",cat_utilities:"Utilities",cat_rent:"Rent",cat_salary:"Salary",cat_other:"Other",budgets_title:"Budgets",spent:"Spent",remaining:"Remaining",exceeded:"Exceeded",setBudget:"Set Budget",noBudgets:"No budgets",goals_title:"Savings Goals",targetAmount:"Target Amount",currentAmount:"Current Amount",deadline:"Deadline",progress:"Progress",addGoal:"Add Goal",noGoals:"No goals",addContribution:"Add Contribution",daysRemaining:"days remaining",reports_title:"Reports",overview:"Overview",byCategory:"By Category",trends:"Trends",thisMonth:"This Month",lastMonth:"Last Month",thisYear:"This Year",settings_title:"Settings",general:"General",appearance:"Appearance",notifications:"Notifications",alerts:"Alerts",data:"Data",theme:"Theme",language:"Language",currency:"Currency",profile:"Profile",exportData:"Export Data",assistant_title:"Financial Assistant",askQuestion:"Type your question...",send:"Send",analyzing:"Analyzing your data...",clearChat:"Clear chat",summary:"Summary",tips:"Tips",savings:"Savings",projection:"Projection",achievements:"Achievements",recurring_title:"Recurring Transactions",frequency:"Frequency",daily:"Daily",weekly:"Weekly",biweekly:"Biweekly",monthly:"Monthly",yearly:"Yearly",active:"Active",paused:"Paused",noRecurring:"No recurring",tagline:"Your intelligent personal finance manager. Take control of your finances today.",feature1Title:"Expense Tracking",feature1Desc:"Record and categorize all your transactions",feature2Title:"Budgets",feature2Desc:"Set limits and receive alerts",feature3Title:"Savings Goals",feature3Desc:"Achieve your financial objectives",feature4Title:"AI Assistant",feature4Desc:"Personalized tips for you",copyright:" 2025 Smarter Investment. All rights reserved."},fr:{loading:"Chargement...",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",add:"Ajouter",close:"Fermer",confirm:"Confirmer",search:"Rechercher",filter:"Filtrer",all:"Tous",yes:"Oui",no:"Non",ok:"OK",error:"Erreur",success:"Succs",back:"Retour",nav_dashboard:"Accueil",nav_transactions:"Transactions",nav_budgets:"Budgets",nav_goals:"Objectifs",nav_reports:"Rapports",nav_settings:"Paramtres",nav_assistant:"Assistant",nav_recurring:"Rcurrents",nav_more:"Plus",nav_logout:"Dconnexion",welcome:"Bienvenue!",login:"Se connecter",register:"S'inscrire",createAccount:"Crer un compte",email:"Email",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",forgotPassword:"Mot de passe oubli?",noAccount:"Pas de compte?",alreadyHaveAccount:"Dj un compte?",continueWith:"ou continuer avec",name:"Nom complet",emailPlaceholder:"email@exemple.com",namePlaceholder:"Votre nom",totalBalance:"Solde Total",totalIncome:"Revenus",totalExpenses:"Dpenses",savingsRate:"Taux d'pargne",recentTransactions:"Transactions Rcentes",tagline:"Votre gestionnaire financier personnel intelligent. Prenez le contrle de vos finances.",feature1Title:"Suivi des Dpenses",feature1Desc:"Enregistrez et catgorisez toutes vos transactions",feature2Title:"Budgets",feature2Desc:"Dfinissez des limites et recevez des alertes",feature3Title:"Objectifs d'pargne",feature3Desc:"Atteignez vos objectifs financiers",feature4Title:"Assistant IA",feature4Desc:"Conseils personnaliss pour vous",copyright:" 2025 Smarter Investment. Tous droits rservs.",settings_title:"Paramtres",general:"Gnral",theme:"Thme",language:"Langue",currency:"Devise",assistant_title:"Assistant Financier",askQuestion:"crivez votre question...",send:"Envoyer",analyzing:"Analyse de vos donnes...",summary:"Rsum",tips:"Conseils"},pt:{loading:"Carregando...",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",add:"Adicionar",close:"Fechar",confirm:"Confirmar",search:"Pesquisar",filter:"Filtrar",all:"Todos",yes:"Sim",no:"No",ok:"OK",error:"Erro",success:"Sucesso",back:"Voltar",nav_dashboard:"Incio",nav_transactions:"Transaes",nav_budgets:"Oramentos",nav_goals:"Metas",nav_reports:"Relatrios",nav_settings:"Configuraes",nav_assistant:"Assistente",nav_recurring:"Recorrentes",nav_more:"Mais",nav_logout:"Sair",welcome:"Bem-vindo!",login:"Entrar",register:"Cadastrar",createAccount:"Criar Conta",email:"Email",password:"Senha",confirmPassword:"Confirmar senha",forgotPassword:"Esqueceu a senha?",noAccount:"No tem conta?",alreadyHaveAccount:"J tem uma conta?",continueWith:"ou continue com",name:"Nome completo",tagline:"Seu gestor financeiro pessoal inteligente. Assuma o controle das suas finanas hoje.",feature1Title:"Controle de Gastos",feature1Desc:"Registre e categorize todas as suas transaes",feature2Title:"Oramentos",feature2Desc:"Defina limites e receba alertas",feature3Title:"Metas de Economia",feature3Desc:"Alcance seus objetivos financeiros",feature4Title:"Assistente IA",feature4Desc:"Dicas personalizadas para voc",copyright:" 2025 Smarter Investment. Todos os direitos reservados.",settings_title:"Configuraes",theme:"Tema",language:"Idioma",currency:"Moeda"},it:{loading:"Caricamento...",save:"Salva",cancel:"Annulla",delete:"Elimina",edit:"Modifica",add:"Aggiungi",close:"Chiudi",confirm:"Conferma",search:"Cerca",filter:"Filtra",all:"Tutti",yes:"S",no:"No",ok:"OK",error:"Errore",success:"Successo",back:"Indietro",nav_dashboard:"Home",nav_transactions:"Transazioni",nav_budgets:"Budget",nav_goals:"Obiettivi",nav_reports:"Rapporti",nav_settings:"Impostazioni",nav_assistant:"Assistente",nav_recurring:"Ricorrenti",nav_more:"Altro",nav_logout:"Esci",welcome:"Benvenuto!",login:"Accedi",register:"Registrati",createAccount:"Crea Account",email:"Email",password:"Password",confirmPassword:"Conferma password",tagline:"Il tuo gestore finanziario personale intelligente. Prendi il controllo delle tue finanze.",feature1Title:"Controllo Spese",feature1Desc:"Registra e categorizza tutte le tue transazioni",feature2Title:"Budget",feature2Desc:"Imposta limiti e ricevi avvisi",feature3Title:"Obiettivi di Risparmio",feature3Desc:"Raggiungi i tuoi obiettivi finanziari",feature4Title:"Assistente IA",feature4Desc:"Consigli personalizzati per te",copyright:" 2025 Smarter Investment. Tutti i diritti riservati.",settings_title:"Impostazioni",theme:"Tema",language:"Lingua",currency:"Valuta"},de:{loading:"Laden...",save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",add:"Hinzufgen",close:"Schlieen",confirm:"Besttigen",search:"Suchen",filter:"Filtern",all:"Alle",yes:"Ja",no:"Nein",ok:"OK",error:"Fehler",success:"Erfolg",back:"Zurck",nav_dashboard:"Startseite",nav_transactions:"Transaktionen",nav_budgets:"Budgets",nav_goals:"Ziele",nav_reports:"Berichte",nav_settings:"Einstellungen",nav_assistant:"Assistent",nav_recurring:"Wiederkehrend",nav_more:"Mehr",nav_logout:"Abmelden",welcome:"Willkommen!",login:"Anmelden",register:"Registrieren",createAccount:"Konto erstellen",email:"E-Mail",password:"Passwort",confirmPassword:"Passwort besttigen",tagline:"Ihr intelligenter persnlicher Finanzmanager. bernehmen Sie die Kontrolle ber Ihre Finanzen.",feature1Title:"Ausgabenkontrolle",feature1Desc:"Erfassen und kategorisieren Sie alle Ihre Transaktionen",feature2Title:"Budgets",feature2Desc:"Legen Sie Limits fest und erhalten Sie Benachrichtigungen",feature3Title:"Sparziele",feature3Desc:"Erreichen Sie Ihre finanziellen Ziele",feature4Title:"KI-Assistent",feature4Desc:"Personalisierte Tipps fr Sie",copyright:" 2025 Smarter Investment. Alle Rechte vorbehalten.",settings_title:"Einstellungen",theme:"Thema",language:"Sprache",currency:"Whrung"},zh:{loading:"...",save:"",cancel:"",delete:"",edit:"",add:"",close:"",confirm:"",search:"",filter:"",all:"",yes:"",no:"",ok:"",error:"",success:"",back:"",nav_dashboard:"",nav_transactions:"",nav_budgets:"",nav_goals:"",nav_reports:"",nav_settings:"",nav_assistant:"",nav_recurring:"",nav_more:"",nav_logout:"",welcome:"",login:"",register:"",createAccount:"",email:"",password:"",confirmPassword:"",tagline:"",feature1Title:"",feature1Desc:"",feature2Title:"",feature2Desc:"",feature3Title:"",feature3Desc:"",feature4Title:"AI",feature4Desc:"",copyright:" 2025 Smarter Investment",settings_title:"",theme:"",language:"",currency:""},ja:{loading:"...",save:"",cancel:"",delete:"",edit:"",add:"",close:"",confirm:"",search:"",filter:"",all:"",yes:"",no:"",ok:"OK",error:"",success:"",back:"",nav_dashboard:"",nav_transactions:"",nav_budgets:"",nav_goals:"",nav_reports:"",nav_settings:"",nav_assistant:"",nav_recurring:"",nav_more:"",nav_logout:"",welcome:"",login:"",register:"",createAccount:"",email:"",password:"",confirmPassword:"",tagline:"",feature1Title:"",feature1Desc:"",feature2Title:"",feature2Desc:"",feature3Title:"",feature3Desc:"",feature4Title:"AI",feature4Desc:"",copyright:" 2025 Smarter Investment",settings_title:"",theme:"",language:"",currency:""}};function J(e,t){return(Pn[e]||Pn.es)[t]||Pn.es[t]||t}const n0=[{icon:n.jsx(ht,{className:"w-6 h-6"}),titleKey:"feature1Title",descKey:"feature1Desc"},{icon:n.jsx(yt,{className:"w-6 h-6"}),titleKey:"feature2Title",descKey:"feature2Desc"},{icon:n.jsx(Be,{className:"w-6 h-6"}),titleKey:"feature3Title",descKey:"feature3Desc"},{icon:n.jsx(Rt,{className:"w-6 h-6"}),titleKey:"feature4Title",descKey:"feature4Desc"}],r0=()=>{const{theme:e,language:t}=de(),s=_e(e),[r,a]=y.useState(!0),[o,i]=y.useState(!1),[l,c]=y.useState(!1),[d,u]=y.useState(!1),[h,m]=y.useState({name:"",email:"",password:"",confirmPassword:""}),f=(w,p)=>{m(x=>({...x,[w]:p}))},N=async w=>{if(w.preventDefault(),!h.email||!h.password){re(J(t,"error"));return}if(!r){if(!h.name){re(J(t,"error"));return}if(h.password!==h.confirmPassword){re(J(t,"error"));return}if(h.password.length<6){re(J(t,"error"));return}}u(!0);try{if(r)await Uc(xe,h.email,h.password),Me("Bienvenido!","Sesin iniciada correctamente");else{const p=await qc(xe,h.email,h.password);await Kc(p.user,{displayName:h.name}),Me("Cuenta creada!","Bienvenido a Smarter Investment")}}catch(p){re("Error",{"auth/invalid-credential":"Credenciales invlidas","auth/user-not-found":"Usuario no encontrado","auth/wrong-password":"Contrasea incorrecta","auth/email-already-in-use":"Este correo ya est registrado","auth/weak-password":"La contrasea es muy dbil","auth/invalid-email":"Correo electrnico invlido"}[p.code]||"Error de autenticacin")}finally{u(!1)}},v=async()=>{u(!0);try{const w=new Wc;await Hc(xe,w),Me("Bienvenido!","Sesin iniciada con Google")}catch(w){w.code!=="auth/popup-closed-by-user"&&re("Error")}finally{u(!1)}};return n.jsxs("div",{className:"min-h-screen flex",style:{background:"linear-gradient(135deg, #000408 0%, #000810 50%, #000000 100%)"},children:[n.jsxs("div",{className:"hidden lg:flex lg:w-1/2 p-12 flex-col justify-between relative overflow-hidden",style:{background:"linear-gradient(135deg, #001018 0%, #000810 50%, #000000 100%)"},children:[n.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] rounded-full blur-[120px] -translate-x-1/2 -translate-y-1/2",style:{backgroundColor:`${s.primary}15`}}),n.jsx("div",{className:"absolute bottom-0 right-0 w-[400px] h-[400px] rounded-full blur-[100px] translate-x-1/2 translate-y-1/2",style:{backgroundColor:`${s.primary}10`}}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl overflow-hidden shadow-2xl",style:{boxShadow:`0 0 40px ${s.primary}40, 0 0 80px ${s.primary}20`,border:`2px solid ${s.primary}50`},children:n.jsx("img",{src:"/logo-smarter.jpg",alt:"Smarter Investment",className:"w-full h-full object-cover"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-white",children:"Smarter"}),n.jsx("p",{className:"text-lg font-medium",style:{color:s.primary},children:"Investment"})]})]}),n.jsx("p",{className:"text-white/70 text-lg max-w-md leading-relaxed",children:J(t,"tagline")})]}),n.jsx("div",{className:"relative z-10 grid grid-cols-2 gap-4 my-8",children:n0.map((w,p)=>n.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1+.3},className:"backdrop-blur-xl rounded-2xl p-5 border transition-all duration-300 hover:scale-[1.03]",style:{backgroundColor:"rgba(255,255,255,0.03)",borderColor:"rgba(255,255,255,0.08)",boxShadow:"0 4px 30px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05)"},children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-4",style:{backgroundColor:`${s.primary}20`,color:s.primary,boxShadow:`0 0 20px ${s.primary}30`},children:w.icon}),n.jsx("h3",{className:"font-bold text-white mb-2",children:J(t,w.titleKey)}),n.jsx("p",{className:"text-sm text-white/50",children:J(t,w.descKey)})]},p))}),n.jsx("div",{className:"relative z-10 text-white/30 text-sm",children:J(t,"copyright")})]}),n.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-12",style:{background:"linear-gradient(135deg, #000510 0%, #000408 50%, #000000 100%)"},children:[n.jsxs("div",{className:"lg:hidden absolute top-6 left-6 flex items-center gap-3",children:[n.jsx("img",{src:"/logo-smarter.jpg",alt:"Smarter",className:"w-12 h-12 rounded-xl object-cover",style:{boxShadow:`0 0 20px ${s.primary}40`}}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-white",children:"Smarter"}),n.jsx("p",{className:"text-xs",style:{color:s.primary},children:"Investment"})]})]}),n.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:n.jsxs("div",{className:"backdrop-blur-xl rounded-3xl p-8 border",style:{backgroundColor:"rgba(255,255,255,0.02)",borderColor:"rgba(255,255,255,0.06)",boxShadow:`0 8px 40px rgba(0,0,0,0.5), 0 0 60px ${s.primary}10`},children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-40 h-40 rounded-3xl overflow-hidden shadow-2xl",style:{boxShadow:`0 0 60px ${s.primary}60, 0 0 120px ${s.primary}40`,border:`4px solid ${s.primary}70`},children:n.jsx("img",{src:"/logo-smarter.jpg",alt:"Smarter Investment",className:"w-full h-full object-cover"})})}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r?J(t,"welcome"):J(t,"createAccount")}),n.jsx("p",{className:"text-white/50",children:r?"Inicia sesin para continuar":"Crea tu cuenta gratis"})]}),n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsx(ke,{children:!r&&n.jsxs(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[n.jsx("label",{className:"block text-sm text-white/60 mb-2",children:J(t,"name")}),n.jsxs("div",{className:"relative",children:[n.jsx(Wl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),n.jsx("input",{type:"text",value:h.name,onChange:w=>f("name",w.target.value),placeholder:J(t,"namePlaceholder"),className:"w-full pl-12 pr-4 py-3.5 rounded-xl text-white placeholder-white/30 transition-all focus:outline-none focus:ring-2",style:{backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"}})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-white/60 mb-2",children:J(t,"email")}),n.jsxs("div",{className:"relative",children:[n.jsx(of,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),n.jsx("input",{type:"email",value:h.email,onChange:w=>f("email",w.target.value),placeholder:J(t,"emailPlaceholder"),className:"w-full pl-12 pr-4 py-3.5 rounded-xl text-white placeholder-white/30 transition-all focus:outline-none focus:ring-2",style:{backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"}})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-white/60 mb-2",children:J(t,"password")}),n.jsxs("div",{className:"relative",children:[n.jsx(zi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),n.jsx("input",{type:o?"text":"password",value:h.password,onChange:w=>f("password",w.target.value),placeholder:"",className:"w-full pl-12 pr-12 py-3.5 rounded-xl text-white placeholder-white/30 transition-all focus:outline-none focus:ring-2",style:{backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"}}),n.jsx("button",{type:"button",onClick:()=>i(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/40 hover:text-white/60",children:o?n.jsx(Li,{className:"w-5 h-5"}):n.jsx(Vi,{className:"w-5 h-5"})})]})]}),n.jsx(ke,{children:!r&&n.jsxs(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[n.jsx("label",{className:"block text-sm text-white/60 mb-2",children:J(t,"confirmPassword")}),n.jsxs("div",{className:"relative",children:[n.jsx(zi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),n.jsx("input",{type:l?"text":"password",value:h.confirmPassword,onChange:w=>f("confirmPassword",w.target.value),placeholder:"",className:"w-full pl-12 pr-12 py-3.5 rounded-xl text-white placeholder-white/30 transition-all focus:outline-none focus:ring-2",style:{backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"}}),n.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/40 hover:text-white/60",children:l?n.jsx(Li,{className:"w-5 h-5"}):n.jsx(Vi,{className:"w-5 h-5"})})]})]})}),r&&n.jsx("div",{className:"text-right",children:n.jsx("button",{type:"button",className:"text-sm hover:underline",style:{color:s.primary},children:J(t,"forgotPassword")})}),n.jsx("button",{type:"submit",disabled:d,className:"w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed backdrop-blur-sm border",style:{background:`linear-gradient(135deg, ${s.primary}90, ${s.primary}70)`,borderColor:`${s.primary}`,boxShadow:`0 4px 25px ${s.primary}50, inset 0 1px 0 rgba(255,255,255,0.2)`,color:"#FFFFFF",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:d?n.jsx("div",{className:"w-6 h-6 border-3 border-white/30 border-t-white rounded-full animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:r?J(t,"login"):J(t,"createAccount")}),n.jsx(Ll,{className:"w-5 h-5"})]})})]}),n.jsxs("div",{className:"flex items-center gap-4 my-6",children:[n.jsx("div",{className:"flex-1 h-px bg-white/10"}),n.jsx("span",{className:"text-white/40 text-sm",children:J(t,"continueWith")}),n.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),n.jsxs("button",{onClick:v,disabled:d,className:"w-full py-3.5 rounded-xl font-medium text-white flex items-center justify-center gap-3 transition-all hover:bg-white/10 disabled:opacity-50",style:{backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar con Google"]}),n.jsxs("div",{className:"mt-6 text-center",children:[n.jsx("span",{className:"text-white/50",children:r?J(t,"noAccount"):J(t,"alreadyHaveAccount")}),n.jsx("button",{onClick:()=>{a(!r),m({name:"",email:"",password:"",confirmPassword:""})},className:"ml-2 font-semibold hover:underline",style:{color:s.primary},children:r?J(t,"register"):J(t,"login")})]})]})})]})]})},a0=()=>{const[e,t]=y.useState([]),[s,r]=y.useState([]),[a,o]=y.useState(!0);if(y.useEffect(()=>{var p;const u=(p=xe.currentUser)==null?void 0:p.uid;if(!u){o(!1);return}const h=oe(X(G,"budgets"),Se("userId","==",u)),m=pe(h,x=>{const g=[];x.forEach(_=>{g.push({id:_.id,..._.data()})}),t(g),o(!1)},x=>{console.error("Error en budgets:",x),o(!1)}),f=new Date,N=new Date(f.getFullYear(),f.getMonth(),1).toISOString().split("T")[0],v=oe(X(G,"transactions"),Se("userId","==",u)),w=pe(v,x=>{const g=[];x.forEach(_=>{const T=_.data();!T.recurring&&T.date>=N&&g.push({id:_.id,...T})}),r(g)},x=>{console.error("Error en transactions:",x)});return()=>{m(),w()}},[]),y.useEffect(()=>{e.length===0||s.length===0||e.forEach(async u=>{const h=N=>N.synced_from_plaid?N.amount>0?"expense":"income":N.type||"expense",m=N=>Array.isArray(N.category)?N.category[0]||"Otros":N.category||"Otros",f=s.filter(N=>{const v=m(N),w=h(N);return v===u.category&&w==="expense"}).reduce((N,v)=>N+Math.abs(v.amount),0);if(Math.abs(f-u.spent)>.01)try{await Fe(ce(G,"budgets",u.id),{spent:f,updatedAt:new Date().toISOString()});const N=f/u.limit*100;N>=u.alertThreshold&&"Notification"in window&&Notification.permission==="granted"&&new Notification(` Alerta: ${u.category}`,{body:`Gastaste ${N.toFixed(0)}% ($${f.toFixed(2)} de $${u.limit.toFixed(2)})`,icon:"/icon-192x192.png"})}catch(N){console.error("Error updating budget:",N)}})},[e,s]),a)return n.jsx(F,{className:"p-6",children:n.jsx("div",{className:"h-64 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-400"})})});if(e.length===0)return n.jsxs(F,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Presupuesto vs Gasto Real"}),n.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-center",children:[n.jsx(we,{className:"w-12 h-12 text-white/20 mb-3"}),n.jsx("p",{className:"text-white/50 text-sm mb-2",children:"Sin presupuestos configurados"}),n.jsx("p",{className:"text-white/30 text-xs",children:"Ve a Presupuestos para crear uno"}),n.jsx("button",{onClick:()=>window.location.href="/#/budgets",className:"mt-4 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"Crear Presupuesto"})]})]});const i=e.map(u=>({category:u.category.length>12?u.category.substring(0,12)+"...":u.category,Presupuesto:u.limit,Gastado:u.spent,percentage:u.spent/u.limit*100})),l=e.some(u=>u.spent/u.limit*100>=80),c=e.reduce((u,h)=>u+h.limit,0),d=e.reduce((u,h)=>u+h.spent,0);return n.jsxs(F,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:" Presupuesto vs Gasto Real"}),n.jsxs("p",{className:"text-xs text-white/50 mt-1",children:["Total: $",d.toFixed(2)," / $",c.toFixed(2)," (",(d/c*100).toFixed(0),"%)"]})]}),l&&n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[n.jsx(Qr,{className:"w-4 h-4 text-yellow-400"}),n.jsx("span",{className:"text-xs text-yellow-400 font-medium",children:"Alertas activas"})]})]}),n.jsx(fe,{width:"100%",height:280,children:n.jsxs(ds,{data:i,margin:{top:10,right:10,left:-20,bottom:20},children:[n.jsx(mt,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),n.jsx(Ye,{dataKey:"category",stroke:"rgba(255,255,255,0.5)",style:{fontSize:10},angle:-25,textAnchor:"end",height:60}),n.jsx(Xe,{stroke:"rgba(255,255,255,0.5)",style:{fontSize:11}}),n.jsx(ge,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #ffffff20",borderRadius:"8px",color:"#fff"},formatter:u=>`$${u.toFixed(2)}`}),n.jsx(ur,{wrapperStyle:{fontSize:12}}),n.jsx(Ze,{dataKey:"Presupuesto",fill:"#05BFDB",radius:[4,4,0,0]}),n.jsx(Ze,{dataKey:"Gastado",fill:"#EF4444",radius:[4,4,0,0]})]})}),n.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 gap-2",children:e.map(u=>{const h=u.spent/u.limit*100;return n.jsxs("div",{className:"p-3 bg-white/5 rounded-lg border border-white/10",children:[n.jsx("p",{className:"text-xs text-white/70 truncate font-medium",children:u.category}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsxs("span",{className:`text-lg font-bold ${h>=100?"text-red-400":h>=80?"text-yellow-400":"text-green-400"}`,children:[h.toFixed(0),"%"]}),n.jsxs("span",{className:"text-xs text-white/50",children:["$",u.spent.toFixed(0),"/$",u.limit.toFixed(0)]})]}),n.jsx("div",{className:"mt-2 h-1.5 bg-white/10 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${h>=100?"bg-red-500":h>=80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(h,100)}%`}})})]},u.id)})})]})},uc=()=>{const{setActivePage:e}=de(),[t,s]=y.useState([]),[r,a]=y.useState([]),[o,i]=y.useState(!1),[l,c]=y.useState("1M");y.useEffect(()=>{var P;const b=(P=xe.currentUser)==null?void 0:P.uid;if(!b){i(!1);return}const j=oe(X(G,"transactions"),Se("userId","==",b)),M=pe(j,C=>{const A=[];C.forEach(S=>{const D=S.data();D.recurring||A.push({id:S.id,...D})}),A.sort((S,D)=>new Date(D.date).getTime()-new Date(S.date).getTime()),s(A.slice(0,100)),i(!1)},C=>{console.error("Error en transacciones listener:",C),C.code==="permission-denied"&&console.error(" Error de permisos. Verifica las reglas de Firebase."),i(!1)}),$=oe(X(G,"goals"),Se("userId","==",b)),I=pe($,C=>{const A=[];C.forEach(S=>{A.push({id:S.id,...S.data()})}),a(A.slice(0,3))},C=>{console.error("Error en metas listener:",C)});return()=>{M(),I()}},[]);const d=b=>b.synced_from_plaid?b.amount>0?"expense":"income":b.type||"expense",u=b=>b.synced_from_plaid?b.merchant_name||b.name||"Transaccin":b.description||"Transaccin",h=b=>b.synced_from_plaid&&Array.isArray(b.category)?b.category[0]||"Sin categora":b.category||"Sin categora",f=(()=>{const b=new Date,M={"1W":7,"1M":30,"3M":90,YTD:Math.floor((b.getTime()-new Date(b.getFullYear(),0,1).getTime())/(1e3*60*60*24)),ALL:1/0}[l],$=new Date;return $.setDate($.getDate()-M),t.filter(I=>new Date(I.date)>=$)})(),N=f.filter(b=>d(b)==="income").reduce((b,j)=>b+Math.abs(j.amount),0),v=f.filter(b=>d(b)==="expense").reduce((b,j)=>b+Math.abs(j.amount),0),w=N-v,p=()=>{const b=[],j=new Date;for(let M=29;M>=0;M--){const $=new Date(j);$.setDate($.getDate()-M);const I=$.toISOString().split("T")[0],P=f.filter(S=>S.date===I),C=P.filter(S=>d(S)==="income").reduce((S,D)=>S+Math.abs(D.amount),0),A=P.filter(S=>d(S)==="expense").reduce((S,D)=>S+Math.abs(D.amount),0);b.push({date:$.toLocaleDateString("es-ES",{day:"2-digit",month:"short"}),income:C,expense:A})}return b},x=()=>{const b={};return f.filter(j=>d(j)==="expense").forEach(j=>{const M=h(j);b[M]=(b[M]||0)+Math.abs(j.amount)}),Object.entries(b).sort((j,M)=>M[1]-j[1]).slice(0,5).map(([j,M])=>({name:j,value:M}))},g=p(),_=x(),T=["#05bfdb","#08c792","#ffc107","#ff5722","#9c27b0"];return o?n.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-400"})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 md:p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white flex items-center gap-2",children:"Hola! "}),n.jsx("p",{className:"text-white/60 mt-1",children:"Tu resumen financiero"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>e("advanced-analytics"),className:"px-3 md:px-4 py-2 rounded-xl font-medium transition-all bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white flex items-center gap-2 shadow-lg",children:[n.jsx(na,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Anlisis"})]}),n.jsxs(H,{onClick:()=>window.location.href="/#/new-transaction",children:[n.jsx(et,{className:"w-5 h-5 mr-2"}),"Nuevo"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-primary-400 to-primary-600 rounded-2xl blur opacity-20 group-hover:opacity-40 transition duration-300"}),n.jsxs(F,{className:"relative p-6 border-none",style:{background:"linear-gradient(135deg, rgba(5, 191, 219, 0.15), rgba(8, 131, 149, 0.1))",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 8px 32px 0 rgba(5, 191, 219, 0.15)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("p",{className:"text-sm font-medium text-white/90 uppercase tracking-wide",children:"Patrimonio Neto"}),n.jsx(ht,{className:"w-5 h-5 text-primary-400"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",w.toFixed(2)]}),n.jsx("div",{className:"flex items-center gap-1 text-sm",children:w>=0?n.jsxs(n.Fragment,{children:[n.jsx(we,{className:"w-4 h-4 text-green-400"}),n.jsx("span",{className:"text-green-400",children:"+0.00%"})]}):n.jsxs(n.Fragment,{children:[n.jsx(bs,{className:"w-4 h-4 text-red-400"}),n.jsx("span",{className:"text-red-400",children:"-0.00%"})]})})]})]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-green-400 to-green-600 rounded-2xl blur opacity-20 group-hover:opacity-40 transition duration-300"}),n.jsxs(F,{className:"relative p-6 border-none",style:{background:"linear-gradient(135deg, rgba(8, 199, 146, 0.15), rgba(6, 150, 110, 0.1))",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 8px 32px 0 rgba(8, 199, 146, 0.15)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("p",{className:"text-sm font-medium text-white/90 uppercase tracking-wide",children:"Ingresos"}),n.jsx(Xr,{className:"w-5 h-5 text-green-400"})]}),n.jsxs("p",{className:"text-3xl font-bold text-green-400",children:["$",N.toFixed(2)]})]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-red-400 to-red-600 rounded-2xl blur opacity-20 group-hover:opacity-40 transition duration-300"}),n.jsxs(F,{className:"relative p-6 border-none",style:{background:"linear-gradient(135deg, rgba(255, 87, 34, 0.15), rgba(200, 65, 25, 0.1))",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 8px 32px 0 rgba(255, 87, 34, 0.15)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("p",{className:"text-sm font-medium text-white/90 uppercase tracking-wide",children:"Gastos"}),n.jsx(Yr,{className:"w-5 h-5 text-red-400"})]}),n.jsxs("p",{className:"text-3xl font-bold text-red-400",children:["$",v.toFixed(2)]})]})]})]}),n.jsx(F,{className:"p-2 mb-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xs,{className:"w-5 h-5 text-white/50"}),n.jsx("span",{className:"text-sm text-white/70 mr-2",children:"Perodo"}),n.jsx("div",{className:"flex gap-1",children:["1W","1M","3M","YTD","ALL"].map(b=>n.jsx("button",{onClick:()=>c(b),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${l===b?"bg-primary-500 text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:b},b))})]})}),n.jsx("div",{className:"mb-6",children:n.jsx(a0,{})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs(F,{className:"p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx(Hs,{className:"w-5 h-5 text-primary-400"}),"Ingresos vs Gastos"]})}),n.jsx(fe,{width:"100%",height:300,children:n.jsxs(hr,{data:g,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#08c792",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#08c792",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorExpense",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#ff5722",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#ff5722",stopOpacity:0})]})]}),n.jsx(mt,{strokeDasharray:"3 3",stroke:"#ffffff10"}),n.jsx(Ye,{dataKey:"date",stroke:"#ffffff50",style:{fontSize:12}}),n.jsx(Xe,{stroke:"#ffffff50",style:{fontSize:12}}),n.jsx(ge,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #ffffff20",borderRadius:"8px",color:"#fff"}}),n.jsx(kt,{type:"monotone",dataKey:"income",stroke:"#08c792",fillOpacity:1,fill:"url(#colorIncome)",name:"Ingresos"}),n.jsx(kt,{type:"monotone",dataKey:"expense",stroke:"#ff5722",fillOpacity:1,fill:"url(#colorExpense)",name:"Gastos"})]})})]}),n.jsxs(F,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx(yt,{className:"w-5 h-5 text-primary-400"}),"Distribucin de Gastos"]}),n.jsx("button",{onClick:()=>e("reports"),className:"text-sm text-primary-400 hover:text-primary-300",children:"Ver todos"})]}),_.length>0?n.jsx(fe,{width:"100%",height:300,children:n.jsxs(Zs,{children:[n.jsx(Qs,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:({name:b,percent:j})=>`${b}: ${(j*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:_.map((b,j)=>n.jsx(Qt,{fill:T[j%T.length]},`cell-${j}`))}),n.jsx(ge,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #ffffff20",borderRadius:"8px",color:"#fff"}})]})}):n.jsx("div",{className:"flex items-center justify-center h-[300px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Hs,{className:"w-12 h-12 text-white/20 mx-auto mb-2"}),n.jsx("p",{className:"text-white/50 text-sm",children:"Sin datos"})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(F,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-white",children:"ltimos Movimientos"}),n.jsx("button",{onClick:()=>e("transactions"),className:"text-sm text-primary-400 hover:text-primary-300",children:"Ver todos"})]}),f.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(zl,{className:"w-12 h-12 text-white/20 mb-3"}),n.jsx("p",{className:"text-white/50 text-sm mb-1",children:"Sin movimientos"}),n.jsx("p",{className:"text-white/30 text-xs mb-4",children:"Registra tu primer movimiento"}),n.jsx(H,{size:"sm",onClick:()=>window.location.href="/#/new-transaction",children:"Aadir"})]}):n.jsx("div",{className:"space-y-3",children:f.slice(0,5).map(b=>{const j=d(b),M=u(b),$=h(b);return n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-white/5",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-500/20 flex items-center justify-center",children:n.jsx(ys,{className:"w-5 h-5 text-primary-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-white truncate",children:M}),n.jsx("p",{className:"text-xs text-white/50",children:$})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`font-bold ${j==="income"?"text-green-400":"text-red-400"}`,children:[j==="income"?"+":"-","$",Math.abs(b.amount).toFixed(2)]}),n.jsx("p",{className:"text-xs text-white/50",children:new Date(b.date).toLocaleDateString("es-ES",{day:"2-digit",month:"short"})})]})]},b.id)})})]}),n.jsxs(F,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[n.jsx(Be,{className:"w-5 h-5 text-primary-400"}),"Metas Activas"]}),n.jsx("button",{onClick:()=>e("goals"),className:"text-sm text-primary-400 hover:text-primary-300",children:"Ver todas"})]}),r.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(Be,{className:"w-12 h-12 text-white/20 mb-3"}),n.jsx("p",{className:"text-white/50 text-sm mb-1",children:"Sin metas"}),n.jsx("p",{className:"text-white/30 text-xs mb-4",children:"Crea tu primera meta"}),n.jsx(H,{size:"sm",onClick:()=>e("goals"),children:"Crear meta"})]}):n.jsx("div",{className:"space-y-4",children:r.map(b=>{const j=b.currentAmount/b.targetAmount*100;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-semibold text-white",children:b.name}),n.jsxs("span",{className:"text-sm text-white/70",children:["$",b.currentAmount.toFixed(2)," / $",b.targetAmount.toFixed(2)]})]}),n.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-primary-400 to-primary-600 h-2 rounded-full",style:{width:`${Math.min(j,100)}%`}})}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-white/50",children:[n.jsxs("span",{children:[j.toFixed(0),"%"]}),n.jsx("span",{children:new Date(b.deadline).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})})]})]},b.id)})})]})]})]})})};console.log("Force rebuild:",new Date);const i0=["Alimentacin","Transporte","Entretenimiento","Salud","Educacin","Hogar","Servicios","Compras","Viajes","Salario","Inversiones","Otros"],o0=({isOpen:e,onClose:t,transaction:s,mode:r="create"})=>{const[a,o]=y.useState("expense"),[i,l]=y.useState(""),[c,d]=y.useState(""),[u,h]=y.useState("Otros"),[m,f]=y.useState(new Date().toISOString().split("T")[0]),[N,v]=y.useState(!1);if(y.useEffect(()=>{s?(s.synced_from_plaid?o(s.amount>0?"expense":"income"):o(s.type||"expense"),l(Math.abs(s.amount).toString()),d(s.description||s.merchant_name||s.name||""),Array.isArray(s.category)?h(s.category[0]||"Otros"):h(s.category||"Otros"),f(s.date||new Date().toISOString().split("T")[0])):(o("expense"),l(""),d(""),h("Otros"),f(new Date().toISOString().split("T")[0]))},[s]),!e)return null;const w=async p=>{var x;p.preventDefault(),v(!0);try{const g=(x=xe.currentUser)==null?void 0:x.uid;if(!g)throw new Error("No authenticated user");const _={userId:g,amount:parseFloat(i),description:c,category:u,date:m,type:a,synced_from_plaid:(s==null?void 0:s.synced_from_plaid)||!1,plaid_transaction_id:(s==null?void 0:s.plaid_transaction_id)||null,account_id:(s==null?void 0:s.account_id)||null,merchant_name:(s==null?void 0:s.merchant_name)||null,pending:(s==null?void 0:s.pending)||!1,created_at:(s==null?void 0:s.created_at)||new Date().toISOString(),updated_at:new Date().toISOString(),manually_categorized:!0};r==="edit"&&(s!=null&&s.id)?(await Fe(ce(G,"transactions",s.id),_),"Notification"in window&&Notification.permission==="granted"&&new Notification(" Transaccin actualizada",{body:`${c} - $${i}`,icon:"/icon-192x192.png"})):(await It(X(G,"transactions"),_),"Notification"in window&&Notification.permission==="granted"&&new Notification(` ${a==="income"?"Nuevo ingreso":"Nuevo gasto"}`,{body:`${c} - $${i}`,icon:"/icon-192x192.png"})),t()}catch(g){console.error("Error saving transaction:",g),alert("Error al guardar la transaccin")}finally{v(!1)}};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:n.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-white/20 p-6 max-h-[90vh] overflow-y-auto",style:{background:"linear-gradient(135deg, rgba(5, 191, 219, 0.1), rgba(8, 131, 149, 0.05))",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 8px 32px 0 rgba(5, 191, 219, 0.15)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:r==="edit"?"Editar Transaccin":"Nueva Transaccin"}),(s==null?void 0:s.synced_from_plaid)&&n.jsxs("p",{className:"text-xs text-white/50 mt-1 flex items-center gap-1",children:[n.jsx(Qr,{className:"w-3 h-3"}),"Sincronizada desde el banco"]})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:n.jsx(cs,{className:"w-5 h-5 text-white"})})]}),n.jsxs("form",{onSubmit:w,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Tipo"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("button",{type:"button",onClick:()=>o("income"),className:`py-3 rounded-lg font-medium transition-colors ${a==="income"?"bg-green-500 text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:" Ingreso"}),n.jsx("button",{type:"button",onClick:()=>o("expense"),className:`py-3 rounded-lg font-medium transition-colors ${a==="expense"?"bg-red-500 text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:" Gasto"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-white/70 mb-2",children:[n.jsx(ys,{className:"w-4 h-4 inline mr-1"}),"Monto"]}),n.jsx("input",{type:"number",step:"0.01",value:i,onChange:p=>l(p.target.value),required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-primary-400",placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-white/70 mb-2",children:[n.jsx(or,{className:"w-4 h-4 inline mr-1"}),"Descripcin"]}),n.jsx("input",{type:"text",value:c,onChange:p=>d(p.target.value),required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-primary-400",placeholder:"Qu compraste?"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-white/70 mb-2",children:[n.jsx(ff,{className:"w-4 h-4 inline mr-1"}),"Categora"]}),n.jsx("select",{value:u,onChange:p=>h(p.target.value),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-primary-400 cursor-pointer",children:i0.map(p=>n.jsx("option",{value:p,className:"bg-gray-900 text-white",children:p},p))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-white/70 mb-2",children:[n.jsx(xs,{className:"w-4 h-4 inline mr-1"}),"Fecha"]}),n.jsx("input",{type:"date",value:m,onChange:p=>f(p.target.value),required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-primary-400"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(H,{type:"button",onClick:t,className:"flex-1 bg-white/5 hover:bg-white/10",disabled:N,children:"Cancelar"}),n.jsx(H,{type:"submit",className:"flex-1",disabled:N,children:N?" Guardando...":r==="edit"?" Actualizar":" Guardar"})]})]})]})})},l0=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(!0),[a,o]=y.useState(""),[i,l]=y.useState("all"),[c,d]=y.useState(!1),[u,h]=y.useState(null);y.useEffect(()=>{var $;const b=($=xe.currentUser)==null?void 0:$.uid;if(!b){r(!1);return}const j=oe(X(G,"transactions"),Se("userId","==",b)),M=pe(j,I=>{const P=[];I.forEach(C=>{const A=C.data();A.recurring||P.push({id:C.id,...A})}),P.sort((C,A)=>new Date(A.date).getTime()-new Date(C.date).getTime()),t(P),r(!1)},I=>{console.error("Error en transacciones listener:",I),I.code==="permission-denied"&&(console.error(" Error de permisos en transacciones."),alert("Error: No tienes permisos. Por favor, vuelve a iniciar sesin.")),r(!1),t([])});return()=>M()},[]);const m=b=>b.synced_from_plaid?b.amount>0?"expense":"income":b.type||"expense",f=b=>b.synced_from_plaid?b.merchant_name||b.name||"Transaccin":b.description||"Transaccin",N=b=>b.synced_from_plaid&&Array.isArray(b.category)?b.category[0]||"Sin categora":b.category||"Sin categora",v=e.filter(b=>m(b)==="income").reduce((b,j)=>b+Math.abs(j.amount),0),w=e.filter(b=>m(b)==="expense").reduce((b,j)=>b+Math.abs(j.amount),0),p=v-w,x=e.filter(b=>{const j=f(b).toLowerCase().includes(a.toLowerCase()),M=m(b);return j&&(i==="all"||M===i)}),g=b=>{const j=b.toLowerCase();return j.includes("food")||j.includes("restaurant")||j.includes("alimentacin")?n.jsx(rf,{className:"w-5 h-5 text-orange-400"}):j.includes("shop")||j.includes("retail")||j.includes("compras")?n.jsx(Kl,{className:"w-5 h-5 text-purple-400"}):j.includes("transfer")||j.includes("payment")?n.jsx(we,{className:"w-5 h-5 text-blue-400"}):j.includes("travel")||j.includes("transportation")||j.includes("transporte")?n.jsx(ef,{className:"w-5 h-5 text-green-400"}):j.includes("home")||j.includes("hogar")?n.jsx(Jr,{className:"w-5 h-5 text-red-400"}):n.jsx(ht,{className:"w-5 h-5 text-primary-400"})},_=b=>{h(b),d(!0)},T=()=>{d(!1),h(null)};return s?n.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-400"})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 md:p-6",children:[n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"Transacciones"}),n.jsxs("p",{className:"text-white/60 mt-1",children:[e.length," transacciones totales"]})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-primary-400 to-primary-600 rounded-xl blur opacity-40 group-hover:opacity-70 transition duration-300"}),n.jsxs(H,{onClick:()=>d(!0),className:"relative",children:[n.jsx(et,{className:"w-5 h-5 mr-2"}),"Nuevo"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-green-400 to-green-600 rounded-xl blur opacity-20 group-hover:opacity-40 transition duration-300"}),n.jsx(F,{className:"relative p-4 border-none",style:{background:"linear-gradient(135deg, rgba(8, 199, 146, 0.1), rgba(6, 150, 110, 0.05))",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(we,{className:"w-8 h-8 text-green-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-white/50",children:"Ingresos"}),n.jsxs("p",{className:"text-xl font-bold text-green-400",children:["+$",v.toFixed(2)]})]})]})})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-red-400 to-red-600 rounded-xl blur opacity-20 group-hover:opacity-40 transition duration-300"}),n.jsx(F,{className:"relative p-4 border-none",style:{background:"linear-gradient(135deg, rgba(255, 87, 34, 0.1), rgba(200, 65, 25, 0.05))",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(bs,{className:"w-8 h-8 text-red-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-white/50",children:"Gastos"}),n.jsxs("p",{className:"text-xl font-bold text-red-400",children:["-$",w.toFixed(2)]})]})]})})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-primary-400 to-primary-600 rounded-xl blur opacity-20 group-hover:opacity-40 transition duration-300"}),n.jsx(F,{className:"relative p-4 border-none",style:{background:"linear-gradient(135deg, rgba(5, 191, 219, 0.1), rgba(8, 131, 149, 0.05))",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ht,{className:"w-8 h-8 text-primary-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-white/50",children:"Balance"}),n.jsxs("p",{className:`text-xl font-bold ${p>=0?"text-green-400":"text-red-400"}`,children:["$",p.toFixed(2)]})]})]})})]})]}),n.jsx(F,{className:"p-4 mb-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(hf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/40"}),n.jsx("input",{type:"text",placeholder:"Buscar transacciones...",value:a,onChange:b=>o(b.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-primary-400"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="all"?"bg-primary-500 text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Todas"}),n.jsx("button",{onClick:()=>l("income"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="income"?"bg-green-500 text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Ingresos"}),n.jsx("button",{onClick:()=>l("expense"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="expense"?"bg-red-500 text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:"Gastos"})]})]})}),n.jsx("div",{className:"space-y-2",children:x.length===0?n.jsxs(F,{className:"p-12 text-center",children:[n.jsx(ht,{className:"w-16 h-16 text-white/20 mx-auto mb-4"}),n.jsx("p",{className:"text-lg font-semibold text-white mb-2",children:"Sin movimientos"}),n.jsx("p",{className:"text-sm text-white/50",children:"Registra tu primer movimiento o conecta tu banco"}),n.jsx(H,{className:"mt-4",onClick:()=>d(!0),children:"Aadir"})]}):x.map(b=>{const j=m(b),M=f(b),$=N(b);return n.jsx(F,{className:"p-4 hover:bg-white/5 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-500/20 flex items-center justify-center flex-shrink-0",children:g($)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-white truncate",children:M}),b.synced_from_plaid&&n.jsx(Te,{variant:"secondary",size:"sm",children:"Auto"}),b.pending&&n.jsx(Te,{variant:"warning",size:"sm",children:"Pendiente"})]}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-white/50",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(xs,{className:"w-3 h-3"}),new Date(b.date).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})]}),n.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/5",children:$})]})]}),n.jsxs("div",{className:"text-right flex items-center gap-3",children:[n.jsx("div",{children:n.jsxs("div",{className:`text-lg font-bold ${j==="income"?"text-green-400":"text-red-400"}`,children:[j==="income"?"+":"-","$",Math.abs(b.amount).toFixed(2)]})}),n.jsx("button",{onClick:()=>_(b),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",title:"Editar o categorizar",children:n.jsx(pf,{className:"w-4 h-4 text-white/70"})})]})]})},b.id)})})]}),n.jsx(o0,{isOpen:c,onClose:T,transaction:u,mode:u?"edit":"create"})]})},hc=[{name:"Alimentacin",icon:"",color:"#F59E0B"},{name:"Transporte",icon:"",color:"#3B82F6"},{name:"Entretenimiento",icon:"",color:"#8B5CF6"},{name:"Salud",icon:"",color:"#EF4444"},{name:"Educacin",icon:"",color:"#10B981"},{name:"Hogar",icon:"",color:"#F97316"},{name:"Servicios",icon:"",color:"#6366F1"},{name:"Compras",icon:"",color:"#EC4899"},{name:"Viajes",icon:"",color:"#14B8A6"},{name:"Otros",icon:"",color:"#64748B"}],c0=()=>{const[e,t]=y.useState([]),[s,r]=y.useState([]),[a,o]=y.useState(!0),[i,l]=y.useState(!1),[c,d]=y.useState(null),u=g=>Array.isArray(g)?(g[0]||"").toLowerCase().trim():(g||"").toLowerCase().trim(),h=g=>g.synced_from_plaid?g.amount>0?"expense":"income":g.type||"expense";y.useEffect(()=>{var I;const g=(I=xe.currentUser)==null?void 0:I.uid;if(!g){o(!1);return}console.log(" Cargando presupuestos y transacciones...");const _=oe(X(G,"budgets"),Se("userId","==",g)),T=pe(_,P=>{const C=[];P.forEach(A=>{C.push({id:A.id,...A.data()})}),console.log(" Presupuestos:",C),t(C),o(!1)}),b=new Date,j=new Date(b.getFullYear(),b.getMonth(),1).toISOString().split("T")[0],M=oe(X(G,"transactions"),Se("userId","==",g),Se("date",">=",j)),$=pe(M,P=>{const C=[];P.forEach(A=>{const S=A.data();S.recurring||C.push({id:A.id,...S})}),console.log(" Total transacciones del mes:",C.length),C.forEach(A=>{const S=u(A.category),D=h(A);console.log(`  - ${S}: $${A.amount} (${D})`)}),r(C)});return()=>{T(),$()}},[]);const m=y.useMemo(()=>(console.log(" Calculando gastos para cada presupuesto..."),e.map(g=>{const _=g.category.toLowerCase().trim(),T=s.filter(j=>{if(h(j)!=="expense")return!1;const $=u(j.category);return $===_||$.includes(_)||_.includes($)}),b=T.reduce((j,M)=>j+Math.abs(M.amount),0);return console.log(` ${g.category}: $${b.toFixed(2)} / $${g.limit.toFixed(2)} (${T.length} transacciones)`),{...g,spent:b,transactionCount:T.length}})),[e,s]),f=g=>{d(g),l(!0)},N=async g=>{if(confirm("Eliminar este presupuesto?"))try{await us(ce(G,"budgets",g)),console.log(" Presupuesto eliminado")}catch(_){console.error(" Error:",_),alert("Error al eliminar el presupuesto")}},v=(g,_)=>{const T=g/_*100;return T>=100?{status:"exceeded",color:"bg-red-500",text:"Excedido"}:T>=80?{status:"warning",color:"bg-yellow-500",text:"Alerta"}:{status:"ok",color:"bg-green-500",text:"Bien"}},w=m.reduce((g,_)=>g+_.limit,0),p=m.reduce((g,_)=>g+_.spent,0),x=w-p;return a?n.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-400"})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4 md:p-6",children:[n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:" Presupuestos"}),n.jsx("p",{className:"text-white/60 mt-1",children:"Gestiona y monitorea tus lmites de gasto"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-primary-400 to-primary-600 rounded-xl blur opacity-40 group-hover:opacity-70 transition duration-300"}),n.jsxs(H,{onClick:()=>{d(null),l(!0)},className:"relative",children:[n.jsx(et,{className:"w-5 h-5 mr-2"}),"Nuevo Presupuesto"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx(F,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:n.jsx(Be,{className:"w-5 h-5 text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-white/50",children:"Presupuesto Total"}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",w.toFixed(2)]})]})]})}),n.jsx(F,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center",children:n.jsx(we,{className:"w-5 h-5 text-red-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-white/50",children:"Gastado"}),n.jsxs("p",{className:"text-2xl font-bold text-red-400",children:["$",p.toFixed(2)]})]})]})}),n.jsx(F,{className:"p-6",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${x>=0?"bg-green-500/20":"bg-red-500/20"}`,children:n.jsx(ys,{className:`w-5 h-5 ${x>=0?"text-green-400":"text-red-400"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-white/50",children:"Restante"}),n.jsxs("p",{className:`text-2xl font-bold ${x>=0?"text-green-400":"text-red-400"}`,children:["$",x.toFixed(2)]})]})]})})]}),n.jsxs(F,{className:"p-4 mb-6 bg-blue-500/10 border-blue-500/20",children:[n.jsxs("p",{className:"text-sm text-blue-400 mb-2",children:[" ",n.jsx("strong",{children:"Debug:"})," ",s.length," transacciones del mes | ",e.length," presupuestos"]}),n.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:m.map(g=>n.jsxs("div",{className:"text-white/70",children:[g.category,": $",g.spent.toFixed(2)," (",g.transactionCount," tx)"]},g.id))})]}),m.length===0?n.jsxs(F,{className:"p-12 text-center",children:[n.jsx(Be,{className:"w-16 h-16 text-white/20 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Sin presupuestos"}),n.jsx("p",{className:"text-white/60 mb-4",children:"Crea tu primer presupuesto para empezar a controlar tus gastos"}),n.jsxs(H,{onClick:()=>l(!0),children:[n.jsx(et,{className:"w-5 h-5 mr-2"}),"Crear Presupuesto"]})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(g=>{const _=hc.find(j=>j.name===g.category),T=g.spent/g.limit*100,b=v(g.spent,g.limit);return n.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:n.jsxs(F,{className:"p-6 hover:bg-white/5 transition-colors",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:`${_==null?void 0:_.color}20`},children:_==null?void 0:_.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white",children:g.category}),n.jsxs("p",{className:"text-xs text-white/50",children:[g.transactionCount," transacciones"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Te,{variant:b.status==="exceeded"?"danger":b.status==="warning"?"warning":"success",size:"sm",children:b.text}),n.jsx("button",{onClick:()=>f(g),className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:n.jsx(sa,{className:"w-4 h-4 text-white/70"})}),n.jsx("button",{onClick:()=>N(g.id),className:"p-2 rounded-lg bg-white/5 hover:bg-red-500/20 transition-colors",children:n.jsx(ls,{className:"w-4 h-4 text-red-400"})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-white/70",children:"Gastado"}),n.jsxs("span",{className:"font-semibold text-white",children:["$",g.spent.toFixed(2)," / $",g.limit.toFixed(2)]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"h-3 bg-white/10 rounded-full overflow-hidden",children:n.jsx(W.div,{initial:{width:0},animate:{width:`${Math.min(T,100)}%`},transition:{duration:.5},className:"h-full rounded-full",style:{backgroundColor:_==null?void 0:_.color}})}),n.jsxs("div",{className:"flex justify-between mt-1 text-xs",children:[n.jsxs("span",{className:"text-white/50",children:[T.toFixed(0),"%"]}),n.jsxs("span",{className:`font-medium ${g.limit-g.spent>=0?"text-green-400":"text-red-400"}`,children:["$",Math.abs(g.limit-g.spent).toFixed(2)," ",g.limit-g.spent>=0?"restante":"excedido"]})]})]}),T>=g.alertThreshold&&n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[n.jsx(Qr,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),n.jsxs("p",{className:"text-xs text-yellow-400",children:["Has alcanzado el ",g.alertThreshold,"% de tu presupuesto"]})]})]})]})},g.id)})})]}),i&&n.jsx(d0,{budget:c,onClose:()=>{l(!1),d(null)}})]})},d0=({budget:e,onClose:t})=>{const[s,r]=y.useState((e==null?void 0:e.category)||""),[a,o]=y.useState((e==null?void 0:e.limit.toString())||""),[i,l]=y.useState((e==null?void 0:e.alertThreshold.toString())||"80"),[c,d]=y.useState(!1),u=async h=>{var m;if(h.preventDefault(),!s||!a){alert("Por favor completa todos los campos");return}d(!0);try{const f=(m=xe.currentUser)==null?void 0:m.uid;if(!f)throw new Error("No authenticated user");const N={userId:f,category:s,limit:parseFloat(a),alertThreshold:parseInt(i),createdAt:(e==null?void 0:e.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};e?(await Fe(ce(G,"budgets",e.id),N),console.log(" Presupuesto actualizado")):(await It(X(G,"budgets"),N),console.log(" Presupuesto creado")),t()}catch(f){console.error(" Error:",f),alert("Error al guardar el presupuesto")}finally{d(!1)}};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:n.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-white/20 p-6 max-h-[90vh] overflow-y-auto",style:{background:"linear-gradient(135deg, rgba(5, 191, 219, 0.1), rgba(8, 131, 149, 0.05))",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 8px 32px 0 rgba(5, 191, 219, 0.15)"},children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:e?"Editar Presupuesto":"Nuevo Presupuesto"}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Categora"}),n.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto",children:hc.map(h=>n.jsx("button",{type:"button",onClick:()=>r(h.name),className:`p-3 rounded-lg border transition-all ${s===h.name?"border-primary-400 bg-primary-500/20":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-2xl",children:h.icon}),n.jsx("span",{className:"text-sm text-white font-medium",children:h.name})]})},h.name))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Lmite mensual ($)"}),n.jsx("input",{type:"number",step:"0.01",value:a,onChange:h=>o(h.target.value),required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-primary-400",placeholder:"500.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Alerta al (%)"}),n.jsx("input",{type:"number",min:"1",max:"100",value:i,onChange:h=>l(h.target.value),required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:outline-none focus:border-primary-400",placeholder:"80"}),n.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Recibirs una notificacin cuando alcances este porcentaje"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(H,{type:"button",onClick:t,className:"flex-1 bg-white/5 hover:bg-white/10",disabled:c,children:"Cancelar"}),n.jsx(H,{type:"submit",className:"flex-1",disabled:c,children:c?" Guardando...":e?" Actualizar":" Guardar"})]})]})]})})},u0={USD:{locale:"en-US",symbol:"$"},EUR:{locale:"de-DE",symbol:""},MXN:{locale:"es-MX",symbol:"$"},COP:{locale:"es-CO",symbol:"$"},ARS:{locale:"es-AR",symbol:"$"},CLP:{locale:"es-CL",symbol:"$"},PEN:{locale:"es-PE",symbol:"S/"}},V=(e,t="USD",s)=>{const r=u0[t];return new Intl.NumberFormat(r.locale,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)},mc=e=>{const t=Number(e.targetAmount)||0,s=Number(e.currentAmount)||0;if(t<=0)return 0;const r=s/t*100;return isNaN(r)?0:Math.min(Math.max(r,0),100)},pc=e=>{if(!e.deadline)return null;const t=new Date;t.setHours(0,0,0,0);const s=new Date(e.deadline);return s.setHours(0,0,0,0),Math.ceil((s.getTime()-t.getTime())/(1e3*60*60*24))},h0=e=>{if(!e.deadline||e.isCompleted)return null;const t=Number(e.targetAmount)||0,s=Number(e.currentAmount)||0,r=t-s,a=pc(e);if(!a||a<=0)return r>0?r:null;const o=r/(a/30);return isNaN(o)?null:o},m0=["","","","","","","","","","","","","","","","","","","",""],p0=["#05BFDB","#ec4899","#a855f7","#22C55E","#F59E0B","#3B82F6","#EF4444","#14B8A6"],f0=({isOpen:e,onClose:t,goal:s,onSubmit:r,isSubmitting:a})=>{var _,T;const[o,i]=y.useState((s==null?void 0:s.name)||""),[l,c]=y.useState(((_=s==null?void 0:s.targetAmount)==null?void 0:_.toString())||""),[d,u]=y.useState(((T=s==null?void 0:s.currentAmount)==null?void 0:T.toString())||"0"),[h,m]=y.useState((s==null?void 0:s.deadline)||""),[f,N]=y.useState((s==null?void 0:s.icon)||""),[v,w]=y.useState((s==null?void 0:s.color)||"#05BFDB"),[p,x]=y.useState((s==null?void 0:s.description)||"");lt.useEffect(()=>{var b,j;e&&s?(i(s.name||""),c(((b=s.targetAmount)==null?void 0:b.toString())||""),u(((j=s.currentAmount)==null?void 0:j.toString())||"0"),m(s.deadline||""),N(s.icon||""),w(s.color||"#05BFDB"),x(s.description||"")):e&&!s&&(i(""),c(""),u("0"),m(""),N(""),w("#05BFDB"),x(""))},[e,s]);const g=async b=>{if(b.preventDefault(),!o||!l){re("Por favor completa los campos requeridos");return}try{await r({id:s==null?void 0:s.id,name:o,targetAmount:parseFloat(l),currentAmount:parseFloat(d||"0"),deadline:h||void 0,icon:f,color:v,description:p}),t(),Me(s?"Meta actualizada":"Meta creada")}catch{re("Error al guardar la meta")}};return n.jsx(De,{isOpen:e,onClose:t,title:s?" Editar Meta":" Nueva Meta",size:"md",children:n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsx(Pe,{label:"Nombre de la meta *",placeholder:"Ej: Vacaciones, Auto nuevo...",value:o,onChange:b=>i(b.target.value),required:!0}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Pe,{label:"Monto objetivo *",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:l,onChange:b=>c(b.target.value),leftIcon:n.jsx("span",{children:"$"}),required:!0}),n.jsx(Pe,{label:"Ahorrado actualmente",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:d,onChange:b=>u(b.target.value),leftIcon:n.jsx("span",{children:"$"})})]}),n.jsx(Pe,{label:"Fecha lmite (opcional)",type:"date",value:h,onChange:b=>m(b.target.value)}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-semibold text-white/90",children:"cono"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m0.map(b=>n.jsx("button",{type:"button",onClick:()=>N(b),className:B("w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all",f===b?"ring-2 ring-offset-2 ring-offset-black":"bg-white/5 hover:bg-white/10"),style:f===b?{backgroundColor:`${v}30`,borderColor:v}:{},children:b},b))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-semibold text-white/90",children:"Color"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:p0.map(b=>n.jsx("button",{type:"button",onClick:()=>w(b),className:B("w-8 h-8 rounded-full transition-all",v===b&&"ring-2 ring-offset-2 ring-offset-black ring-white"),style:{backgroundColor:b,boxShadow:v===b?`0 0 15px ${b}`:"none"}},b))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-semibold text-white/90",children:"Descripcin (opcional)"}),n.jsx("textarea",{value:p,onChange:b=>x(b.target.value),placeholder:"Por qu es importante esta meta?",className:"w-full px-4 py-3 rounded-xl bg-white/5 border-2 border-white/10 text-white placeholder-white/40 focus:border-white/30 resize-none",rows:2})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(H,{type:"button",variant:"secondary",onClick:t,fullWidth:!0,disabled:a,children:"Cancelar"}),n.jsx(H,{type:"submit",fullWidth:!0,isLoading:a,children:s?"Guardar":"Crear Meta"})]})]})})},g0=({isOpen:e,onClose:t,goal:s,onSubmit:r,isSubmitting:a})=>{const[o,i]=y.useState(""),{currency:l}=de(),c=async h=>{if(h.preventDefault(),!(!o||parseFloat(o)<=0))try{await r(parseFloat(o)),i(""),t(),Me("Aporte agregado")}catch{re("Error al agregar aporte")}};if(!s)return null;const d=mc(s),u=Math.max(0,(s.targetAmount||0)-(s.currentAmount||0));return n.jsx(De,{isOpen:e,onClose:t,title:" Agregar Aporte",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center p-4 rounded-xl bg-white/5",children:[n.jsx("span",{className:"text-3xl",children:s.icon}),n.jsx("h3",{className:"font-bold text-white mt-2",children:s.name}),n.jsxs("p",{className:"text-sm text-white/60",children:[V(s.currentAmount||0,l)," de ",V(s.targetAmount||0,l)]}),n.jsx("div",{className:"mt-3 h-2 bg-white/10 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Math.min(d,100)}%`,backgroundColor:s.color,boxShadow:`0 0 10px ${s.color}`}})})]}),n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsx(Pe,{label:"Monto a aportar",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:o,onChange:h=>i(h.target.value),leftIcon:n.jsx("span",{children:"$"}),autoFocus:!0}),n.jsxs("div",{className:"flex gap-2",children:[[100,500,1e3].map(h=>n.jsxs("button",{type:"button",onClick:()=>i(h.toString()),className:"flex-1 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white/70 text-sm transition-colors",children:["+$",h]},h)),n.jsx("button",{type:"button",onClick:()=>i(u.toFixed(2)),className:"flex-1 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white/70 text-sm transition-colors",children:"Todo"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(H,{type:"button",variant:"secondary",onClick:t,fullWidth:!0,disabled:a,children:"Cancelar"}),n.jsx(H,{type:"submit",fullWidth:!0,isLoading:a,children:"Agregar"})]})]})]})})},x0=()=>{const{currency:e,theme:t}=de(),s=_e(t),{goals:r,add:a,update:o,remove:i,contribute:l}=og(),[c,d]=y.useState(!1),[u,h]=y.useState(null),[m,f]=y.useState(null),[N,v]=y.useState(null),[w,p]=y.useState("all"),[x,g]=y.useState(!1),_=Array.isArray(r)?r:[],T=y.useMemo(()=>_.filter(P=>w==="active"?!P.isCompleted:w==="completed"?P.isCompleted:!0),[_,w]),b=y.useMemo(()=>{const P=_.filter(E=>!E.isCompleted).length,C=_.filter(E=>E.isCompleted).length,A=_.reduce((E,k)=>E+(Number(k.targetAmount)||0),0),S=_.reduce((E,k)=>E+(Number(k.currentAmount)||0),0),D=A>0?S/A*100:0;return{active:P,completed:C,totalTarget:A,totalSaved:S,progress:D}},[_]),j=async P=>{g(!0);try{await a({name:P.name||"",targetAmount:P.targetAmount||0,currentAmount:P.currentAmount||0,deadline:P.deadline,icon:P.icon||"",color:P.color||"#05BFDB",description:P.description,createdAt:new Date,isCompleted:!1})}finally{g(!1)}},M=async P=>{if(u){g(!0);try{await o(u.id,P),h(null)}finally{g(!1)}}},$=async()=>{if(m){g(!0);try{await i(m.id),f(null),Me("Meta eliminada")}catch{re("Error al eliminar")}finally{g(!1)}}},I=async P=>{if(N){g(!0);try{await l(N.id,P)}finally{g(!1)}}};return n.jsxs("div",{className:"space-y-6 pb-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:" Metas de Ahorro"}),n.jsxs("p",{className:"text-white/60 mt-1",children:[b.active," activas, ",b.completed," completadas"]})]}),n.jsx(H,{leftIcon:n.jsx(et,{className:"w-4 h-4"}),onClick:()=>d(!0),children:"Nueva Meta"})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(F,{className:"text-center p-4",children:[n.jsx(Be,{className:"w-8 h-8 mx-auto mb-2",style:{color:s.primary}}),n.jsx("p",{className:"text-xs text-white/50",children:"Objetivo Total"}),n.jsx("p",{className:"text-lg font-bold text-white",children:V(b.totalTarget,e)})]}),n.jsxs(F,{className:"text-center p-4",children:[n.jsx(we,{className:"w-8 h-8 mx-auto mb-2 text-success-400"}),n.jsx("p",{className:"text-xs text-white/50",children:"Ahorrado"}),n.jsx("p",{className:"text-lg font-bold text-success-400",children:V(b.totalSaved,e)})]}),n.jsxs(F,{className:"text-center p-4",children:[n.jsx(na,{className:"w-8 h-8 mx-auto mb-2 text-warning-400"}),n.jsx("p",{className:"text-xs text-white/50",children:"Progreso"}),n.jsxs("p",{className:"text-lg font-bold text-warning-400",children:[b.progress.toFixed(1),"%"]})]}),n.jsxs(F,{className:"text-center p-4",children:[n.jsx(nf,{className:"w-8 h-8 mx-auto mb-2",style:{color:s.primary}}),n.jsx("p",{className:"text-xs text-white/50",children:"Completadas"}),n.jsx("p",{className:"text-lg font-bold text-white",children:b.completed})]})]}),n.jsx("div",{className:"flex gap-2 p-1 bg-white/5 rounded-xl w-fit",children:["all","active","completed"].map(P=>n.jsx("button",{onClick:()=>p(P),className:B("px-4 py-2 rounded-lg font-medium transition-all",w===P?"text-white":"text-white/50 hover:text-white"),style:w===P?{backgroundColor:`${s.primary}20`,color:s.primary}:{},children:P==="all"?"Todas":P==="active"?"Activas":"Completadas"},P))}),T.length===0?n.jsx(cc,{icon:n.jsx(Be,{className:"w-16 h-16"}),title:w==="all"?"Sin metas":w==="active"?"Sin metas activas":"Sin metas completadas",description:w==="all"?"Crea tu primera meta de ahorro":void 0,action:w==="all"?n.jsx(H,{leftIcon:n.jsx(et,{className:"w-4 h-4"}),onClick:()=>d(!0),children:"Nueva Meta"}):void 0}):n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.jsx(ke,{children:T.map((P,C)=>{const A=mc(P),S=P.deadline?pc(P):null,D=h0(P);return Math.max(0,(P.targetAmount||0)-(P.currentAmount||0)),n.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:C*.05},children:n.jsxs(F,{className:"p-4 h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:`${P.color}20`,boxShadow:`0 0 15px ${P.color}30`},children:P.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-white",children:P.name}),P.isCompleted&&n.jsx(Te,{variant:"success",className:"mt-1",children:" Completada"})]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>h(P),className:"p-2 rounded-lg hover:bg-white/10 text-white/50 hover:text-white transition-colors",children:n.jsx(sa,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>f(P),className:"p-2 rounded-lg hover:bg-danger-500/20 text-white/50 hover:text-danger-400 transition-colors",children:n.jsx(ls,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-white/60",children:"Progreso"}),n.jsxs("span",{className:"font-bold",style:{color:P.color},children:[A.toFixed(0),"%"]})]}),n.jsx("div",{className:"h-3 bg-white/10 rounded-full overflow-hidden mb-3",children:n.jsx(W.div,{className:"h-full rounded-full",style:{backgroundColor:P.color,boxShadow:`0 0 10px ${P.color}`},initial:{width:0},animate:{width:`${Math.min(A,100)}%`},transition:{duration:.8,delay:C*.1}})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"p-2 rounded-lg bg-white/5",children:[n.jsx("p",{className:"text-white/50 text-xs",children:"Ahorrado"}),n.jsx("p",{className:"font-bold text-success-400",children:V(P.currentAmount||0,e)})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-white/5",children:[n.jsx("p",{className:"text-white/50 text-xs",children:"Meta"}),n.jsx("p",{className:"font-bold text-white",children:V(P.targetAmount||0,e)})]})]}),P.deadline&&!P.isCompleted&&n.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm",children:[n.jsx(Vl,{className:"w-4 h-4 text-white/50"}),n.jsx("span",{className:B(S!==null&&S<7?"text-danger-400":"text-white/50"),children:S!==null?S>0?`${S} das restantes`:"Fecha lmite pasada":`Fecha: ${P.deadline}`})]}),D&&D>0&&!P.isCompleted&&n.jsxs("div",{className:"mt-2 text-xs text-white/40",children:["Ahorro mensual sugerido: ",V(D,e)]})]}),!P.isCompleted&&n.jsx(H,{variant:"secondary",onClick:()=>v(P),className:"mt-4 w-full",leftIcon:n.jsx(ys,{className:"w-4 h-4"}),children:"Agregar Aporte"})]})},P.id)})})}),n.jsx(f0,{isOpen:c||!!u,onClose:()=>{d(!1),h(null)},goal:u,onSubmit:u?M:j,isSubmitting:x}),n.jsx(g0,{isOpen:!!N,onClose:()=>v(null),goal:N,onSubmit:I,isSubmitting:x}),n.jsx(De,{isOpen:!!m,onClose:()=>f(null),title:" Eliminar Meta",size:"sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-danger-500/20 flex items-center justify-center",children:n.jsx(ls,{className:"w-8 h-8 text-danger-400"})}),n.jsxs("p",{className:"text-white/80 mb-6",children:['Eliminar la meta "',m==null?void 0:m.name,'"?']}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(H,{variant:"secondary",onClick:()=>f(null),fullWidth:!0,disabled:x,children:"Cancelar"}),n.jsx(H,{variant:"danger",onClick:$,fullWidth:!0,isLoading:x,children:"Eliminar"})]})]})})]})},y0=["#05BFDB","#22C55E","#F59E0B","#EF4444","#8B5CF6","#EC4899"],b0=({data:e,title:t,dataKey:s="value",nameKey:r="name",colors:a=y0,className:o="",themeColors:i={primary:"#05BFDB",secondary:"#088395"}})=>{const[l,c]=y.useState("bar"),d=()=>{if(!e||e.length===0)return n.jsx("div",{className:"h-[300px] flex items-center justify-center text-white/40",children:"No hay datos disponibles"});switch(l){case"bar":return n.jsx(fe,{width:"100%",height:300,children:n.jsxs(ds,{data:e,children:[n.jsx(mt,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)"}),n.jsx(Ye,{dataKey:r,stroke:"rgba(255,255,255,0.4)",tick:{fill:"rgba(255,255,255,0.6)",fontSize:12},axisLine:{stroke:"rgba(255,255,255,0.1)"}}),n.jsx(Xe,{stroke:"rgba(255,255,255,0.4)",tick:{fill:"rgba(255,255,255,0.6)",fontSize:12},axisLine:{stroke:"rgba(255,255,255,0.1)"}}),n.jsx(ge,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.95)",border:"1px solid rgba(5, 191, 219, 0.3)",borderRadius:"8px",color:"#fff",backdropFilter:"blur(10px)"},labelStyle:{color:i.primary},cursor:{fill:"rgba(5, 191, 219, 0.1)"}}),n.jsx(Ze,{dataKey:s,fill:i.primary,radius:[8,8,0,0],animationDuration:800,children:e.map((h,m)=>n.jsx(Qt,{fill:a[m%a.length]},`cell-${m}`))})]})});case"line":return n.jsx(fe,{width:"100%",height:300,children:n.jsxs(Qi,{data:e,children:[n.jsx(mt,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.05)"}),n.jsx(Ye,{dataKey:r,stroke:"rgba(255,255,255,0.4)",tick:{fill:"rgba(255,255,255,0.6)",fontSize:12},axisLine:{stroke:"rgba(255,255,255,0.1)"}}),n.jsx(Xe,{stroke:"rgba(255,255,255,0.4)",tick:{fill:"rgba(255,255,255,0.6)",fontSize:12},axisLine:{stroke:"rgba(255,255,255,0.1)"}}),n.jsx(ge,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.95)",border:"1px solid rgba(5, 191, 219, 0.3)",borderRadius:"8px",color:"#fff",backdropFilter:"blur(10px)"},labelStyle:{color:i.primary},cursor:{stroke:i.primary,strokeWidth:2}}),n.jsx(Fn,{type:"monotone",dataKey:s,stroke:i.primary,strokeWidth:3,dot:{fill:i.primary,r:4,strokeWidth:2,stroke:"#000"},activeDot:{r:6,fill:i.secondary,stroke:i.primary,strokeWidth:2},animationDuration:800})]})});case"pie":const u=e.reduce((h,m)=>h+(m[s]||0),0);return n.jsx(fe,{width:"100%",height:300,children:n.jsxs(Zs,{children:[n.jsx(Qs,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:({name:h,value:m,percent:f})=>{const N=(f*100).toFixed(0);return N==="0"?"":`${h}: ${N}%`},outerRadius:100,innerRadius:60,fill:"#8884d8",dataKey:s,animationDuration:800,children:e.map((h,m)=>n.jsx(Qt,{fill:a[m%a.length]},`cell-${m}`))}),n.jsx(ge,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.95)",border:"1px solid rgba(5, 191, 219, 0.3)",borderRadius:"8px",color:"#fff",backdropFilter:"blur(10px)"},formatter:h=>{const m=(h/u*100).toFixed(1);return[`${h} (${m}%)`,""]}})]})});default:return null}};return n.jsxs("div",{className:B("card",o),children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-base lg:text-lg font-bold text-white",children:t}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(W.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c("bar"),className:B("p-2 rounded-lg transition-all duration-200",l==="bar"?"bg-primary-500/20 text-primary-500":"bg-white/5 text-white/40 hover:bg-white/10 hover:text-white/60"),title:"Grfico de Barras",type:"button",children:n.jsx(Hs,{className:"w-4 h-4"})}),n.jsx(W.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c("line"),className:B("p-2 rounded-lg transition-all duration-200",l==="line"?"bg-primary-500/20 text-primary-500":"bg-white/5 text-white/40 hover:bg-white/10 hover:text-white/60"),title:"Grfico de Lneas",type:"button",children:n.jsx(tf,{className:"w-4 h-4"})}),n.jsx(W.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c("pie"),className:B("p-2 rounded-lg transition-all duration-200",l==="pie"?"bg-primary-500/20 text-primary-500":"bg-white/5 text-white/40 hover:bg-white/10 hover:text-white/60"),title:"Grfico Circular",type:"button",children:n.jsx(yt,{className:"w-4 h-4"})})]})]}),n.jsx(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:d()},l)]})},Rn=["#05BFDB","#22C55E","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#3B82F6"],In=[{value:"today",label:"Hoy",days:1},{value:"week",label:"7 das",days:7},{value:"biweek",label:"15 das",days:15},{value:"month",label:"30 das",days:30},{value:"quarter",label:"3 meses",days:90},{value:"year",label:"1 ao",days:365}],v0=[{value:"bar",label:"Barras",icon:Zr},{value:"line",label:"Lnea",icon:Xp},{value:"area",label:"rea",icon:we}],w0=({active:e,payload:t,label:s,currency:r})=>e&&t&&t.length?n.jsxs("div",{className:"bg-black/90 border border-white/20 rounded-lg p-3 shadow-xl backdrop-blur-sm",children:[n.jsx("p",{className:"text-white/60 text-sm mb-1",children:s}),t.map((a,o)=>n.jsxs("p",{className:"font-semibold text-sm",style:{color:a.color||a.fill},children:[a.name,": ",V(a.value,r)]},o))]}):null,j0=()=>{const{goals:e,budgets:t,recurringTransactions:s,theme:r,currency:a}=de(),o=_e(r),[i,l]=y.useState("month"),[c,d]=y.useState("area"),[u,h]=y.useState([]),[m,f]=y.useState(!0);y.useEffect(()=>{var D;const C=(D=xe.currentUser)==null?void 0:D.uid;if(!C){f(!1);return}const A=oe(X(G,"transactions"),Se("userId","==",C)),S=pe(A,E=>{const k=[];E.forEach(R=>{const L=R.data();L.recurring||k.push({id:R.id,...L})}),k.sort((R,L)=>new Date(L.date).getTime()-new Date(R.date).getTime()),h(k),f(!1)},E=>{console.error("Error en reportes listener:",E),E.code==="permission-denied"&&console.error(" Error de permisos en reportes."),f(!1),h([])});return()=>S()},[]);const N=Array.isArray(e)?e:[],v=t||{},w=Array.isArray(s)?s:[],p=In.find(C=>C.value===i)||In[3],x=C=>C.synced_from_plaid?C.amount>0?"expense":"income":C.type||"expense",g=C=>C.synced_from_plaid&&Array.isArray(C.category)?C.category[0]||"Otros":C.category||"Otros",_=y.useMemo(()=>{const C=new Date,A=new Date;A.setDate(A.getDate()-p.days);const S=u.filter(k=>{const R=new Date(k.date);return R>=A&&R<=C}),D=S.filter(k=>x(k)==="income"),E=S.filter(k=>x(k)==="expense");return{incomes:D,expenses:E}},[u,p.days]),T=y.useMemo(()=>{let C=0,A=0;return w.forEach(S=>{if(!S.isActive)return;let D=Number(S.amount)||0;switch(S.frequency){case"daily":D*=30;break;case"weekly":D*=4;break;case"biweekly":D*=2;break;case"yearly":D/=12;break}const E=p.days/30,k=D*E;S.type==="income"?C+=k:A+=k}),{income:C,expense:A}},[w,p.days]),b=y.useMemo(()=>{const C=_.incomes.reduce((R,L)=>R+Math.abs(L.amount),0),A=_.expenses.reduce((R,L)=>R+Math.abs(L.amount),0),S=C+T.income,D=A+T.expense,E=S-D,k=S>0?E/S*100:0;return{totalIncome:S,totalExpense:D,balance:E,savingsRate:k,baseIncome:C,baseExpense:A}},[_,T]),j=y.useMemo(()=>{const C={};return _.expenses.forEach(A=>{const S=g(A);C[S]=(C[S]||0)+Math.abs(A.amount)}),Object.entries(C).map(([A,S],D)=>({name:A,value:S,fill:Rn[D%Rn.length],percentage:b.totalExpense>0?S/b.totalExpense*100:0})).sort((A,S)=>S.value-A.value)},[_.expenses,b.totalExpense]),M=y.useMemo(()=>{const C={},A=S=>p.days<=7?S.toLocaleDateString("es",{weekday:"short"}):p.days<=31?S.toLocaleDateString("es",{day:"numeric",month:"short"}):S.toLocaleDateString("es",{month:"short"});return _.incomes.forEach(S=>{const D=A(new Date(S.date));C[D]||(C[D]={income:0,expenses:0}),C[D].income+=Math.abs(S.amount)}),_.expenses.forEach(S=>{const D=A(new Date(S.date));C[D]||(C[D]={income:0,expenses:0}),C[D].expenses+=Math.abs(S.amount)}),Object.entries(C).map(([S,D])=>({name:S,Ingresos:D.income,Gastos:D.expenses}))},[_,p.days]),$=y.useMemo(()=>Object.entries(v).slice(0,6).map(([C,A])=>{var E;const S=((E=j.find(k=>k.name.toLowerCase()===C.toLowerCase()))==null?void 0:E.value)||0,D=A>0?S/Number(A)*100:0;return{category:C,limit:Number(A),spent:S,percentage:D,status:D>=100?"exceeded":D>=80?"warning":"ok"}}),[j,v]),I=y.useMemo(()=>N.slice(0,6).map(C=>({name:C.name,icon:C.icon||"",current:Number(C.currentAmount)||0,target:Number(C.targetAmount)||1,percentage:(Number(C.currentAmount)||0)/(Number(C.targetAmount)||1)*100})),[N]),P=()=>{const C={data:M,margin:{top:10,right:10,left:-20,bottom:0}},A=n.jsxs(n.Fragment,{children:[n.jsx(mt,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)"}),n.jsx(Ye,{dataKey:"name",stroke:"rgba(255,255,255,0.5)",style:{fontSize:11}}),n.jsx(Xe,{stroke:"rgba(255,255,255,0.5)",style:{fontSize:11}}),n.jsx(ge,{content:n.jsx(w0,{currency:a})}),n.jsx(ur,{wrapperStyle:{fontSize:12}})]});return n.jsx(fe,{width:"100%",height:200,children:c==="bar"?n.jsxs(ds,{...C,children:[A,n.jsx(Ze,{dataKey:"Ingresos",fill:"#22C55E",radius:[4,4,0,0]}),n.jsx(Ze,{dataKey:"Gastos",fill:"#EF4444",radius:[4,4,0,0]})]}):c==="line"?n.jsxs(Qi,{...C,children:[A,n.jsx(Fn,{type:"monotone",dataKey:"Ingresos",stroke:"#22C55E",strokeWidth:2}),n.jsx(Fn,{type:"monotone",dataKey:"Gastos",stroke:"#EF4444",strokeWidth:2})]}):n.jsxs(hr,{...C,children:[A,n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#22C55E",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#22C55E",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorExpense",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),n.jsx(kt,{type:"monotone",dataKey:"Ingresos",stroke:"#22C55E",fill:"url(#colorIncome)"}),n.jsx(kt,{type:"monotone",dataKey:"Gastos",stroke:"#EF4444",fill:"url(#colorExpense)"})]})})};return m?n.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-400"})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h1",{className:"text-2xl font-bold text-white",children:" Reportes"})}),n.jsx(F,{className:"p-2",children:n.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto",children:[n.jsx(xs,{className:"w-5 h-5 text-white/50 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-white/70 mr-2 flex-shrink-0",children:"Perodo"}),In.map(C=>n.jsx("button",{onClick:()=>l(C.value),className:B("px-4 py-2 rounded-lg font-medium text-sm transition-colors whitespace-nowrap",i===C.value?"bg-primary-500 text-white":"bg-white/5 text-white/70 hover:bg-white/10"),children:C.label},C.value))]})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[n.jsxs(F,{className:"p-4 text-center backdrop-blur-xl bg-white/5 border border-white/10",children:[n.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-xl bg-success-500/20 flex items-center justify-center",children:n.jsx(we,{className:"w-5 h-5 text-success-400"})}),n.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Ingresos"}),n.jsx("p",{className:"text-xl font-bold text-success-400",children:V(b.totalIncome,a)}),T.income>0&&n.jsxs("p",{className:"text-xs text-white/40 mt-1",children:["+",V(T.income,a)," recurrente"]})]}),n.jsxs(F,{className:"p-4 text-center backdrop-blur-xl bg-white/5 border border-white/10",children:[n.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-xl bg-danger-500/20 flex items-center justify-center",children:n.jsx(bs,{className:"w-5 h-5 text-danger-400"})}),n.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Gastos"}),n.jsx("p",{className:"text-xl font-bold text-danger-400",children:V(b.totalExpense,a)}),T.expense>0&&n.jsxs("p",{className:"text-xs text-white/40 mt-1",children:["+",V(T.expense,a)," recurrente"]})]}),n.jsxs(F,{className:"p-4 text-center backdrop-blur-xl bg-white/5 border border-white/10",children:[n.jsx("div",{className:B("w-10 h-10 mx-auto mb-2 rounded-xl flex items-center justify-center",b.balance>=0?"bg-primary-500/20":"bg-warning-500/20"),children:n.jsx(ht,{className:"w-5 h-5",style:{color:b.balance>=0?o.primary:"#F59E0B"}})}),n.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Balance"}),n.jsx("p",{className:B("text-xl font-bold",b.balance>=0?"text-primary-400":"text-warning-400"),children:V(b.balance,a)})]}),n.jsxs(F,{className:"p-4 text-center backdrop-blur-xl bg-white/5 border border-white/10",children:[n.jsx("div",{className:B("w-10 h-10 mx-auto mb-2 rounded-xl flex items-center justify-center",b.savingsRate>=20?"bg-success-500/20":b.savingsRate>=0?"bg-warning-500/20":"bg-danger-500/20"),children:n.jsx(cf,{className:"w-5 h-5",style:{color:b.savingsRate>=20?"#22C55E":b.savingsRate>=0?"#F59E0B":"#EF4444"}})}),n.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Tasa Ahorro"}),n.jsxs("p",{className:B("text-xl font-bold",b.savingsRate>=20?"text-success-400":b.savingsRate>=0?"text-warning-400":"text-danger-400"),children:[b.savingsRate.toFixed(1),"%"]})]})]}),n.jsx("div",{className:"flex gap-2 justify-center",children:v0.map(C=>{const A=C.icon;return n.jsxs("button",{onClick:()=>d(C.value),className:B("px-4 py-2 rounded-lg font-medium text-sm transition-colors flex items-center gap-2",c===C.value?"bg-primary-500 text-white":"bg-white/5 text-white/70 hover:bg-white/10"),children:[n.jsx(A,{className:"w-4 h-4"}),C.label]},C.value)})}),n.jsxs(F,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-white mb-4 text-center",children:" Ingresos vs Gastos"}),M.length>0?P():n.jsx("div",{className:"h-[200px] flex items-center justify-center text-white/50",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Zr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No hay datos para este perodo"})]})})]}),n.jsx(F,{className:"p-4",children:j.length>0?n.jsx(b0,{data:j,title:" Distribucin de Gastos por Categora",colors:Rn,themeColors:o}):n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white mb-4 text-center",children:" Distribucin de Gastos"}),n.jsx("div",{className:"h-[200px] flex items-center justify-center text-white/50",children:n.jsxs("div",{className:"text-center",children:[n.jsx(yt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Agrega gastos para ver la distribucin"})]})})]})}),j.length>0&&n.jsxs(F,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-white mb-4 text-center",children:" Top Categoras"}),n.jsx("div",{className:"space-y-3",children:j.slice(0,5).map((C,A)=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-white",children:C.name}),n.jsx("span",{className:"text-white/60",children:V(C.value,a)})]}),n.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:n.jsx(W.div,{initial:{width:0},animate:{width:`${C.percentage}%`},transition:{duration:.5,delay:A*.1},className:"h-full rounded-full",style:{backgroundColor:C.fill}})})]},A))})]}),$.length>0&&n.jsxs(F,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-white mb-4 text-center",children:" Estado de Presupuestos"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:$.map((C,A)=>n.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-white truncate",children:C.category}),n.jsxs(Te,{variant:C.status==="exceeded"?"danger":C.status==="warning"?"warning":"success",size:"sm",children:[C.percentage.toFixed(0),"%"]})]}),n.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:n.jsx("div",{className:B("h-full rounded-full",C.status==="exceeded"?"bg-danger-500":C.status==="warning"?"bg-warning-500":"bg-success-500"),style:{width:`${Math.min(C.percentage,100)}%`}})}),n.jsxs("p",{className:"text-xs text-white/40 mt-1",children:[V(C.spent,a)," / ",V(C.limit,a)]})]},A))})]}),I.length>0&&n.jsxs(F,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-white mb-4 text-center",children:" Progreso de Metas"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:I.map((C,A)=>n.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-lg",children:C.icon}),n.jsx("span",{className:"text-sm text-white truncate",children:C.name})]}),n.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden mb-1",children:n.jsx(W.div,{initial:{width:0},animate:{width:`${C.percentage}%`},transition:{duration:.5,delay:A*.1},className:"h-full rounded-full bg-primary-500"})}),n.jsxs("div",{className:"flex justify-between text-xs text-white/40",children:[n.jsx("span",{children:V(C.current,a)}),n.jsxs("span",{children:[C.percentage.toFixed(0),"%"]})]})]},A))})]}),(T.income>0||T.expense>0)&&n.jsxs(F,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-white mb-4 text-center",children:" Recurrentes en el Perodo"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(ut,{className:"w-6 h-6 mx-auto mb-1 text-success-400"}),n.jsx("p",{className:"text-xs text-white/50",children:"Ingresos"}),n.jsx("p",{className:"font-bold text-success-400",children:V(T.income,a)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(ut,{className:"w-6 h-6 mx-auto mb-1 text-danger-400"}),n.jsx("p",{className:"text-xs text-white/50",children:"Gastos"}),n.jsx("p",{className:"font-bold text-danger-400",children:V(T.expense,a)})]})]})]})]})})},N0=()=>{const[e,t]=y.useState(null),s=[{id:"theme",icon:ta,title:"Tema",subtitle:"Apariencia",action:()=>t("theme")},{id:"language",icon:Xt,title:"Idioma",subtitle:"Espaol",action:()=>t("language")},{id:"currency",icon:Xt,title:"Moneda",subtitle:"USD",action:()=>t("currency")},{id:"alerts",icon:gt,title:" Alertas Inteligentes",subtitle:"Alertas de Presupuesto",action:()=>t("alerts")},{id:"notifications",icon:gt,title:" Notificaciones",subtitle:"Push, email",action:()=>t("notifications")},{id:"bank",icon:ir,title:" Conexin Bancaria",subtitle:"Plaid sync",action:()=>t("bank")}];return e==="alerts"?n.jsx(_0,{onBack:()=>t(null)}):e==="notifications"?n.jsx(A0,{onBack:()=>t(null)}):e==="bank"?n.jsx(C0,{onBack:()=>t(null)}):e==="theme"?n.jsx(S0,{onBack:()=>t(null)}):e==="language"?n.jsx(k0,{onBack:()=>t(null)}):e==="currency"?n.jsx(T0,{onBack:()=>t(null)}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[n.jsx(Xt,{className:"w-7 h-7"}),"Configuracin Completa"]}),n.jsx("p",{className:"text-white/60 text-sm mt-1",children:"Alertas"})]}),n.jsx("div",{className:"space-y-2",children:s.map(r=>{const a=r.icon;return n.jsx(F,{className:"p-4 hover:bg-white/10 transition-colors cursor-pointer",onClick:r.action,children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-500/20 flex items-center justify-center",children:n.jsx(a,{className:"w-6 h-6 text-primary-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-white",children:r.title}),n.jsx("p",{className:"text-sm text-white/50",children:r.subtitle})]}),n.jsx("div",{className:"text-white/30",children:""})]})},r.id)})}),n.jsxs(F,{className:"p-6 mt-6 border-red-500/20",children:[n.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-4",children:"Gestin de Datos"}),n.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Exportar Datos"}),n.jsx(H,{className:"w-full bg-red-500 hover:bg-red-600",children:"Cerrar sesin"})]})]})})},_0=({onBack:e})=>n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("button",{onClick:e,className:"mb-4 text-primary-400 hover:text-primary-300 flex items-center gap-2",children:" Volver"}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:" Alertas Inteligentes"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs(F,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-medium",children:" Gasto alto"}),n.jsx("p",{className:"text-sm text-white/50",children:"Alertar cuando un gasto supere $100"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),n.jsx("div",{className:"w-11 h-6 bg-white/10 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-white/70 mb-2 block",children:"Monto de alerta ($)"}),n.jsx("input",{type:"number",defaultValue:"100",className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white"})]})]}),n.jsx(F,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-medium",children:" Alerta de presupuesto"}),n.jsx("p",{className:"text-sm text-white/50",children:"Notificar al alcanzar el 80% del presupuesto"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),n.jsx("div",{className:"w-11 h-6 bg-white/10 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-500"})]})]})}),n.jsx(F,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-medium",children:" Meta prxima"}),n.jsx("p",{className:"text-sm text-white/50",children:"Alertar 30 das antes de fecha lmite"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),n.jsx("div",{className:"w-11 h-6 bg-white/10 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-500"})]})]})})]})]})}),A0=({onBack:e})=>{const t=async()=>{if(!("Notification"in window)){alert("Tu navegador no soporta notificaciones");return}await Notification.requestPermission()==="granted"&&new Notification(" Notificaciones activadas!",{body:"Ahora recibirs alertas",icon:"/icon-192x192.png"})};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("button",{onClick:e,className:"mb-4 text-primary-400 hover:text-primary-300 flex items-center gap-2",children:" Volver"}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:" Notificaciones"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(F,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-medium",children:"Notificaciones del navegador"}),n.jsx("p",{className:"text-sm text-white/50",children:Notification.permission==="granted"?"Activadas ":"No activadas"})]}),Notification.permission!=="granted"&&n.jsx(H,{onClick:t,size:"sm",children:"Activar"})]})}),n.jsx(F,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-medium",children:" Nueva transaccin"}),n.jsx("p",{className:"text-sm text-white/50",children:"Notificar cada transaccin nueva"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),n.jsx("div",{className:"w-11 h-6 bg-white/10 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-500"})]})]})}),n.jsx(F,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-medium",children:" Email"}),n.jsx("p",{className:"text-sm text-white/50",children:"Resumen semanal por email"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-white/10 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-500"})]})]})})]})]})})},C0=({onBack:e})=>n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("button",{onClick:e,className:"mb-4 text-primary-400 hover:text-primary-300 flex items-center gap-2",children:" Volver"}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:" Conexin Bancaria"}),n.jsxs(F,{className:"p-6 mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Plaid sync"}),n.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Conecta tu banco para sincronizar transacciones automticamente"}),n.jsx("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ir,{className:"w-8 h-8 text-primary-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white font-medium",children:"Chase Bank"}),n.jsx("p",{className:"text-xs text-white/50",children:"ltima sync: Hace 5 min"})]})]}),n.jsx("span",{className:"px-3 py-1 rounded-full bg-green-500/20 text-green-400 text-xs",children:"Conectado"})]})}),n.jsxs(H,{className:"w-full",children:[n.jsx(ir,{className:"w-5 h-5 mr-2"}),"Conectar nuevo banco"]})]}),n.jsx(F,{className:"p-4 bg-blue-500/10 border-blue-500/20",children:n.jsxs("p",{className:"text-sm text-blue-400",children:[" ",n.jsx("strong",{children:"Tip:"})," Es seguro. Puedes desconectarlo cuando quieras."]})})]})}),S0=({onBack:e})=>n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("button",{onClick:e,className:"mb-4 text-primary-400 hover:text-primary-300",children:" Volver"}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:" Tema"}),n.jsx(F,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-medium",children:"Modo oscuro"}),n.jsx("p",{className:"text-sm text-white/50",children:"Activado por defecto"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),n.jsx("div",{className:"w-11 h-6 bg-white/10 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-500"})]})]})})]})}),k0=({onBack:e})=>n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("button",{onClick:e,className:"mb-4 text-primary-400 hover:text-primary-300",children:" Volver"}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:" Idioma"}),n.jsx(F,{className:"p-6",children:n.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[n.jsx("option",{value:"es",className:"bg-gray-900",children:"Espaol"}),n.jsx("option",{value:"en",className:"bg-gray-900",children:"English"})]})})]})}),T0=({onBack:e})=>n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("button",{onClick:e,className:"mb-4 text-primary-400 hover:text-primary-300",children:" Volver"}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:" Moneda"}),n.jsx(F,{className:"p-6",children:n.jsxs("select",{className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white",children:[n.jsx("option",{value:"USD",className:"bg-gray-900",children:"USD - Dlar"}),n.jsx("option",{value:"EUR",className:"bg-gray-900",children:"EUR - Euro"}),n.jsx("option",{value:"MXN",className:"bg-gray-900",children:"MXN - Peso Mexicano"})]})})]})}),D0=()=>{const{user:e,expenses:t,incomes:s,goals:r,budgets:a,recurringTransactions:o,theme:i,currency:l,language:c}=de(),d=_e(i),u=ia(c),[h,m]=y.useState([]),[f,N]=y.useState(""),[v,w]=y.useState(!1),p=y.useRef(null),x=Array.isArray(t)?t:[],g=Array.isArray(s)?s:[],_=Array.isArray(r)?r:[],T=a||{},b=Array.isArray(o)?o:[],j=y.useMemo(()=>{const D=new Date,E=D.getMonth(),k=D.getFullYear(),R=E===0?11:E-1,L=E===0?k-1:k,ee=new Date(k,E+1,0).getDate(),ae=D.getDate(),xc=ee-ae,hn=x.filter(q=>{const K=new Date(q.date);return K.getMonth()===E&&K.getFullYear()===k}),oa=g.filter(q=>{const K=new Date(q.date);return K.getMonth()===E&&K.getFullYear()===k}),yc=x.filter(q=>{const K=new Date(q.date);return K.getMonth()===R&&K.getFullYear()===L}),bc=g.filter(q=>{const K=new Date(q.date);return K.getMonth()===R&&K.getFullYear()===L}),mn=oa.reduce((q,K)=>q+(Number(K.amount)||0),0),bt=hn.reduce((q,K)=>q+(Number(K.amount)||0),0),ws=yc.reduce((q,K)=>q+(Number(K.amount)||0),0),js=bc.reduce((q,K)=>q+(Number(K.amount)||0),0);let pn=0,la=0;b.forEach(q=>{if(!q.isActive)return;let K=Number(q.amount)||0;switch(q.frequency){case"daily":K*=30;break;case"weekly":K*=4;break;case"biweekly":K*=2;break;case"yearly":K/=12;break}q.type==="income"?pn+=K:la+=K});const nt=mn||pn,ca=bt,Ns=nt-ca,vc=nt>0?Ns/nt*100:0,Ot={};hn.forEach(q=>{const K=q.category||"Otros";Ot[K]=(Ot[K]||0)+(Number(q.amount)||0)});const wc=Object.entries(Ot).sort((q,K)=>K[1]-q[1]).slice(0,5).map(([q,K])=>({name:q,amount:K,percentage:bt>0?K/bt*100:0})),da=[];Object.entries(T).forEach(([q,K])=>{const ha=Ot[q]||0,_s=Number(K)>0?ha/Number(K)*100:0;_s>=50&&da.push({category:q,percentage:_s,status:_s>=100?"exceeded":_s>=80?"warning":"safe",spent:ha,limit:Number(K)})});const jc=_.map(q=>({name:q.name,current:Number(q.currentAmount)||0,target:Number(q.targetAmount)||1,percentage:Math.min((Number(q.currentAmount)||0)/(Number(q.targetAmount)||1)*100,100),remaining:Math.max((Number(q.targetAmount)||0)-(Number(q.currentAmount)||0),0),monthsToComplete:Ns>0?Math.ceil(Math.max((Number(q.targetAmount)||0)-(Number(q.currentAmount)||0),0)/Ns):null})),Nc=ws>0?(bt-ws)/ws*100:0,_c=js>0?(mn-js)/js*100:0,ua=bt/(ae||1),Ac=ua*ee,Cc=nt*.5,Sc=nt*.3,kc=nt*.2;return{totalIncome:mn,totalExpenses:bt,effectiveIncome:nt,effectiveExpenses:ca,balance:Ns,savingsRate:vc,recurringIncome:pn,recurringExpense:la,topCategories:wc,budgetAlerts:da,goalsStatus:jc,expenseChange:Nc,incomeChange:_c,avgDailyExpense:ua,projectedMonthlyExpense:Ac,daysRemaining:xc,currentDay:ae,daysInMonth:ee,lastTotalExpenses:ws,lastTotalIncome:js,needsTarget:Cc,wantsTarget:Sc,savingsTarget:kc,transactionCount:hn.length+oa.length,categoryTotals:Ot}},[x,g,_,T,b]),M=y.useMemo(()=>{const D=[];return j.balance<0&&D.push({type:"danger",icon:"",title:"Dficit Financiero",message:`Ests gastando ${V(Math.abs(j.balance),l)} ms de lo que ganas.`,priority:1}),j.savingsRate>=0&&j.savingsRate<10&&j.effectiveIncome>0&&D.push({type:"warning",icon:"",title:"Tasa de Ahorro Baja",message:`Tu tasa de ahorro es ${j.savingsRate.toFixed(1)}%. Se recomienda al menos 20%.`,priority:2}),j.budgetAlerts.filter(E=>E.status==="exceeded").forEach(E=>{D.push({type:"danger",icon:"",title:`Presupuesto Excedido: ${E.category}`,message:`${E.percentage.toFixed(0)}% usado`,priority:1})}),j.budgetAlerts.filter(E=>E.status==="warning").forEach(E=>{D.push({type:"warning",icon:"",title:`Presupuesto en Riesgo: ${E.category}`,message:`${E.percentage.toFixed(0)}% usado`,priority:3})}),j.expenseChange>20&&D.push({type:"warning",icon:"",title:"Gastos Aumentaron",message:`+${j.expenseChange.toFixed(0)}% vs mes anterior`,priority:3}),j.savingsRate>=20&&D.push({type:"success",icon:"",title:"Excelente Ahorro",message:`${j.savingsRate.toFixed(1)}% - Por encima del promedio`,priority:5}),D.sort((E,k)=>E.priority-k.priority)},[j,l]),$=D=>{const E=D.toLowerCase();if(E.includes("resumen")||E.includes("general")||E.includes("hola")||E.includes("situacin")||E.includes("como estoy")){let k=`##  Tu Resumen Financiero

`;return k+=`###  Balance del Mes
`,k+=`**Ingresos:** ${V(j.effectiveIncome,l)}
`,k+=`**Gastos:** ${V(j.totalExpenses,l)}
`,k+=`**Balance:** ${V(j.balance,l)} ${j.balance>=0?"":""}
`,k+=`**Tasa de Ahorro:** ${j.savingsRate.toFixed(1)}%

`,j.topCategories.length>0&&(k+=`###  Top Gastos
`,j.topCategories.slice(0,3).forEach((R,L)=>{k+=`${L+1}. **${R.name}**: ${V(R.amount,l)} (${R.percentage.toFixed(0)}%)
`}),k+=`
`),M.length>0&&(k+=`###  Alertas (${M.length})
`,M.slice(0,2).forEach(R=>{k+=`${R.icon} ${R.title}
`})),k}if(E.includes("consejo")||E.includes("tip")||E.includes("mejora")||E.includes("recomen")||E.includes("suger")){let k=`##  Consejos Personalizados

`;return j.balance<0?(k+=`###  Prioridad: Equilibrar tu Balance

`,k+=`Ests gastando ${V(Math.abs(j.balance),l)} ms de lo que ganas.

`,k+=`**Acciones recomendadas:**
`,j.topCategories[0]&&(k+=`1. Reduce **${j.topCategories[0].name}** (tu mayor gasto)
`),k+=`2. Revisa gastos no esenciales
`,k+=`3. Busca ingresos adicionales
`):j.savingsRate<10?(k+=`###  Mejora tu Ahorro

`,k+=`Tu tasa de ahorro es ${j.savingsRate.toFixed(1)}%.
`,k+=`Para llegar al 20% ideal, necesitas ahorrar ${V(j.effectiveIncome*.2-j.balance,l)} ms.

`,k+=`**Sugerencias:**
`,k+=`1. Automatiza transferencias a ahorro
`,k+=`2. Usa la regla 24h para compras
`,k+=`3. Revisa suscripciones innecesarias
`):(k+=`###  Vas muy bien!

`,k+=`Tu tasa de ahorro de ${j.savingsRate.toFixed(1)}% est excelente.

`,k+=`**Siguiente nivel:**
`,k+=`1. Considera invertir el excedente
`,k+=`2. Acelera el pago de deudas
`,k+=`3. Aumenta tus metas de ahorro
`),k}if(E.includes("gasto")||E.includes("expense")||E.includes("donde")||E.includes("dinero")){let k=`##  Anlisis de Gastos

`;if(k+=`**Total este mes:** ${V(j.totalExpenses,l)}
`,k+=`**Promedio diario:** ${V(j.avgDailyExpense,l)}
`,k+=`**Proyeccin mensual:** ${V(j.projectedMonthlyExpense,l)}

`,j.topCategories.length>0&&(k+=`###  Por Categora
`,j.topCategories.forEach(R=>{const L="".repeat(Math.round(R.percentage/5))+"".repeat(20-Math.round(R.percentage/5));k+=`**${R.name}**
`,k+=`${L} ${R.percentage.toFixed(0)}%
`,k+=`${V(R.amount,l)}

`})),j.daysRemaining>0){const R=Math.max(0,j.effectiveIncome-j.totalExpenses)/j.daysRemaining;k+=`###  Presupuesto Restante
`,k+=`Quedan ${j.daysRemaining} das.
`,k+=`Puedes gastar hasta **${V(R,l)}/da**
`}return k}if(E.includes("ahorro")||E.includes("ahorr")||E.includes("save")||E.includes("guardar")){let k=`##  Anlisis de Ahorro

`;k+=`**Balance disponible:** ${V(j.balance,l)}
`,k+=`**Tasa de ahorro:** ${j.savingsRate.toFixed(1)}%

`;const R=j.savingsRate<0?"crtica":j.savingsRate<10?"baja":j.savingsRate<20?"buena":"excelente";k+=`### Estado: ${R.toUpperCase()}

`,k+=`###  Proyecciones
`;const L=Math.max(0,j.balance);return k+=`Si mantienes este ritmo:
`,k+=` **3 meses:** ${V(L*3,l)}
`,k+=` **6 meses:** ${V(L*6,l)}
`,k+=` **1 ao:** ${V(L*12,l)}
`,k}if(E.includes("meta")||E.includes("goal")||E.includes("objetivo")){if(j.goalsStatus.length===0)return`##  Metas de Ahorro

No tienes metas configuradas.

**Sugerencias de metas:**
  Fondo de emergencias (${V(j.totalExpenses*4,l)})
  Vacaciones
  Compras importantes
`;let k=`##  Progreso de Metas

`;return j.goalsStatus.forEach(R=>{const L="".repeat(Math.round(R.percentage/5))+"".repeat(20-Math.round(R.percentage/5)),ee=R.percentage>=100?"":R.percentage>=75?"":R.percentage>=50?"":"";k+=`### ${ee} ${R.name}
`,k+=`${L} **${R.percentage.toFixed(0)}%**
`,k+=`${V(R.current,l)} de ${V(R.target,l)}
`,R.remaining>0&&R.monthsToComplete&&(k+=`~${R.monthsToComplete} mes(es) restantes
`),k+=`
`}),k}if(E.includes("proyec")||E.includes("futuro")||E.includes("estimad")){let k=`##  Proyeccin Financiera

`;const R=j.balance;return k+=`### Situacin Actual
`,k+=`Balance mensual: ${V(R,l)}

`,R>0?(k+=`### Proyeccin de Ahorro
`,k+=` **3 meses:** ${V(R*3,l)}
`,k+=` **6 meses:** ${V(R*6,l)}
`,k+=` **1 ao:** ${V(R*12,l)}
`,k+=` **5 aos:** ${V(R*60,l)}
`):(k+=`###  Proyeccin Negativa
`,k+=`Al ritmo actual, acumulars ${V(Math.abs(R)*12,l)} en deuda en 1 ao.
`),k}if(E.includes("alert")||E.includes("problema")||E.includes("aviso")){if(M.length===0)return`##  Sin Alertas

Todo bajo control! No hay alertas activas.`;let k=`##  Alertas (${M.length})

`;return M.forEach(R=>{const L=R.type==="danger"?"":R.type==="warning"?"":"";k+=`### ${R.icon} ${R.title} ${L}
`,k+=`${R.message}

`}),k}if(E.includes("logro")||E.includes("achievement")||E.includes("bien")){let k=`##  Tus Logros

`,R=0;return j.savingsRate>=20&&(k+=`###  Super Ahorrador
Tasa de ahorro superior al 20%

`,R++),j.balance>0&&(k+=`###  Balance Positivo
Ingresos superan gastos

`,R++),j.goalsStatus.some(L=>L.percentage>=100)&&(k+=`###  Cumplidor de Metas
Meta financiera completada

`,R++),j.transactionCount>=20&&(k+=`###  Rastreador Dedicado
${j.transactionCount} transacciones este mes

`,R++),R===0&&(k+=`An no has desbloqueado logros.

`,k+=`**Prximos objetivos:**
`,k+=` Mantn balance positivo
`,k+=` Alcanza 10% de ahorro
`,k+=` Registra 20+ transacciones
`),k}return`##  Asistente Financiero

Soy tu asesor financiero inteligente. Analizo tus datos en tiempo real.

**Comandos disponibles:**
 **Resumen** - Tu situacin financiera
 **Consejos** - Recomendaciones personalizadas
 **Gastos** - Anlisis detallado
 **Ahorro** - Tips y proyecciones
 **Metas** - Progreso de objetivos
 **Proyeccin** - Estimaciones futuras
 **Alertas** - Problemas detectados
 **Logros** - Tus achievements

En qu puedo ayudarte?`},I=()=>`
RESUMEN FINANCIERO (${new Date().toLocaleDateString("es",{month:"long",year:"numeric"})}):
- Ingresos del mes: ${V(j.effectiveIncome,l)}
- Gastos del mes: ${V(j.totalExpenses,l)}
- Balance: ${V(j.balance,l)}
- Tasa de ahorro: ${j.savingsRate.toFixed(1)}%
- Das restantes en el mes: ${j.daysRemaining}

TOP GASTOS POR CATEGORA:
${j.topCategories.map((D,E)=>`${E+1}. ${D.name}: ${V(D.amount,l)} (${D.percentage.toFixed(0)}%)`).join(`
`)}

METAS DE AHORRO:
${j.goalsStatus.length>0?j.goalsStatus.map(D=>`- ${D.name}: ${D.percentage.toFixed(0)}% completado`).join(`
`):"Sin metas configuradas"}

ALERTAS: ${M.map(D=>`${D.icon} ${D.title}`).join(", ")||"Ninguna"}
`,P=async D=>{try{const E=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userMessage:D,financialContext:I(),messages:h.slice(-6).map(R=>({role:R.role,content:R.content}))})});if(!E.ok){const R=await E.json();return console.warn("Claude API unavailable:",R),null}return(await E.json()).content||null}catch(E){return console.warn("Claude API error:",E),null}},C=async D=>{const E=D||f.trim();if(!E||v)return;const k={id:Date.now().toString(),role:"user",content:E,timestamp:new Date};m(ae=>[...ae,k]),N(""),w(!0);let R;const L=await P(E);L?R=L:(await new Promise(ae=>setTimeout(ae,300)),R=$(E));const ee={id:(Date.now()+1).toString(),role:"assistant",content:R,timestamp:new Date};m(ae=>[...ae,ee]),w(!1)},A=()=>{m([])};y.useEffect(()=>{var D;(D=p.current)==null||D.scrollIntoView({behavior:"smooth"})},[h,v]),y.useEffect(()=>{if(h.length===0){const D={id:"welcome",role:"assistant",content:`##  Hola${e!=null&&e.displayName?` ${e.displayName.split(" ")[0]}`:""}!

Soy tu asistente financiero inteligente. Analizo tus datos en tiempo real.

###  Vista Rpida
**Balance:** ${V(j.balance,l)} ${j.balance>=0?"":""}
**Tasa de ahorro:** ${j.savingsRate.toFixed(1)}%
**Alertas activas:** ${M.length}

Usa los botones de arriba o escribe tu pregunta.`,timestamp:new Date};m([D])}},[]);const S=D=>D.split(`
`).map((E,k)=>{if(E.startsWith("## "))return n.jsx("h2",{className:"text-lg font-bold text-white mt-3 mb-2",children:E.replace("## ","")},k);if(E.startsWith("### "))return n.jsx("h3",{className:"text-base font-semibold text-white/90 mt-3 mb-1",children:E.replace("### ","")},k);if(E.startsWith(" ")||E.startsWith("- "))return n.jsx("p",{className:"text-white/80 pl-2 my-0.5",children:E},k);if(E.match(/^\d+\. /))return n.jsx("p",{className:"text-white/80 pl-2 my-0.5",children:E},k);if(E.includes("**")){const R=E.split(/\*\*/);return n.jsx("p",{className:"text-white/80 my-0.5",children:R.map((L,ee)=>ee%2===1?n.jsx("strong",{className:"text-white",children:L},ee):L)},k)}return E?n.jsx("p",{className:"text-white/80 my-0.5",children:E},k):n.jsx("br",{},k)});return n.jsxs("div",{className:"flex flex-col",style:{height:"calc(100vh - 130px)",minHeight:"400px"},children:[n.jsxs("div",{className:"text-center py-3 border-b border-white/10 flex-shrink-0",children:[n.jsxs("h1",{className:"text-xl font-bold text-white flex items-center justify-center gap-2",children:[n.jsx(Rt,{className:"w-6 h-6",style:{color:d.primary}}),u.asst_title]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[n.jsxs(Te,{variant:"success",size:"sm",children:[n.jsx(Jp,{className:"w-3 h-3 mr-1"}),"IA"]}),n.jsxs(Te,{variant:"secondary",size:"sm",children:[n.jsx(na,{className:"w-3 h-3 mr-1"}),c==="es"?"Anlisis en Tiempo Real":"Real-Time Analysis"]})]})]}),M.filter(D=>D.type==="danger"||D.type==="warning").length>0&&n.jsx("div",{className:"px-4 py-2 border-b border-white/10 bg-warning-500/5 flex-shrink-0",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(gf,{className:"w-4 h-4 text-warning-400"}),n.jsxs("span",{className:"text-warning-400",children:[M.filter(D=>D.type==="danger"||D.type==="warning").length," ",u.asst_alerts.toLowerCase()]}),n.jsx(H,{size:"sm",variant:"secondary",onClick:()=>C("alertas"),className:"ml-auto",children:c==="es"?"Ver":"View"})]})}),n.jsx("div",{className:"px-4 py-3 border-b border-white/10 flex-shrink-0",children:n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:[{id:"1",icon:"",label:u.asst_summary,keyword:"resumen"},{id:"2",icon:"",label:u.asst_tips,keyword:"consejos"},{id:"3",icon:"",label:u.asst_savings,keyword:"ahorro"},{id:"4",icon:"",label:u.nav_goals,keyword:"metas"},{id:"5",icon:"",label:u.asst_projection,keyword:"proyeccion"},{id:"6",icon:"",label:u.asst_alerts,keyword:"alertas"},{id:"7",icon:"",label:u.dash_expenses,keyword:"gastos"},{id:"8",icon:"",label:u.asst_achievements,keyword:"logros"}].map(D=>n.jsxs(H,{size:"sm",variant:"secondary",onClick:()=>C(D.keyword),disabled:v,className:"flex-shrink-0",children:[n.jsx("span",{className:"mr-1",children:D.icon}),D.label]},D.id))})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[n.jsx(ke,{children:h.map(D=>n.jsx(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:B("flex",D.role==="user"?"justify-end":"justify-start"),children:n.jsxs("div",{className:B("max-w-[90%] rounded-2xl p-4",D.role==="user"?"rounded-br-md":"bg-white/5 rounded-bl-md backdrop-blur-sm border border-white/10"),style:D.role==="user"?{backgroundColor:`${d.primary}20`}:{},children:[D.role==="assistant"&&n.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-white/10",children:[n.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:`${d.primary}30`},children:n.jsx(Rt,{className:"w-4 h-4",style:{color:d.primary}})}),n.jsx("span",{className:"text-xs text-white/50",children:"Asistente"})]}),n.jsx("div",{className:"text-sm",children:D.role==="assistant"?S(D.content):n.jsx("p",{className:"text-white",children:D.content})})]})},D.id))}),v&&n.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:n.jsx("div",{className:"bg-white/5 rounded-2xl rounded-bl-md p-4 backdrop-blur-sm border border-white/10",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ul,{className:"w-4 h-4 animate-spin",style:{color:d.primary}}),n.jsx("span",{className:"text-white/60 text-sm",children:"Analizando tus datos..."})]})})}),n.jsx("div",{ref:p})]}),n.jsxs("div",{className:"p-4 border-t border-white/10 bg-dark-800/50 backdrop-blur-sm flex-shrink-0",children:[n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("button",{onClick:A,className:"p-3 rounded-xl bg-white/5 hover:bg-white/10 text-white/50 hover:text-white transition-colors flex-shrink-0",title:u.asst_clearChat,children:n.jsx(ls,{className:"w-5 h-5"})}),n.jsx("div",{className:"flex-1 relative",children:n.jsx("input",{type:"text",value:f,onChange:D=>N(D.target.value),onKeyPress:D=>D.key==="Enter"&&!v&&C(),placeholder:u.asst_placeholder,disabled:v,className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3.5 pr-12 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-transparent disabled:opacity-50 transition-all",style:{borderColor:`${d.primary}30`}})}),n.jsx("button",{onClick:()=>C(),disabled:!f.trim()||v,className:"p-3.5 rounded-xl text-white transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",style:{backgroundColor:d.primary,boxShadow:`0 4px 15px ${d.primary}40`},children:n.jsx(mf,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-xs text-white/30 mt-2 text-center",children:u.asst_hint})]})]})},E0=[{id:"salary1",name:"Salario",icon:"",color:"#22C55E",type:"income",group:"ingresos"},{id:"salary2",name:"Salario 2",icon:"",color:"#16A34A",type:"income",group:"ingresos"},{id:"freelance",name:"Freelance",icon:"",color:"#15803D",type:"income",group:"ingresos"},{id:"bonus",name:"Bonos",icon:"",color:"#166534",type:"income",group:"ingresos"},{id:"other-income",name:"Otros Ingresos",icon:"",color:"#14532D",type:"income",group:"ingresos"}],M0=[{id:"vivienda",name:"Vivienda",icon:"",color:"#3B82F6",type:"expense",group:"gastos_esenciales"},{id:"celular",name:"Celular",icon:"",color:"#2563EB",type:"expense",group:"gastos_esenciales"},{id:"seguro-carro",name:"Seguro Carro",icon:"",color:"#1D4ED8",type:"expense",group:"gastos_esenciales"},{id:"gasolina",name:"Gasolina y Aceite",icon:"",color:"#1E40AF",type:"expense",group:"gastos_esenciales"},{id:"alimentacion-casa",name:"Alimentacin Casa",icon:"",color:"#1E3A8A",type:"expense",group:"gastos_esenciales"},{id:"servicios",name:"Servicios",icon:"",color:"#3730A3",type:"expense",group:"gastos_esenciales"},{id:"familia",name:"Familia",icon:"",color:"#4338CA",type:"expense",group:"gastos_esenciales"}],P0=[{id:"comida-calle",name:"Comida Calle",icon:"",color:"#F59E0B",type:"expense",group:"gastos_discrecionales"},{id:"salidas",name:"Salidas",icon:"",color:"#D97706",type:"expense",group:"gastos_discrecionales"},{id:"estudio",name:"Estudio",icon:"",color:"#B45309",type:"expense",group:"gastos_discrecionales"},{id:"mecato",name:"Mecato/Snacks",icon:"",color:"#92400E",type:"expense",group:"gastos_discrecionales"},{id:"peluqueria",name:"Peluquera",icon:"",color:"#78350F",type:"expense",group:"gastos_discrecionales"},{id:"suscripciones",name:"Suscripciones",icon:"",color:"#F97316",type:"expense",group:"gastos_discrecionales"},{id:"cafe",name:"Caf",icon:"",color:"#EA580C",type:"expense",group:"gastos_discrecionales"},{id:"entretenimiento",name:"Entretenimiento",icon:"",color:"#C2410C",type:"expense",group:"gastos_discrecionales"},{id:"ropa",name:"Ropa",icon:"",color:"#9A3412",type:"expense",group:"gastos_discrecionales"},{id:"otros-discrecional",name:"Otros",icon:"",color:"#7C2D12",type:"expense",group:"gastos_discrecionales"}],R0=[{id:"vehiculo",name:"Vehculo",icon:"",color:"#EF4444",type:"expense",group:"pago_deudas"},{id:"tarjeta-credito",name:"Tarjeta de Crdito",icon:"",color:"#DC2626",type:"expense",group:"pago_deudas"},{id:"prestamo",name:"Prstamo",icon:"",color:"#B91C1C",type:"expense",group:"pago_deudas"},{id:"hipoteca",name:"Hipoteca",icon:"",color:"#991B1B",type:"expense",group:"pago_deudas"},{id:"otra-deuda",name:"Otra Deuda",icon:"",color:"#7F1D1D",type:"expense",group:"pago_deudas"}],I0=[{id:"emergencias",name:"Fondo Emergencias",icon:"",color:"#8B5CF6",type:"expense",group:"ahorros"},{id:"vacaciones",name:"Vacaciones",icon:"",color:"#7C3AED",type:"expense",group:"ahorros"},{id:"retiro",name:"Retiro",icon:"",color:"#6D28D9",type:"expense",group:"ahorros"},{id:"meta-especial",name:"Meta Especial",icon:"",color:"#5B21B6",type:"expense",group:"ahorros"},{id:"otro-ahorro",name:"Otro Ahorro",icon:"",color:"#4C1D95",type:"expense",group:"ahorros"}],F0=[{id:"acciones",name:"Acciones",icon:"",color:"#14B8A6",type:"expense",group:"inversiones"},{id:"crypto",name:"Criptomonedas",icon:"",color:"#0D9488",type:"expense",group:"inversiones"},{id:"fondos",name:"Fondos",icon:"",color:"#0F766E",type:"expense",group:"inversiones"},{id:"bienes-raices",name:"Bienes Races",icon:"",color:"#115E59",type:"expense",group:"inversiones"},{id:"negocio",name:"Negocio",icon:"",color:"#134E4A",type:"expense",group:"inversiones"},{id:"otra-inversion",name:"Otra Inversin",icon:"",color:"#042F2E",type:"expense",group:"inversiones"}],fc=[...M0,...P0,...R0,...I0,...F0],gc=E0,B0={daily:"Diario",weekly:"Semanal",biweekly:"Quincenal",monthly:"Mensual",yearly:"Anual"},$0=[{value:"daily",label:"Diario"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quincenal"},{value:"monthly",label:"Mensual"},{value:"yearly",label:"Anual"}],O0=({isOpen:e,onClose:t,recurring:s,onSubmit:r,isSubmitting:a})=>{var M,$;const[o,i]=y.useState((s==null?void 0:s.type)||"expense"),[l,c]=y.useState((s==null?void 0:s.name)||""),[d,u]=y.useState((s==null?void 0:s.description)||""),[h,m]=y.useState(((M=s==null?void 0:s.amount)==null?void 0:M.toString())||""),[f,N]=y.useState((s==null?void 0:s.category)||""),[v,w]=y.useState((s==null?void 0:s.frequency)||"monthly"),[p,x]=y.useState((($=s==null?void 0:s.dayOfMonth)==null?void 0:$.toString())||"1"),[g,_]=y.useState((s==null?void 0:s.isActive)??!0),T=o==="expense"?fc:gc;lt.useEffect(()=>{var I,P;e&&(s?(i(s.type||"expense"),c(s.name||""),u(s.description||""),m(((I=s.amount)==null?void 0:I.toString())||""),N(s.category||""),w(s.frequency||"monthly"),x(((P=s.dayOfMonth)==null?void 0:P.toString())||"1"),_(s.isActive??!0)):(i("expense"),c(""),u(""),m(""),N(""),w("monthly"),x("1"),_(!0)))},[s,e]);const b=()=>{const I=new Date,P=new Date;switch(v){case"daily":P.setDate(I.getDate()+1);break;case"weekly":P.setDate(I.getDate()+7);break;case"biweekly":P.setDate(I.getDate()+14);break;case"monthly":P.setMonth(I.getMonth()+1),P.setDate(Math.min(parseInt(p),28));break;case"yearly":P.setFullYear(I.getFullYear()+1);break}return P.toISOString()},j=async I=>{if(I.preventDefault(),!l.trim()){re("El nombre es requerido");return}if(!h||parseFloat(h)<=0){re("El monto debe ser mayor a 0");return}if(!f){re("Selecciona una categora");return}try{await r({id:s==null?void 0:s.id,name:l.trim(),description:d.trim(),amount:parseFloat(h),category:f,type:o,frequency:v,dayOfMonth:parseInt(p),dayOfWeek:1,isActive:g,reminderDays:3,nextDueDate:b()}),t()}catch(P){console.error("Error submitting:",P)}};return n.jsx(De,{isOpen:e,onClose:t,title:s?" Editar Recurrente":" Nuevo Recurrente",size:"md",children:n.jsxs("form",{onSubmit:j,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[n.jsxs("div",{className:"flex gap-2 p-1 bg-white/5 rounded-xl",children:[n.jsxs("button",{type:"button",onClick:()=>{i("expense"),N("")},className:B("flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition-all",o==="expense"?"bg-danger-500/20 text-danger-400":"text-white/50 hover:text-white"),children:[n.jsx(Yr,{className:"w-4 h-4"})," Gasto"]}),n.jsxs("button",{type:"button",onClick:()=>{i("income"),N("")},className:B("flex-1 flex items-center justify-center gap-2 py-3 rounded-lg font-medium transition-all",o==="income"?"bg-success-500/20 text-success-400":"text-white/50 hover:text-white"),children:[n.jsx(Xr,{className:"w-4 h-4"})," Ingreso"]})]}),n.jsx(Pe,{label:"Nombre *",placeholder:"Ej: Netflix, Salario...",value:l,onChange:I=>c(I.target.value),required:!0}),n.jsx(Pe,{label:"Monto *",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:h,onChange:I=>m(I.target.value),leftIcon:n.jsx("span",{children:"$"}),required:!0}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-2 text-sm font-semibold text-white/90",children:"Categora *"}),n.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-40 overflow-y-auto",children:T.map(I=>n.jsxs("button",{type:"button",onClick:()=>N(I.name),className:B("flex flex-col items-center gap-1 p-2 rounded-xl transition-all text-xs",f===I.name?"bg-primary-500/20 border-2 border-primary-500":"bg-white/5 border-2 border-transparent hover:bg-white/10"),children:[n.jsx("span",{className:"text-xl",children:I.icon}),n.jsx("span",{className:"text-white/70 truncate w-full text-center",children:I.name})]},I.id))})]}),n.jsx(lc,{label:"Frecuencia",value:v,onChange:I=>w(I.target.value),options:$0}),v==="monthly"&&n.jsx(Pe,{label:"Da del mes",type:"number",min:"1",max:"28",value:p,onChange:I=>x(I.target.value)}),n.jsx(Pe,{label:"Descripcin (opcional)",placeholder:"Notas adicionales...",value:d,onChange:I=>u(I.target.value)}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-xl",children:[n.jsx("span",{className:"text-white/80",children:"Activo"}),n.jsx(Ug,{checked:g,onCheckedChange:_})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(H,{type:"button",variant:"secondary",onClick:t,fullWidth:!0,disabled:a,children:"Cancelar"}),n.jsx(H,{type:"submit",fullWidth:!0,isLoading:a,children:s?"Guardar":"Crear"})]})]})})},L0=()=>{const{currency:e,theme:t,language:s}=de(),{recurring:r,add:a,update:o,remove:i}=lg(),l=_e(t),c=ia(s),[d,u]=y.useState(!1),[h,m]=y.useState(null),[f,N]=y.useState(null),[v,w]=y.useState("all"),[p,x]=y.useState(!1),g=Array.isArray(r)?r:[],_=y.useMemo(()=>{let A=[...g];return v==="expenses"&&(A=A.filter(S=>S.type==="expense")),v==="incomes"&&(A=A.filter(S=>S.type==="income")),A.sort((S,D)=>S.isActive!==D.isActive?S.isActive?-1:1:new Date(S.nextDueDate).getTime()-new Date(D.nextDueDate).getTime())},[g,v]),T=y.useMemo(()=>{const A=g.filter(L=>L.isActive),S=L=>{const ee=L.frequency==="daily"?30:L.frequency==="weekly"?4:L.frequency==="biweekly"?2:L.frequency==="yearly"?.08333333333333333:1;return L.amount*ee},D=A.filter(L=>L.type==="expense").reduce((L,ee)=>L+S(ee),0),E=A.filter(L=>L.type==="income").reduce((L,ee)=>L+S(ee),0),k=g.filter(L=>L.type==="expense").length,R=g.filter(L=>L.type==="income").length;return{monthlyExpenses:D,monthlyIncome:E,net:E-D,expenseCount:k,incomeCount:R}},[g]),b=y.useMemo(()=>{const A={};return g.filter(S=>S.isActive).forEach(S=>{const D=S.frequency==="daily"?30:S.frequency==="weekly"?4:S.frequency==="biweekly"?2:S.frequency==="yearly"?.08333333333333333:1,E=S.amount*D;A[S.category]||(A[S.category]={name:S.category,expense:0,income:0}),S.type==="expense"?A[S.category].expense+=E:A[S.category].income+=E}),Object.values(A).sort((S,D)=>D.expense+D.income-(S.expense+S.income)).slice(0,6)},[g]),j=y.useMemo(()=>[{name:"Gastos Fijos",value:T.monthlyExpenses,fill:"#EF4444"},{name:"Ingresos Fijos",value:T.monthlyIncome,fill:"#22C55E"}].filter(A=>A.value>0),[T]),M=async A=>{x(!0);try{await a({name:A.name||"",description:A.description||"",amount:A.amount||0,category:A.category||"",type:A.type||"expense",frequency:A.frequency||"monthly",dayOfMonth:A.dayOfMonth||1,dayOfWeek:A.dayOfWeek||1,isActive:A.isActive!==!1,reminderDays:A.reminderDays||3,nextDueDate:A.nextDueDate||new Date().toISOString()}),Me("Recurrente creado"),u(!1)}catch(S){console.error("Error:",S)}finally{x(!1)}},$=async A=>{if(h){x(!0);try{await o(h.id,A),Me("Recurrente actualizado"),m(null)}catch(S){console.error("Error:",S)}finally{x(!1)}}},I=async()=>{if(f){x(!0);try{await i(f.id),Me("Eliminado"),N(null)}catch(A){console.error("Error:",A)}finally{x(!1)}}},P=async A=>{try{await o(A.id,{isActive:!A.isActive}),Me(A.isActive?"Pausado":"Activado")}catch(S){console.error("Error:",S)}},C=(A,S)=>{var E;return((E=(S==="expense"?fc:gc).find(k=>k.name===A))==null?void 0:E.icon)||""};return n.jsxs("div",{className:"space-y-6 pb-8",children:[n.jsxs(W.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(!0),className:"w-full flex items-center justify-center gap-3 py-5 px-6 rounded-2xl font-bold text-lg transition-all relative overflow-hidden group shadow-lg",style:{background:"rgba(5, 191, 219, 0.15)",backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",border:"1px solid rgba(5, 191, 219, 0.3)",boxShadow:"0 8px 32px 0 rgba(5, 191, 219, 0.2), inset 0 1px 1px 0 rgba(255, 255, 255, 0.1)"},children:[n.jsx(et,{className:"w-6 h-6 group-hover:rotate-90 transition-transform duration-300",style:{color:l.primary}}),n.jsx("span",{className:"text-white font-semibold",children:c.new||" Nuevo Recurrente"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-700"})]}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[n.jsx(ut,{className:"w-6 h-6",style:{color:l.primary}}),c.recur_title]}),n.jsxs("p",{className:"text-white/60 mt-1",children:[g.length," ",c.nav_transactions.toLowerCase()]})]}),n.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(F,{className:"text-center p-4",children:[n.jsx(Xr,{className:"w-8 h-8 mx-auto mb-2 text-success-400"}),n.jsx("p",{className:"text-xs text-white/50",children:c.recur_fixedIncome}),n.jsx("p",{className:"text-lg font-bold text-success-400",children:V(T.monthlyIncome,e)})]}),n.jsxs(F,{className:"text-center p-4",children:[n.jsx(Yr,{className:"w-8 h-8 mx-auto mb-2 text-danger-400"}),n.jsx("p",{className:"text-xs text-white/50",children:c.recur_fixedExpenses}),n.jsx("p",{className:"text-lg font-bold text-danger-400",children:V(T.monthlyExpenses,e)})]}),n.jsxs(F,{className:"text-center p-4",children:[n.jsx(we,{className:"w-8 h-8 mx-auto mb-2",style:{color:T.net>=0?"#22C55E":"#EF4444"}}),n.jsx("p",{className:"text-xs text-white/50",children:c.recur_fixedBalance}),n.jsx("p",{className:B("text-lg font-bold",T.net>=0?"text-success-400":"text-danger-400"),children:V(T.net,e)})]}),n.jsxs(F,{className:"text-center p-4",children:[n.jsx(ut,{className:"w-8 h-8 mx-auto mb-2",style:{color:l.primary}}),n.jsx("p",{className:"text-xs text-white/50",children:c.recur_totalActive}),n.jsx("p",{className:"text-lg font-bold text-white",children:g.filter(A=>A.isActive).length})]})]}),g.length>0&&n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs(F,{className:"p-4",children:[n.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[n.jsx(yt,{className:"w-5 h-5",style:{color:l.primary}}),"Distribucin Mensual"]}),n.jsx("div",{className:"h-48",children:n.jsx(fe,{width:"100%",height:"100%",children:n.jsxs(Zs,{children:[n.jsx(Qs,{data:j,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,dataKey:"value",label:({name:A,percent:S})=>`${(S*100).toFixed(0)}%`,children:j.map((A,S)=>n.jsx(Qt,{fill:A.fill},S))}),n.jsx(ge,{formatter:A=>V(A,e)}),n.jsx(ur,{})]})})})]}),n.jsxs(F,{className:"p-4",children:[n.jsxs("h3",{className:"font-semibold text-white mb-4 flex items-center gap-2",children:[n.jsx(Zr,{className:"w-5 h-5",style:{color:l.primary}}),"Por Categora"]}),n.jsx("div",{className:"h-48",children:n.jsx(fe,{width:"100%",height:"100%",children:n.jsxs(ds,{data:b,layout:"vertical",children:[n.jsx(Ye,{type:"number",tick:{fill:"rgba(255,255,255,0.5)",fontSize:10},tickFormatter:A=>`$${(A/1e3).toFixed(0)}k`}),n.jsx(Xe,{dataKey:"name",type:"category",tick:{fill:"rgba(255,255,255,0.7)",fontSize:10},width:80}),n.jsx(ge,{formatter:A=>V(A,e)}),n.jsx(Ze,{dataKey:"income",fill:"#22C55E",name:"Ingreso",radius:[0,4,4,0]}),n.jsx(Ze,{dataKey:"expense",fill:"#EF4444",name:"Gasto",radius:[0,4,4,0]})]})})})]})]}),n.jsx("div",{className:"flex gap-2 p-1 bg-white/5 rounded-xl w-fit",children:[{id:"all",label:"Todos",count:g.length},{id:"expenses",label:"Gastos",count:T.expenseCount},{id:"incomes",label:"Ingresos",count:T.incomeCount}].map(A=>n.jsxs("button",{onClick:()=>w(A.id),className:B("px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",v===A.id?"text-white":"text-white/50 hover:text-white"),style:v===A.id?{backgroundColor:`${l.primary}20`,color:l.primary}:{},children:[A.label,n.jsx(Te,{variant:"secondary",className:"text-xs",children:A.count})]},A.id))}),_.length===0?n.jsx(cc,{icon:n.jsx(ut,{className:"w-16 h-16"}),title:"Sin recurrentes",description:"Agrega tus pagos y cobros fijos",action:n.jsx(H,{leftIcon:n.jsx(et,{className:"w-4 h-4"}),onClick:()=>u(!0),children:"Crear"})}):n.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.jsx(ke,{children:_.map((A,S)=>n.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:S*.05},children:n.jsx(F,{className:B("p-4",!A.isActive&&"opacity-60"),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:B("w-12 h-12 rounded-xl flex items-center justify-center text-2xl",A.type==="income"?"bg-success-500/20":"bg-danger-500/20"),children:C(A.category,A.type)}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-white",children:A.name}),n.jsx("p",{className:"text-sm text-white/50",children:A.category}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsxs(Te,{variant:A.type==="income"?"success":"danger",children:[A.type==="income"?"+":"-",V(A.amount,e)]}),n.jsx(Te,{variant:"secondary",children:B0[A.frequency]})]})]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>P(A),className:B("p-2 rounded-lg transition-colors",A.isActive?"hover:bg-warning-500/20 text-success-400":"hover:bg-success-500/20 text-white/50"),children:A.isActive?n.jsx(lf,{className:"w-4 h-4"}):n.jsx(uf,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>m(A),className:"p-2 rounded-lg hover:bg-white/10 text-white/50 hover:text-white",children:n.jsx(sa,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>N(A),className:"p-2 rounded-lg hover:bg-danger-500/20 text-white/50 hover:text-danger-400",children:n.jsx(ls,{className:"w-4 h-4"})})]})]})})},A.id))})}),n.jsx(O0,{isOpen:d||!!h,onClose:()=>{u(!1),m(null)},recurring:h,onSubmit:h?$:M,isSubmitting:p}),n.jsx(De,{isOpen:!!f,onClose:()=>N(null),title:" Eliminar",size:"sm",children:n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-white/80 mb-6",children:['Eliminar "',f==null?void 0:f.name,'"?']}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(H,{variant:"secondary",onClick:()=>N(null),fullWidth:!0,children:"Cancelar"}),n.jsx(H,{variant:"danger",onClick:I,fullWidth:!0,isLoading:p,children:"Eliminar"})]})]})})]})},V0=[{id:"dark",name:"Cyan",icon:n.jsx(ql,{className:"w-5 h-5"}),color:"#05BFDB"},{id:"pink",name:"Rosa",icon:n.jsx(Gl,{className:"w-5 h-5"}),color:"#ec4899"},{id:"purple",name:"Morado",icon:n.jsx(os,{className:"w-5 h-5"}),color:"#a855f7"},{id:"turquoise",name:"Turquesa",icon:n.jsx(os,{className:"w-5 h-5"}),color:"#14b8a6"}],z0=[{id:"USD",name:"Dlar US",symbol:"$"},{id:"EUR",name:"Euro",symbol:""},{id:"MXN",name:"Peso MX",symbol:"$"},{id:"COP",name:"Peso CO",symbol:"$"},{id:"ARS",name:"Peso AR",symbol:"$"},{id:"CLP",name:"Peso CL",symbol:"$"},{id:"PEN",name:"Sol PE",symbol:"S/"}],G0=[{id:"es",name:"Espaol",flag:""},{id:"en",name:"English",flag:""},{id:"fr",name:"Franais",flag:""},{id:"it",name:"Italiano",flag:""},{id:"pt",name:"Portugus",flag:""},{id:"de",name:"Deutsch",flag:""},{id:"zh",name:"",flag:""},{id:"ja",name:"",flag:""}],U0=()=>{var P,C,A;const{user:e,theme:t,currency:s,language:r,setTheme:a,setCurrency:o,setLanguage:i,setActivePage:l,setSettingsTab:c,logout:d}=de(),u=_e(t),h=ia(r),[m,f]=y.useState(!1),[N,v]=y.useState(!1),[w,p]=y.useState(!1),[x,g]=y.useState(!1),[_,T]=y.useState(!1),b=[{title:h.recur_title,items:[{id:"recurring-income",icon:we,label:h.recur_fixedIncome,description:h.cat_salary,color:"#22C55E",page:"recurring"},{id:"recurring-expense",icon:bs,label:h.recur_fixedExpenses,description:h.cat_subscriptions,color:"#EF4444",page:"recurring"}]},{title:h.reports_title,items:[{id:"reports",icon:yt,label:h.reports_title,description:h.reports_byCategory,page:"reports"},{id:"export",icon:Oi,label:h.settings_export,description:"CSV, PDF, Excel",action:"export"},{id:"import",icon:xf,label:h.settings_import,description:"CSV, Excel",action:"import"}]},{title:h.more_quickSettings,items:[{id:"theme",icon:ta,label:h.settings_theme,description:h.settings_appearance,action:"theme"},{id:"language",icon:af,label:h.settings_language,description:((P=Zg.find(S=>S.value===r))==null?void 0:P.label)||"Espaol",action:"language"},{id:"currency",icon:ys,label:h.settings_currency,description:s,action:"currency"}]},{title:h.more_advancedSettings,items:[{id:"settings",icon:Xt,label:` ${h.more_fullSettings}`,description:h.settings_alerts,color:"#05BFDB",page:"settings",settingsTab:"general"},{id:"bank",icon:zl,label:" Conexin Bancaria",description:"Plaid sync",color:"#10B981",page:"settings",settingsTab:"bank"},{id:"alerts",icon:gt,label:` ${h.more_smartAlerts}`,description:h.settings_budgetAlerts,color:"#F59E0B",page:"settings",settingsTab:"alerts"},{id:"notifications",icon:gt,label:` ${h.settings_notifications}`,description:"Push, email",color:"#8B5CF6",page:"settings",settingsTab:"notifications"},{id:"data",icon:Oi,label:` ${h.more_dataManagement}`,description:h.settings_export,color:"#EF4444",page:"settings",settingsTab:"data"}]},{title:h.more_account,items:[{id:"profile",icon:Wl,label:` ${h.more_myProfile}`,description:(e==null?void 0:e.email)||"",page:"settings",settingsTab:"general"},{id:"logout",icon:Fs,label:` ${h.nav_logout}`,description:h.more_logoutConfirm,color:"#EF4444",action:"logout"}]}],j=S=>{if(S.page)S.page==="settings"&&S.settingsTab&&c(S.settingsTab),l(S.page);else if(S.action)switch(S.action){case"theme":f(!0);break;case"currency":v(!0);break;case"language":p(!0);break;case"export":g(!0);break;case"profile":c("general"),l("settings");break;case"notifications":c("notifications"),l("settings");break;case"security":c("general"),l("settings");break;case"tutorial":window.openTutorial&&window.openTutorial();break}},M=()=>{d(),T(!1)},$={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},I={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};return n.jsxs("div",{className:"space-y-6 pb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Ms Opciones"}),n.jsx("p",{className:"text-white/60 mt-1",children:"Configuracin y herramientas"})]}),n.jsx(F,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center text-2xl font-bold text-white",style:{background:`linear-gradient(135deg, ${u.primary}, ${u.secondary})`},children:((C=e==null?void 0:e.displayName)==null?void 0:C.charAt(0))||((A=e==null?void 0:e.email)==null?void 0:A.charAt(0))||"U"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:(e==null?void 0:e.displayName)||"Usuario"}),n.jsx("p",{className:"text-sm text-white/50",children:e==null?void 0:e.email}),n.jsx("div",{className:"flex items-center gap-2 mt-1",children:n.jsx(Te,{variant:"primary",children:"Premium"})})]}),n.jsx($i,{className:"w-5 h-5 text-white/30"})]})}),n.jsx(W.div,{variants:$,initial:"hidden",animate:"visible",className:"space-y-6",children:b.map(S=>n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-white/50 uppercase tracking-wider mb-3 px-1",children:S.title}),n.jsx(F,{className:"divide-y divide-white/5",padding:"none",children:S.items.map(D=>n.jsxs(W.button,{variants:I,onClick:()=>j(D),className:"w-full flex items-center gap-4 p-4 hover:bg-white/5 transition-colors text-left",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:D.color?`${D.color}20`:"rgba(var(--primary-rgb), 0.2)"},children:n.jsx(D.icon,{className:"w-5 h-5",style:{color:D.color||"var(--primary)"}})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-white",children:D.label}),n.jsx("p",{className:"text-sm text-white/50",children:D.description})]}),n.jsx($i,{className:"w-5 h-5 text-white/30"})]},D.id))})]},S.title))}),n.jsx(F,{className:"p-4",children:n.jsxs("button",{onClick:()=>T(!0),className:"w-full flex items-center gap-4 text-danger-400 hover:bg-danger-500/10 p-3 rounded-xl transition-colors",children:[n.jsx(Fs,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Cerrar Sesin"})]})}),n.jsx("p",{className:"text-center text-white/30 text-sm",children:"Smarter Investment v2.0.0"}),n.jsx(De,{isOpen:m,onClose:()=>f(!1),title:"Seleccionar Tema",size:"sm",children:n.jsx("div",{className:"space-y-3",children:V0.map(S=>n.jsxs("button",{onClick:()=>{a(S.id),f(!1)},className:B("w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all",t===S.id?"border-white/50 bg-white/10":"border-white/10 hover:border-white/30"),children:[n.jsx("div",{className:"w-10 h-10 rounded-full",style:{backgroundColor:S.color,boxShadow:`0 0 20px ${S.color}50`}}),n.jsx("span",{className:"font-medium text-white",children:S.name}),t===S.id&&n.jsx("span",{className:"ml-auto text-xs px-2 py-1 rounded-full bg-white/20",children:"Activo"})]},S.id))})}),n.jsx(De,{isOpen:N,onClose:()=>v(!1),title:"Seleccionar Moneda",size:"sm",children:n.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:z0.map(S=>n.jsxs("button",{onClick:()=>{o(S.id),v(!1)},className:B("w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all",s===S.id?"border-white/50 bg-white/10":"border-white/10 hover:border-white/30"),children:[n.jsx("span",{className:"text-xl font-bold text-white/70",children:S.symbol}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"font-medium text-white",children:S.id}),n.jsx("p",{className:"text-sm text-white/50",children:S.name})]}),s===S.id&&n.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/20",children:"Activo"})]},S.id))})}),n.jsx(De,{isOpen:w,onClose:()=>p(!1),title:"Seleccionar Idioma",size:"sm",children:n.jsx("div",{className:"space-y-3",children:G0.map(S=>n.jsxs("button",{onClick:()=>{i(S.id),p(!1)},className:B("w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all",r===S.id?"border-white/50 bg-white/10":"border-white/10 hover:border-white/30"),children:[n.jsx("span",{className:"text-2xl",children:S.flag}),n.jsx("span",{className:"font-medium text-white",children:S.name}),r===S.id&&n.jsx("span",{className:"ml-auto text-xs px-2 py-1 rounded-full bg-white/20",children:"Activo"})]},S.id))})}),n.jsx(De,{isOpen:x,onClose:()=>g(!1),title:"Exportar Datos",size:"sm",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{className:"w-full flex items-center gap-4 p-4 rounded-xl border border-white/10 hover:border-white/30 transition-all",children:[n.jsx(or,{className:"w-6 h-6 text-green-400"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-medium text-white",children:"Exportar CSV"}),n.jsx("p",{className:"text-sm text-white/50",children:"Todas las transacciones"})]})]}),n.jsxs("button",{className:"w-full flex items-center gap-4 p-4 rounded-xl border border-white/10 hover:border-white/30 transition-all",children:[n.jsx(or,{className:"w-6 h-6 text-red-400"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-medium text-white",children:"Exportar PDF"}),n.jsx("p",{className:"text-sm text-white/50",children:"Reporte mensual"})]})]})]})}),n.jsx(De,{isOpen:_,onClose:()=>T(!1),title:"Cerrar Sesin",size:"sm",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-danger-500/20 flex items-center justify-center",children:n.jsx(Fs,{className:"w-8 h-8 text-danger-400"})}),n.jsx("p",{className:"text-white/80 mb-6",children:"Ests seguro que deseas cerrar sesin?"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(H,{variant:"secondary",onClick:()=>T(!1),fullWidth:!0,children:"Cancelar"}),n.jsx(H,{variant:"danger",onClick:M,fullWidth:!0,children:"Cerrar Sesin"})]})]})})]})},Zi=["#05BFDB","#22C55E","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"],q0=()=>{const[e,t]=y.useState([]),[s,r]=y.useState(!0),[a,o]=y.useState("3M");y.useEffect(()=>{var _;const p=(_=xe.currentUser)==null?void 0:_.uid;if(!p){r(!1);return}const x=oe(X(G,"transactions"),Se("userId","==",p)),g=pe(x,T=>{const b=[];T.forEach(j=>{const M=j.data();M.recurring||b.push({id:j.id,...M})}),b.sort((j,M)=>new Date(M.date).getTime()-new Date(j.date).getTime()),t(b),r(!1)});return()=>g()},[]);const i=p=>p.synced_from_plaid?p.amount>0?"expense":"income":p.type||"expense",l=p=>Array.isArray(p.category)?p.category[0]||"Otros":p.category||"Otros",c=p=>p.merchant_name||p.name||p.description||"Comercio",d=y.useMemo(()=>{const x={"1M":30,"3M":90,"6M":180,"1Y":365}[a],g=new Date;return g.setDate(g.getDate()-x),e.filter(_=>new Date(_.date)>=g)},[e,a]),u=y.useMemo(()=>{const p={};return d.forEach(x=>{const g=new Date(x.date),_=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`;p[_]||(p[_]={income:0,expense:0}),i(x)==="income"?p[_].income+=Math.abs(x.amount):p[_].expense+=Math.abs(x.amount)}),Object.entries(p).sort(([x],[g])=>x.localeCompare(g)).map(([x,g])=>({month:new Date(x+"-01").toLocaleDateString("es-ES",{month:"short",year:"2-digit"}),Ingresos:g.income,Gastos:g.expense,Balance:g.income-g.expense}))},[d]),h=y.useMemo(()=>{const p=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],x=Array(7).fill(0).map((g,_)=>({day:p[_],amount:0,count:0}));return d.filter(g=>i(g)==="expense").forEach(g=>{const _=new Date(g.date).getDay();x[_].amount+=Math.abs(g.amount),x[_].count+=1}),x.map(g=>({...g,average:g.count>0?g.amount/g.count:0}))},[d]),m=y.useMemo(()=>{const p={};return d.filter(x=>i(x)==="expense").forEach(x=>{const g=c(x);p[g]||(p[g]={amount:0,count:0}),p[g].amount+=Math.abs(x.amount),p[g].count+=1}),Object.entries(p).map(([x,g])=>({name:x,...g})).sort((x,g)=>g.amount-x.amount).slice(0,10)},[d]),f=y.useMemo(()=>{const p={};return d.filter(x=>i(x)==="expense").forEach(x=>{const g=l(x);p[g]=(p[g]||0)+Math.abs(x.amount)}),Object.entries(p).map(([x,g])=>({name:x,value:g})).sort((x,g)=>g.value-x.value).slice(0,6)},[d]),N=y.useMemo(()=>{const p={Comida:0,Transporte:0,Entretenimiento:0,Salud:0,Hogar:0,Otros:0};d.filter(g=>i(g)==="expense").forEach(g=>{const _=l(g).toLowerCase(),T=Math.abs(g.amount);_.includes("food")||_.includes("aliment")?p.Comida+=T:_.includes("transport")||_.includes("car")?p.Transporte+=T:_.includes("entertainment")||_.includes("entret")?p.Entretenimiento+=T:_.includes("health")||_.includes("salud")?p.Salud+=T:_.includes("home")||_.includes("hogar")?p.Hogar+=T:p.Otros+=T});const x=Math.max(...Object.values(p));return Object.entries(p).map(([g,_])=>({category:g,value:_,normalized:x>0?_/x*100:0}))},[d]),v=y.useMemo(()=>{const p=d.filter(P=>i(P)==="expense"),x=p.reduce((P,C)=>P+Math.abs(C.amount),0),g=p.length>0?x/p.length:0,_=p.filter(P=>{const C=new Date(P.date),A=new Date;return C.getMonth()===A.getMonth()&&C.getFullYear()===A.getFullYear()}),T=p.filter(P=>{const C=new Date(P.date),A=new Date;return A.setMonth(A.getMonth()-1),C.getMonth()===A.getMonth()&&C.getFullYear()===A.getFullYear()}),b=_.reduce((P,C)=>P+Math.abs(C.amount),0),j=T.reduce((P,C)=>P+Math.abs(C.amount),0),M=j>0?(b-j)/j*100:0,$=f[0],I=m[0];return[{icon:we,color:"text-blue-400",title:"Gasto promedio",value:`$${g.toFixed(2)}`,subtitle:"por transaccin"},{icon:M>0?we:bs,color:M>0?"text-red-400":"text-green-400",title:"Cambio mensual",value:`${M>0?"+":""}${M.toFixed(1)}%`,subtitle:"vs mes anterior"},{icon:Kl,color:"text-purple-400",title:"Categora top",value:($==null?void 0:$.name)||"N/A",subtitle:`$${($==null?void 0:$.value.toFixed(2))||0}`},{icon:Qp,color:"text-yellow-400",title:"Comercio frecuente",value:(I==null?void 0:I.name.substring(0,15))||"N/A",subtitle:`${(I==null?void 0:I.count)||0} transacciones`}]},[d,f,m]),w=y.useMemo(()=>{const p=new Date,x=new Date(p.getFullYear(),p.getMonth()+1,0).getDate(),g=p.getDate(),_=d.filter(j=>{const M=new Date(j.date);return M.getMonth()===p.getMonth()&&M.getFullYear()===p.getFullYear()&&i(j)==="expense"}).reduce((j,M)=>j+Math.abs(M.amount),0),T=_/g*x,b=x-g;return{current:_,projected:T,remaining:T-_,daysLeft:b,dailyAverage:_/g}},[d]);return s?n.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-400"})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:" Anlisis Avanzado"}),n.jsx("p",{className:"text-white/60",children:"Insights profundos de tus finanzas personales"})]}),n.jsx(F,{className:"p-2 mb-6",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xs,{className:"w-5 h-5 text-white/50"}),n.jsx("span",{className:"text-sm text-white/70 mr-2",children:"Perodo"}),n.jsx("div",{className:"flex gap-1",children:["1M","3M","6M","1Y"].map(p=>n.jsx("button",{onClick:()=>o(p),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${a===p?"bg-primary-500 text-white":"bg-white/5 text-white/70 hover:bg-white/10"}`,children:p},p))})]})}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:v.map((p,x)=>{const g=p.icon;return n.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},children:n.jsxs(F,{className:"p-4",children:[n.jsx(g,{className:`w-6 h-6 ${p.color} mb-2`}),n.jsx("p",{className:"text-xs text-white/50 mb-1",children:p.title}),n.jsx("p",{className:"text-xl font-bold text-white mb-1",children:p.value}),n.jsx("p",{className:"text-xs text-white/40",children:p.subtitle})]})},x)})}),n.jsxs(F,{className:"p-6 mb-6 bg-gradient-to-r from-blue-500/10 to-purple-500/10 border-blue-500/20",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:" Proyeccin del mes"}),n.jsx("p",{className:"text-sm text-white/60",children:"Basado en tu ritmo actual de gastos"})]}),n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/20 rounded-full",children:[n.jsx(Vl,{className:"w-4 h-4 text-blue-400"}),n.jsxs("span",{className:"text-sm text-blue-400 font-medium",children:[w.daysLeft," das restantes"]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-white/50 mb-1",children:"Gastado"}),n.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",w.current.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-white/50 mb-1",children:"Proyectado"}),n.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["$",w.projected.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-white/50 mb-1",children:"Promedio diario"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:["$",w.dailyAverage.toFixed(2)]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs(F,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Tendencia Mensual"}),n.jsx(fe,{width:"100%",height:250,children:n.jsxs(hr,{data:u,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorIncome2",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#22C55E",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#22C55E",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorExpense2",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),n.jsx(mt,{strokeDasharray:"3 3",stroke:"#ffffff10"}),n.jsx(Ye,{dataKey:"month",stroke:"#ffffff50",style:{fontSize:11}}),n.jsx(Xe,{stroke:"#ffffff50",style:{fontSize:11}}),n.jsx(ge,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #ffffff20",borderRadius:"8px",color:"#fff"}}),n.jsx(kt,{type:"monotone",dataKey:"Ingresos",stroke:"#22C55E",fill:"url(#colorIncome2)"}),n.jsx(kt,{type:"monotone",dataKey:"Gastos",stroke:"#EF4444",fill:"url(#colorExpense2)"})]})})]}),n.jsxs(F,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Gastos por Da de la Semana"}),n.jsx(fe,{width:"100%",height:250,children:n.jsxs(ds,{data:h,children:[n.jsx(mt,{strokeDasharray:"3 3",stroke:"#ffffff10"}),n.jsx(Ye,{dataKey:"day",stroke:"#ffffff50",style:{fontSize:11}}),n.jsx(Xe,{stroke:"#ffffff50",style:{fontSize:11}}),n.jsx(ge,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #ffffff20",borderRadius:"8px",color:"#fff"}}),n.jsx(Ze,{dataKey:"amount",fill:"#05BFDB",radius:[4,4,0,0]})]})})]}),n.jsxs(F,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Distribucin por Categora"}),n.jsx(fe,{width:"100%",height:250,children:n.jsxs(Zs,{children:[n.jsx(Qs,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:x})=>`${p}: ${(x*100).toFixed(0)}%`,outerRadius:90,fill:"#8884d8",dataKey:"value",children:f.map((p,x)=>n.jsx(Qt,{fill:Zi[x%Zi.length]},`cell-${x}`))}),n.jsx(ge,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #ffffff20",borderRadius:"8px",color:"#fff"}})]})})]}),n.jsxs(F,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Patrones de Gasto"}),n.jsx(fe,{width:"100%",height:250,children:n.jsxs(Dc,{data:N,children:[n.jsx(Ec,{stroke:"#ffffff20"}),n.jsx(Mc,{dataKey:"category",stroke:"#ffffff50",style:{fontSize:11}}),n.jsx(Pc,{stroke:"#ffffff50",style:{fontSize:11}}),n.jsx(Rc,{name:"Gasto",dataKey:"normalized",stroke:"#05BFDB",fill:"#05BFDB",fillOpacity:.6}),n.jsx(ge,{contentStyle:{backgroundColor:"#1a1a2e",border:"1px solid #ffffff20",borderRadius:"8px",color:"#fff"}})]})})]})]}),n.jsxs(F,{className:"p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:" Top 10 Comercios"}),n.jsx("div",{className:"space-y-3",children:m.map((p,x)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-500/20 flex items-center justify-center",children:n.jsxs("span",{className:"text-sm font-bold text-primary-400",children:["#",x+1]})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"font-medium text-white",children:p.name}),n.jsxs("span",{className:"text-sm font-semibold text-white",children:["$",p.amount.toFixed(2)]})]}),n.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:n.jsx(W.div,{initial:{width:0},animate:{width:`${p.amount/m[0].amount*100}%`},transition:{duration:.5,delay:x*.05},className:"h-full rounded-full bg-gradient-to-r from-primary-400 to-primary-600"})}),n.jsxs("p",{className:"text-xs text-white/50 mt-1",children:[p.count," transacciones"]})]})]},x))})]})]})})},vt=[{id:1,icon:n.jsx(os,{className:"w-12 h-12"}),title:"Bienvenido a Smarter Investment!",description:"Tu asistente financiero personal que te ayudar a tomar el control de tus finanzas de manera inteligente.",tip:" Esta app funciona 100% offline despus de cargar"},{id:2,icon:n.jsx(ht,{className:"w-12 h-12"}),title:"Registra tus Transacciones",description:"Aade tus ingresos y gastos fcilmente. Categoriza cada movimiento para un mejor control.",tip:" Toca el botn + para agregar una transaccin rpida"},{id:3,icon:n.jsx(yt,{className:"w-12 h-12"}),title:"Crea Presupuestos",description:"Establece lmites de gasto por categora y recibe alertas cuando te acerques al lmite.",tip:" Te recomendamos la regla 50/30/20: Necesidades, Deseos, Ahorro"},{id:4,icon:n.jsx(Be,{className:"w-12 h-12"}),title:"Define tus Metas",description:"Crea metas de ahorro con fecha lmite. Visualiza tu progreso y mantente motivado.",tip:" Empieza con una meta pequea para crear el hbito"},{id:5,icon:n.jsx(ut,{className:"w-12 h-12"}),title:"Transacciones Recurrentes",description:"Configura tus ingresos y gastos fijos como salario, alquiler, suscripciones.",tip:" Esto te ayuda a proyectar tu flujo de caja mensual"},{id:6,icon:n.jsx(we,{className:"w-12 h-12"}),title:"Reportes Detallados",description:"Analiza tus finanzas con grficos interactivos. Ve tendencias y compara meses.",tip:" Revisa tus reportes cada semana para detectar patrones"},{id:7,icon:n.jsx(Rt,{className:"w-12 h-12"}),title:"Asistente IA",description:"Pregntale cualquier cosa sobre tus finanzas. Te dar consejos personalizados basados en tus datos.",tip:' Prueba preguntar: "Cmo puedo ahorrar ms?"'},{id:8,icon:n.jsx(gt,{className:"w-12 h-12"}),title:"Alertas Inteligentes",description:"Recibe notificaciones cuando excedas presupuestos, alcances metas o tengas pagos prximos.",tip:" Activa las notificaciones para no perder recordatorios"}],K0=({isOpen:e,onClose:t,onComplete:s})=>{const{theme:r}=de(),a=_e(r),[o,i]=y.useState(0),l=()=>{o<vt.length-1?i(f=>f+1):s()},c=()=>{o>0&&i(f=>f-1)},d=()=>{s()};if(!e)return null;const u=vt[o],h=o===vt.length-1,m=(o+1)/vt.length*100;return n.jsx(ke,{children:n.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0,0,0,0.9)"},children:[n.jsx("div",{className:"absolute inset-0 blur-3xl opacity-30",style:{background:`radial-gradient(circle at center, ${a.primary}40 0%, transparent 70%)`}}),n.jsxs(W.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-lg rounded-3xl overflow-hidden",style:{backgroundColor:"rgba(15, 20, 30, 0.95)",border:`1px solid ${a.primary}30`,boxShadow:`0 0 60px ${a.primary}20`},children:[n.jsx("div",{className:"h-1 bg-white/10",children:n.jsx(W.div,{className:"h-full",style:{backgroundColor:a.primary},initial:{width:0},animate:{width:`${m}%`},transition:{duration:.3}})}),n.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[n.jsx("button",{onClick:d,className:"px-3 py-1 text-sm text-white/50 hover:text-white transition-colors",children:"Saltar"}),n.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 text-white/50 hover:text-white transition-colors",children:n.jsx(cs,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"absolute top-4 left-4",children:n.jsxs("span",{className:"text-sm text-white/50",children:[o+1," / ",vt.length]})}),n.jsx("div",{className:"p-8 pt-12",children:n.jsx(ke,{mode:"wait",children:n.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"text-center",children:[n.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-2xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${a.primary}30, ${a.primary}10)`,border:`2px solid ${a.primary}40`,boxShadow:`0 0 40px ${a.primary}20`},children:n.jsx("div",{style:{color:a.primary},children:u.icon})}),n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:u.title}),n.jsx("p",{className:"text-white/70 text-lg mb-6 leading-relaxed",children:u.description}),n.jsx("div",{className:"p-4 rounded-xl text-left",style:{backgroundColor:`${a.primary}10`,border:`1px solid ${a.primary}30`},children:n.jsx("p",{className:"text-sm",style:{color:a.primary},children:u.tip})})]},u.id)})}),n.jsx("div",{className:"flex justify-center gap-2 pb-4",children:vt.map((f,N)=>n.jsx("button",{onClick:()=>i(N),className:"w-2 h-2 rounded-full transition-all",style:{backgroundColor:N===o?a.primary:"rgba(255,255,255,0.2)",transform:N===o?"scale(1.5)":"scale(1)"}},N))}),n.jsxs("div",{className:"flex gap-3 p-6 pt-2",children:[o>0&&n.jsxs("button",{onClick:c,className:"flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2 transition-all hover:bg-white/10",style:{backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},children:[n.jsx(Zp,{className:"w-5 h-5"}),"Anterior"]}),n.jsx("button",{onClick:l,className:"flex-1 py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all hover:scale-[1.02]",style:{background:`linear-gradient(135deg, ${a.primary}, ${a.primary}CC)`,boxShadow:`0 4px 20px ${a.primary}40`,color:"white"},children:h?n.jsxs(n.Fragment,{children:[n.jsx(sf,{className:"w-5 h-5"}),"Comenzar!"]}):n.jsxs(n.Fragment,{children:["Siguiente",n.jsx(Ll,{className:"w-5 h-5"})]})})]})]})]})})},W0={dashboard:uc,transactions:l0,budgets:c0,goals:x0,reports:j0,"advanced-analytics":q0,settings:N0,assistant:D0,recurring:L0,more:U0},H0=({theme:e})=>{const s=(()=>{switch(e){case"pink":return{bg:"radial-gradient(ellipse at center, #2d1025 0%, #1a0a14 50%, #000000 100%)",neonColor:"#ec4899",neonGlow:"#ff69b4",glowIntense:"rgba(236, 72, 153, 0.8)",glowMedium:"rgba(236, 72, 153, 0.4)",glowSoft:"rgba(236, 72, 153, 0.2)",particleColor:"rgba(236, 72, 153, 0.6)"};case"purple":return{bg:"radial-gradient(ellipse at center, #2d1b4e 0%, #1a1033 50%, #000000 100%)",neonColor:"#a855f7",neonGlow:"#c084fc",glowIntense:"rgba(168, 85, 247, 0.8)",glowMedium:"rgba(168, 85, 247, 0.4)",glowSoft:"rgba(168, 85, 247, 0.2)",particleColor:"rgba(168, 85, 247, 0.6)"};case"turquoise":return{bg:"radial-gradient(ellipse at center, #042f2e 0%, #021a19 50%, #000000 100%)",neonColor:"#14b8a6",neonGlow:"#2dd4bf",glowIntense:"rgba(20, 184, 166, 0.8)",glowMedium:"rgba(20, 184, 166, 0.4)",glowSoft:"rgba(20, 184, 166, 0.2)",particleColor:"rgba(20, 184, 166, 0.6)"};default:return{bg:"radial-gradient(ellipse at center, #062a3a 0%, #011520 50%, #000000 100%)",neonColor:"#05BFDB",neonGlow:"#00fff7",glowIntense:"rgba(5, 191, 219, 0.8)",glowMedium:"rgba(5, 191, 219, 0.4)",glowSoft:"rgba(5, 191, 219, 0.2)",particleColor:"rgba(5, 191, 219, 0.6)"}}})();return n.jsxs("div",{className:"min-h-screen flex items-center justify-center overflow-hidden relative",style:{background:s.bg},children:[n.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((r,a)=>n.jsx("div",{className:"absolute rounded-full animate-float",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,backgroundColor:s.particleColor,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*10+10}s`,boxShadow:`0 0 ${Math.random()*10+5}px ${s.particleColor}`}},a))}),n.jsx("div",{className:"absolute w-96 h-96 rounded-full blur-3xl opacity-30 animate-pulse",style:{backgroundColor:s.neonColor}}),n.jsxs("div",{className:"relative z-10 text-center",children:[n.jsx("div",{className:"absolute inset-0 -m-4 rounded-3xl animate-pulse",style:{boxShadow:`
              0 0 30px ${s.glowMedium},
              0 0 60px ${s.glowSoft},
              0 0 90px ${s.glowSoft}
            `}}),n.jsx("div",{className:"relative p-2 rounded-2xl",style:{background:`linear-gradient(135deg, ${s.neonColor}40, transparent, ${s.neonColor}40)`},children:n.jsxs("div",{className:"relative rounded-xl overflow-hidden",style:{boxShadow:`
                0 0 20px ${s.glowIntense},
                inset 0 0 20px ${s.glowMedium},
                0 0 40px ${s.glowMedium},
                0 0 80px ${s.glowSoft}
              `,border:`2px solid ${s.neonColor}`},children:[n.jsx("img",{src:"/logo-smarter.jpg",alt:"Smarter Investment",className:"w-28 h-28 md:w-36 md:h-36 object-cover",style:{filter:`drop-shadow(0 0 10px ${s.glowMedium})`}}),n.jsx("div",{className:"absolute inset-0 animate-shimmer",style:{background:`linear-gradient(
                  90deg, 
                  transparent, 
                  ${s.neonColor}30, 
                  transparent
                )`,backgroundSize:"200% 100%"}})]})}),n.jsx("h1",{className:"mt-8 text-2xl md:text-3xl font-bold tracking-wide",style:{color:"#ffffff",textShadow:`0 0 20px ${s.neonColor}, 0 0 40px ${s.glowMedium}`},children:"Smarter Investment"}),n.jsx("p",{className:"mt-2 text-sm tracking-widest uppercase",style:{color:s.neonColor},children:"Tu gestor financiero personal"}),n.jsx("div",{className:"mt-8 flex items-center justify-center gap-2",children:[0,1,2].map(r=>n.jsx("div",{className:"w-3 h-3 rounded-full animate-bounce",style:{backgroundColor:s.neonColor,boxShadow:`0 0 10px ${s.neonColor}, 0 0 20px ${s.glowMedium}`,animationDelay:`${r*.15}s`}},r))}),n.jsx("p",{className:"mt-4 text-sm animate-pulse",style:{color:"rgba(255,255,255,0.6)"},children:"Cargando..."})]}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1",style:{background:`linear-gradient(90deg, transparent, ${s.neonColor}, transparent)`,boxShadow:`0 0 20px ${s.neonColor}`}}),n.jsx("style",{children:`
        @keyframes float {
          0%, 100% { 
            transform: translateY(0px) translateX(0px); 
            opacity: 0.6;
          }
          25% { 
            transform: translateY(-20px) translateX(10px); 
            opacity: 1;
          }
          50% { 
            transform: translateY(-10px) translateX(-10px); 
            opacity: 0.8;
          }
          75% { 
            transform: translateY(-30px) translateX(5px); 
            opacity: 0.6;
          }
        }
        
        @keyframes shimmer {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
        
        .animate-float {
          animation: float linear infinite;
        }
        
        .animate-shimmer {
          animation: shimmer 2s ease-in-out infinite;
        }
      `})]})};function Y0(){const{user:e,isAuthLoading:t,setUser:s,setAuthLoading:r,theme:a,activePage:o,isLoading:i}=de(),[l,c]=y.useState(!0),[d,u]=y.useState(!1),h=v=>{const w=`smarter-tutorial-completed-${v}`;return localStorage.getItem(w)==="true"},m=()=>{if(e!=null&&e.uid){const v=`smarter-tutorial-completed-${e.uid}`;localStorage.setItem(v,"true")}u(!1)},f=()=>{u(!0)};if(y.useEffect(()=>(window.openTutorial=f,()=>{delete window.openTutorial}),[]),y.useEffect(()=>{oo(a)},[a]),y.useEffect(()=>{const v=Yc(xe,w=>{w?(s({uid:w.uid,email:w.email,displayName:w.displayName,photoURL:w.photoURL}),h(w.uid)||setTimeout(()=>u(!0),2e3)):s(null),r(!1),setTimeout(()=>c(!1),1500)});return()=>v()},[s,r]),l||t)return n.jsx(H0,{theme:a});if(!e)return n.jsxs(n.Fragment,{children:[n.jsx(r0,{}),n.jsx(Ki,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#1a1a2e",color:"#fff",border:"1px solid rgba(255,255,255,0.1)"}}})]});const N=W0[o]||uc;return n.jsxs(n.Fragment,{children:[n.jsx(s0,{children:i?n.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-xl animate-pulse",style:{boxShadow:`0 0 30px ${_e(a).primary}`,border:`2px solid ${_e(a).primary}`},children:n.jsx("img",{src:"/logo-smarter.jpg",alt:"",className:"w-full h-full rounded-xl object-cover"})}),n.jsx("p",{className:"text-white/60",children:"Cargando..."})]})}):n.jsx(N,{})}),n.jsx(K0,{isOpen:d,onClose:()=>u(!1),onComplete:m}),n.jsx(Ki,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#1a1a2e",color:"#fff",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"},success:{iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}Qc.createRoot(document.getElementById("root")).render(n.jsx(lt.StrictMode,{children:n.jsx(Y0,{})}));
